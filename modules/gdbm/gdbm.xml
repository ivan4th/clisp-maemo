<?xml version="1.0" encoding="UTF-8"?>

<section id="gdbm"><title>GDBM - The GNU database manager</title>

<para>This is an interface to the &gdbm;.</para>
<simpara>When this module is present, &features-my; contains the
 symbol <constant>:GDBM</constant>.</simpara>

<variablelist id="gdbm-api"><title>GDBM module API</title>
 <varlistentry id="gdbm-open"><term><code>(GDBM:GDBM-OPEN &filename-r;
    &key-amp; :BLOCKSIZE :READ-WRITE :OPTION :MODE)</code></term>
  <listitem><para>Open &filename-r; database file.
    The return value is a <type>GDBM</type> structure.
    If the return value is &nil;, GDBM-OPEN was not successful.
    <literal>:READ-WRITE</literal> can have one of following values:
    <simplelist>
     <member><literal>:READER</literal></member>
     <member><literal>:WRITER</literal></member>
     <member><literal>:WRCREAT</literal></member>
     <member><literal>:NEWDB</literal></member>
    </simplelist>
    and <literal>:OPTION</literal> is one of
    <simplelist>
     <member><literal>:SYNC</literal></member>
     <member><literal>:NOLOCK</literal></member>
     <member><literal>:FAST</literal></member>
    </simplelist>.
 </para></listitem></varlistentry>
 <varlistentry id="gdbm-close">
  <term><code>(GDBM:GDBM-CLOSE gdbm)</code></term>
  <listitem><simpara>Close the database.
 </simpara></listitem></varlistentry>
 <varlistentry id="gdbm-store">
  <term><code>(GDBM:GDBM-STORE &db-r; &key-r; &cont-r; &key-amp;
    :FLAG)</code></term>
  <listitem><para>&db-r; is the <type>GDBM</type> structure
    returned by <function>GDBM-OPEN</function>.
    &key-r; is the key data.
    &cont-r; is the data to be associated with the key.
    <literal>:FLAG</literal> can have one of following values:
    <simplelist>
     <member><literal>:INSERT</literal></member>
     <member><literal>:REPLACE</literal></member>
    </simplelist>.
 </para></listitem></varlistentry>
 <varlistentry id="gdbm-fetch">
  <term><code>(GDBM:GDBM-FETCH &db-r; &key-r; &key-amp; :BINARY)</code></term>
  <listitem><simpara>Search data. If <literal>:BINARY</literal> option
    is &nil; return value is a &string-t;, otherwise a &ubyte-vec;.
 </simpara></listitem></varlistentry>
 <varlistentry id="gdbm-delete">
  <term><code>(GDBM:GDBM-DELETE &db-r; &key-r;)</code></term>
  <listitem><simpara>Delete &key-r; and its contents.
 </simpara></listitem></varlistentry>
 <varlistentry id="gdbm-exists">
  <term><code>(GDBM:GDBM-EXISTS &db-r; &key-r;)</code></term>
  <listitem><simpara>Search data without retrieving it.
 </simpara></listitem></varlistentry>
 <varlistentry id="gdbm-firstkey">
  <term><code>(GDBM:GDBM-FIRSTKEY &db-r;)</code></term>
  <listitem><simpara>Return the key of the first entry.
    If the database has no entries, the return value is &nil;.
 </simpara></listitem></varlistentry>
 <varlistentry id="gdbm-nextkey">
  <term><code>(GDBM:GDBM-NEXTKEY &db-r; &key-r;)</code></term>
  <listitem><simpara>Return the key that follows &key-r;.
 </simpara></listitem></varlistentry>
 <varlistentry id="gdbm-reorganize">
  <term><code>(GDBM:GDBM-REORGANIZE &db-r;)</code></term>
  <listitem><simpara>Reorganize database.</simpara></listitem></varlistentry>
 <varlistentry id="gdbm-sync">
  <term><code>(GDBM:GDBM-SYNC &db-r;)</code></term>
  <listitem><simpara>The in-memory state of the database syncronized to
    the disk file.</simpara></listitem></varlistentry>
 <varlistentry id="gdbm-setopt">
  <term><code>(GDBM:GDBM-SETOPT &db-r; &option-r; &value-r;)</code></term>
  <listitem><para>Set options on an already open database.
    &option-r; is one of following:
    <variablelist>
     <varlistentry><term><literal>:CACHESIZE</literal></term>
      <listitem><simpara>set the size of the internal bucket cache.
        (default is 100)</simpara></listitem></varlistentry>
     <varlistentry><term><literal>:FASTMODE</literal></term>
      <listitem><simpara>&t; or &nil; (obsolete)
     </simpara></listitem></varlistentry>
     <varlistentry><term><literal>:SYNCMODE</literal></term>
      <listitem><simpara>&t; or &nil;</simpara></listitem></varlistentry>
     <varlistentry><term><literal>:CENTFREE</literal></term>
      <listitem><simpara>&t; or &nil;</simpara></listitem></varlistentry>
     <varlistentry><term><literal>:COALESCEBLKS</literal></term>
      <listitem><simpara>&t; or &nil;</simpara></listitem></varlistentry>
 </variablelist></para></listitem></varlistentry>
</variablelist>
</section>
