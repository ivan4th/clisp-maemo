<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>CLISP implementation notes</title><meta name="generator" content="DocBook XSL Stylesheets V1.36"><meta name="keywords" content="Lisp, Common Lisp, CLISP"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" id="d39e2"><div class="titlepage"><div><h1 class="title"><a name="d39e2"></a>CLISP implementation notes</h1></div><div><h3 class="author"></h3><h3 class="author">Dr.
       Bruno Haible</h3><h3 class="author">Dr.
       Sam Steingold</h3></div><div><div class="legalnotice"><p>These notes are covered by the <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/copyleft/fdl.html" target="_top">GFDL</a>:</p><p>Permission is granted to copy, distribute and/or modify this
  document under the terms of the GNU Free Documentation License,
  Version 1.1 or any later version published by the Free Software
  Foundation; with the Invariant Sections being this section [FIXME],
  with the Front-Cover Texts being this section [FIXME], and with the
  Back-Cover Texts being this section [FIXME].
  A copy of the license is not yet [FIXME] included in the section
  entitled "GNU Free Documentation License".</p></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e50"><span class="inlinemediaobject"><img src="clisp.gif" height="48" width="48" alt="[CLISP icon]"></span></a></dt><dt>1 <a href="#intro">Introduction
  <a href="http://www.lisp.org/HyperSpec/Body/chap-1.html" target="_top">[CLHS-1]</a></a></dt><dd><dl><dt> <a href="#d39e368">Special Symbols
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-1-3.html" target="_top">[CLHS-1.4.1.3]</a></a></dt><dt> <a href="#d39e415">Error Terminology
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-2.html" target="_top">[CLHS-1.4.2]</a></a></dt><dt> <a href="#d39e429">Class Precedence Lists
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-4-5.html" target="_top">[CLHS-1.4.4.5]</a></a></dt><dt> <a href="#d39e464">Symbols in the Package <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a>
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-9.html" target="_top">[CLHS-1.9]</a></a></dt></dl></dd><dt>2 <a href="#syntax">Syntax
   <a href="http://www.lisp.org/HyperSpec/Body/chap-2.html" target="_top">[CLHS-2]</a></a></dt><dd><dl><dt> <a href="#d39e613">Symbols as Tokens
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-3-4.html" target="_top">[CLHS-2.3.4]</a></a></dt><dt> <a href="#d39e625">Valid Patterns for Tokens
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-3-5.html" target="_top">[CLHS-2.3.5]</a></a></dt><dt> <a href="#d39e644">Double-Quote
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-5.html" target="_top">[CLHS-2.4.5]</a></a></dt><dt> <a href="#d39e651">Backquote
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-6.html" target="_top">[CLHS-2.4.6]</a></a></dt><dt> <a href="#d39e697">Sharpsign
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8.html" target="_top">[CLHS-2.4.8]</a></a></dt></dl></dd><dt>3 <a href="#eval">Evaluation and Compilation
   <a href="http://www.lisp.org/HyperSpec/Body/chap-3.html" target="_top">[CLHS-3]</a></a></dt><dd><dl><dt> <a href="#d39e754">Evaluation
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1.html" target="_top">[CLHS-3.1]</a></a></dt><dd><dl><dt> <a href="#d39e759">Introduction to Environments
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1.html" target="_top">[CLHS-3.1.1]</a></a></dt></dl></dd><dt> <a href="#d39e792">Compilation
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2.html" target="_top">[CLHS-3.2]</a></a></dt><dd><dl><dt> <a href="#d39e797">Compiler Terminology
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2-1.html" target="_top">[CLHS-3.2.1]</a></a></dt><dt> <a href="#d39e807">Definition of Similarity
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2-4-2-2.html" target="_top">[CLHS-3.2.4.2.2]</a></a></dt></dl></dd><dt> <a href="#d39e817">Declarations
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-3.html" target="_top">[CLHS-3.3]</a></a></dt><dd><dl><dt> <a href="#compile-decl">Additional declarations</a></dt></dl></dd><dt> <a href="#lalist">Lambda Lists
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4.html" target="_top">[CLHS-3.4]</a></a></dt><dd><dl><dt> <a href="#d39e943">Boa Lambda Lists
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-6.html" target="_top">[CLHS-3.4.6]</a></a></dt></dl></dd><dt> <a href="#d39e957">The Evaluation and Compilation Dictionary
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-8.html" target="_top">[CLHS-3.8]</a></a></dt><dd><dl><dt> <a href="#d39e962">Declaration <a href="http://www.lisp.org/HyperSpec/Body/dec_special.html" target="_top"><tt>SPECIAL</tt></a></a></dt><dt> <a href="#d39e1011">Macro <a href="http://www.lisp.org/HyperSpec/Body/speope_eval-when.html" target="_top"><tt>EVAL-WHEN</tt></a></a></dt></dl></dd></dl></dd><dt>4 <a href="#types">Types and Classes
   <a href="http://www.lisp.org/HyperSpec/Body/chap-4.html" target="_top">[CLHS-4]</a></a></dt><dd><dl><dt> <a href="#d39e1033">Types
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-2.html" target="_top">[CLHS-4.2]</a></a></dt><dd><dl><dt> <a href="#d39e1038">Type Specifiers
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-2-3.html" target="_top">[CLHS-4.2.3]</a></a></dt></dl></dd><dt> <a href="#d39e1515">Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3.html" target="_top">[CLHS-4.3]</a></a></dt><dt> <a href="#clos-diff">Deviations from [<a href="#ansi-cl">ANSI CL standard</a>]:</a></dt><dt> <a href="#d39e1675">Standard Metaclasses
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-1-1.html" target="_top">[CLHS-4.3.1.1]</a></a></dt><dt> <a href="#d39e1846">Defining Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-2.html" target="_top">[CLHS-4.3.2]</a></a></dt><dt> <a href="#d39e1871">Redefining Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-6.html" target="_top">[CLHS-4.3.6]</a></a></dt><dt> <a href="#d39e1882">Integrating Types and Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-7.html" target="_top">[CLHS-4.3.7]</a></a></dt></dl></dd><dt>5 <a href="#data">Data and Control Flow
   <a href="http://www.lisp.org/HyperSpec/Body/chap-5.html" target="_top">[CLHS-5]</a></a></dt><dd><dl><dt> <a href="#d39e1898">The Data and Control Flow Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_data__w_dictionary.html" target="_top">[CLHS-5.3]</a></a></dt><dd><dl><dt> <a href="#d39e1984">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><tt>EQ</tt></a></a></dt><dt> <a href="#d39e2014">Function <a href="http://www.lisp.org/HyperSpec/Body/acc_symbol-function.html" target="_top"><tt>SYMBOL-FUNCTION</tt></a></a></dt><dt> <a href="#d39e2051">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a></a></dt><dt> <a href="#d39e2391">Special Operator <a href="http://www.lisp.org/HyperSpec/Body/speope_function.html" target="_top"><tt>FUNCTION</tt></a></a></dt><dt> <a href="#d39e2449">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>DEFINE-SYMBOL-MACRO</tt></a></a></dt><dt> <a href="#d39e2567">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_lambda.html" target="_top"><tt>LAMBDA</tt></a></a></dt><dt> <a href="#d39e2674">Macros <a href="http://www.lisp.org/HyperSpec/Body/mac_defun.html" target="_top"><tt>DEFUN</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/mac_defmacro.html" target="_top"><tt>DEFMACRO</tt></a></a></dt></dl></dd></dl></dd><dt>6 <a href="#iteration">Iteration
   <a href="http://www.lisp.org/HyperSpec/Body/chap-6.html" target="_top">[CLHS-6]</a></a></dt><dt>7 <a href="#objects">Objects
   <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top">[CLHS-7]</a></a></dt><dt>8 <a href="#structures">Structures
   <a href="http://www.lisp.org/HyperSpec/Body/chap-8.html" target="_top">[CLHS-8]</a></a></dt><dt>9 <a href="#conditions">Conditions
   <a href="http://www.lisp.org/HyperSpec/Body/chap-9.html" target="_top">[CLHS-9]</a></a></dt><dd><dl><dt> <a href="#d39e3201">Embedded Newlines in Condition Reports
   <a href="http://www.lisp.org/HyperSpec/Body/sec_9-1-3-1-3.html" target="_top">[CLHS-9.1.3.1.3]</a></a></dt><dt> <a href="#d39e3208">The Conditions Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_condi_s_dictionary.html" target="_top">[CLHS-9.2.]</a></a></dt></dl></dd><dt>10 <a href="#symbols">Symbols
   <a href="http://www.lisp.org/HyperSpec/Body/chap-10.html" target="_top">[CLHS-10]</a></a></dt><dt>11 <a href="#packages">Packages
   <a href="http://www.lisp.org/HyperSpec/Body/chap-11.html" target="_top">[CLHS-11]</a></a></dt><dd><dl><dt> <a href="#clupack">The COMMON-LISP-USER Package
   <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top">[CLHS-11.1.2.2]</a></a></dt><dt> <a href="#imppack">Implementation-Defined Packages
   <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-4.html" target="_top">[CLHS-11.1.2.4]</a></a></dt><dt> <a href="#d39e3528">The Packages Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_packa_s_dictionary.html" target="_top">[CLHS-11.2.]</a></a></dt><dd><dl><dt> <a href="#d39e3533">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_make-package.html" target="_top"><tt>MAKE-PACKAGE</tt></a></a></dt></dl></dd></dl></dd><dt>12 <a href="#numbers">Numbers
   <a href="http://www.lisp.org/HyperSpec/Body/chap-12.html" target="_top">[CLHS-12]</a></a></dt><dd><dl><dt> <a href="#d39e3614">Numeric Types</a></dt><dt> <a href="#d39e3699">Number Concepts
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1.html" target="_top">[CLHS-12.1]</a></a></dt><dd><dl><dt> <a href="#d39e3704">Byte Operations on Integers
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-1-3-2.html" target="_top">[CLHS-12.1.1.3.2]</a></a></dt><dt> <a href="#d39e3714">Rule of Float Substitutability
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-3-3.html" target="_top">[CLHS-12.1.3.3]</a></a></dt><dt> <a href="#d39e3721">Floating-point Computations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-4.html" target="_top">[CLHS-12.1.4]</a></a></dt><dt> <a href="#d39e4175">Complex Computations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-5.html" target="_top">[CLHS-12.1.5]</a></a></dt><dt> <a href="#d39e4249">Rule of Canonical Representation for Complex Rationals
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-5-3.html" target="_top">[CLHS-12.1.5.3]</a></a></dt></dl></dd><dt> <a href="#d39e4289">The Numbers Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_numbers_dictionary.html" target="_top">[CLHS-12.2]</a></a></dt><dd><dl><dt> <a href="#d39e4324">Additional Integer Functions</a></dt><dt> <a href="#d39e4458">Floating Point</a></dt><dt> <a href="#d39e4534">Float Decoding
   <a href="http://www.lisp.org/HyperSpec/Body/fun_decode-fl_decode-float.html" target="_top">[CLHS]</a></a></dt><dt> <a href="#d39e4577">Boolean Operations
   <a href="http://www.lisp.org/HyperSpec/Body/convar_boole-_cm_boole-xor.html" target="_top">[CLHS]</a></a></dt><dt> <a href="#d39e4685">Fixnum Limits
   <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_ative-fixnum.html" target="_top">[CLHS]</a></a></dt><dt> <a href="#d39e4740">Float Limits
   <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top">[CLHS]</a></a></dt><dt> <a href="#d39e4790">Condition <a href="http://www.lisp.org/HyperSpec/Body/contyp_floati_id-operation.html" target="_top"><tt>FLOATING-POINT-INVALID-OPERATION</tt></a></a></dt><dt> <a href="#d39e4802">Condition <a href="http://www.lisp.org/HyperSpec/Body/contyp_floati_oint-inexact.html" target="_top"><tt>FLOATING-POINT-INEXACT</tt></a></a></dt></dl></dd></dl></dd><dt>13 <a href="#characters">Characters
   <a href="http://www.lisp.org/HyperSpec/Body/chap-13.html" target="_top">[CLHS-13]</a></a></dt><dd><dl><dt> <a href="#d39e6941">Attributes</a></dt><dt> <a href="#d39e7185">Character Scripts
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-2-1.html" target="_top">[CLHS-13.1.2.1]</a></a></dt><dt> <a href="#d39e7196">Character Attributes
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-3.html" target="_top">[CLHS-13.1.3]</a></a></dt><dt> <a href="#d39e7203">Graphic Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-1.html" target="_top">[CLHS-13.1.4.1]</a></a></dt><dt> <a href="#d39e7222">Alphabetic Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-2.html" target="_top">[CLHS-13.1.4.2]</a></a></dt><dt> <a href="#d39e7229">Case of Implementation-Defined Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-3-4.html" target="_top">[CLHS-13.1.4.3.4]</a></a></dt><dt> <a href="#d39e7292">Numeric Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-4.html" target="_top">[CLHS-13.1.4.4]</a></a></dt><dt> <a href="#d39e7299">Ordering of Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-6.html" target="_top">[CLHS-13.1.6]</a></a></dt><dt> <a href="#clhs-newline">Treatment of Newline during Input and Output
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-8.html" target="_top">[CLHS-13.1.8]</a></a></dt><dt> <a href="#d39e7388">Character Encodings
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-9.html" target="_top">[CLHS-13.1.9]</a></a></dt><dt> <a href="#d39e7399">Character Encodings
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-10.html" target="_top">[CLHS-13.1.10]</a></a></dt><dt> <a href="#d39e7409">The Characters Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_chara_s_dictionary.html" target="_top">[CLHS-13.2.]</a></a></dt><dt> <a href="#char-width">Functions on characters</a></dt><dt> <a href="#d39e7540">platform-dependent characters</a></dt><dt> <a href="#d39e8542">Obsolete Constants</a></dt></dl></dd><dt>14 <a href="#conses">Conses
   <a href="http://www.lisp.org/HyperSpec/Body/chap-14.html" target="_top">[CLHS-14]</a></a></dt><dd><dl><dt> <a href="#d39e8581">The Conses Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_conses_dictionary.html" target="_top">[CLHS-14.2]</a></a></dt><dd><dl><dt> <a href="#d39e8607">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCAR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCAN</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPLIST</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCON</tt></a>, ...</a></dt></dl></dd></dl></dd><dt>15 <a href="#arrays">Arrays
   <a href="http://www.lisp.org/HyperSpec/Body/chap-15.html" target="_top">[CLHS-15]</a></a></dt><dd><dl><dt> <a href="#d39e8810">Array Elements
   <a href="http://www.lisp.org/HyperSpec/Body/sec_15-1-1.html" target="_top">[CLHS-15.1.1]</a></a></dt><dt> <a href="#d39e8889">The Arrays Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_arrays_dictionary.html" target="_top">[CLHS-15.2]</a></a></dt></dl></dd><dt>16 <a href="#strings">Strings
   <a href="http://www.lisp.org/HyperSpec/Body/chap-16.html" target="_top">[CLHS-16]</a></a></dt><dd><dl><dt> <a href="#d39e8933">The Strings Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_strings_dictionary.html" target="_top">[CLHS-16.2]</a></a></dt></dl></dd><dt>17 <a href="#sequences">Sequences
   <a href="http://www.lisp.org/HyperSpec/Body/chap-17.html" target="_top">[CLHS-17]</a></a></dt><dd><dl><dt> <a href="#d39e8963">The Sequences Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_seque_s_dictionary.html" target="_top">[CLHS-17.3.]</a></a></dt><dd><dl><dt> <a href="#d39e8968">Additional Macros</a></dt><dt> <a href="#d39e9016">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_reversecm_nreverse.html" target="_top"><tt>NREVERSE</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_revappendcm_nreconc.html" target="_top"><tt>NRECONC</tt></a></a></dt><dt> <a href="#d39e9080">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>REMOVE</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>DELETE</tt></a></a></dt><dt> <a href="#d39e9155">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>SORT</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>STABLE-SORT</tt></a></a></dt></dl></dd></dl></dd><dt>18 <a href="#hash">Hash Tables
   <a href="http://www.lisp.org/HyperSpec/Body/chap-18.html" target="_top">[CLHS-18]</a></a></dt><dd><dl><dt> <a href="#d39e9258">The Hash Tables Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_hash__s_dictionary.html" target="_top">[CLHS-18.2.]</a></a></dt><dd><dl><dt> <a href="#d39e9263">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_make-hash-table.html" target="_top"><tt>MAKE-HASH-TABLE</tt></a></a></dt><dt> <a href="#d39e9295">Additional Macros</a></dt></dl></dd></dl></dd><dt>19 <a href="#filenames">Filenames
   <a href="http://www.lisp.org/HyperSpec/Body/chap-19.html" target="_top">[CLHS-19]</a></a></dt><dd><dl><dt> <a href="#d39e9517">Pathname Components
   <a href="http://www.lisp.org/HyperSpec/Body/sec_19-2-1.html" target="_top">[CLHS-19.2.1]</a></a></dt><dt> <a href="#d39e12435">External notation.</a></dt><dt> <a href="#d39e12744">Logical Pathnames
   <a href="http://www.lisp.org/HyperSpec/Body/sec_19-3.html" target="_top">[CLHS-19.3]</a></a></dt><dt> <a href="#d39e12757">The Filenames Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_filen_s_dictionary.html" target="_top">[CLHS-19.4]</a></a></dt><dd><dl><dt> <a href="#parsename">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_parse-namestring.html" target="_top"><tt>PARSE-NAMESTRING</tt></a></a></dt><dt> <a href="#pathmerge">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a></a></dt></dl></dd></dl></dd><dt>20 <a href="#files">Files
   <a href="http://www.lisp.org/HyperSpec/Body/chap-20.html" target="_top">[CLHS-20]</a></a></dt><dd><dl><dt> <a href="#d39e13119">The Files Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_files_dictionary.html" target="_top">[CLHS-20.2]</a></a></dt><dd><dl><dt> <a href="#dir">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_directory.html" target="_top"><tt>DIRECTORY</tt></a></a></dt></dl></dd></dl></dd><dt>21 <a href="#streams">Streams
   <a href="http://www.lisp.org/HyperSpec/Body/chap-21.html" target="_top">[CLHS-21]</a></a></dt><dd><dl><dt> <a href="#d39e13480">Interactive Streams
   <a href="http://www.lisp.org/HyperSpec/Body/sec_21-1-1-1-3.html" target="_top">[CLHS-21.1.1.1.3]</a></a></dt><dt> <a href="#terminal">terminal interaction.</a></dt><dt> <a href="#d39e13999">The Streams Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_streams_dictionary.html" target="_top">[CLHS-21.2.]</a></a></dt><dd><dl><dt> <a href="#d39e14004">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a></a></dt><dt> <a href="#d39e14091">Binary input, <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a>,
  <tt>ext:read-integer</tt> &amp;
  <tt>ext:read-float</tt></a></dt><dt> <a href="#d39e14290">Binary output, <a href="http://www.lisp.org/HyperSpec/Body/fun_write-byte.html" target="_top"><tt>WRITE-BYTE</tt></a>,
  <tt>ext:write-integer</tt> &amp;
  <tt>ext:write-float</tt></a></dt><dt> <a href="#d39e14467">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_read-sequence.html" target="_top"><tt>READ-SEQUENCE</tt></a></a></dt><dt> <a href="#d39e14656">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_write-sequence.html" target="_top"><tt>WRITE-SEQUENCE</tt></a></a></dt><dt> <a href="#d39e14828">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_file-position.html" target="_top"><tt>FILE-POSITION</tt></a></a></dt><dt> <a href="#open">Function  <a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a></a></dt><dt> <a href="#d39e15021">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><tt>CLOSE</tt></a></a></dt><dt> <a href="#d39e15035">Class <a href="http://www.lisp.org/HyperSpec/Body/syscla_broadcast-stream.html" target="_top"><tt>BROADCAST-STREAM</tt></a></a></dt></dl></dd></dl></dd><dt>22 <a href="#printer">Printer
   <a href="http://www.lisp.org/HyperSpec/Body/chap-22.html" target="_top">[CLHS-22]</a></a></dt><dd><dl><dt> <a href="#d39e15058">Multiple Possible Textual Representations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-1-1.html" target="_top">[CLHS-22.1.1.1]</a></a></dt><dt> <a href="#d39e15138">Printing Other Vectors
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-3-7.html" target="_top">[CLHS-22.1.3.7]</a></a></dt><dt> <a href="#d39e15178">Printing Other Arrays
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-3-8.html" target="_top">[CLHS-22.1.3.8]</a></a></dt><dt> <a href="#d39e15213">The Lisp Pretty Printer
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-2.html" target="_top">[CLHS-22.2]</a></a></dt><dt> <a href="#d39e15220">The Printer Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_printer_dictionary.html" target="_top">[CLHS-22.4]</a></a></dt><dd><dl><dt> <a href="#d39e15251">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a></a></dt><dt> <a href="#pathprint">pathnames</a></dt><dt> <a href="#d39e15507">Miscellaneous Issues</a></dt></dl></dd></dl></dd><dt>23 <a href="#reader">Reader
   <a href="http://www.lisp.org/HyperSpec/Body/chap-23.html" target="_top">[CLHS-23]</a></a></dt><dd><dl><dt> <a href="#chario">characters</a></dt><dt> <a href="#d39e15943">Additional read dispatch macros</a></dt><dt> <a href="#d39e16005">Function <a href="http://www.lisp.org/HyperSpec/Body/acc_readtable-case.html" target="_top"><tt>READTABLE-CASE</tt></a></a></dt><dt> <a href="#d39e16045">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_listen.html" target="_top"><tt>LISTEN</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char-no-hang.html" target="_top"><tt>READ-CHAR-NO-HANG</tt></a></a></dt><dt> <a href="#d39e16142">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a></a></dt></dl></dd><dt>24 <a href="#system">System Construction
   <a href="http://www.lisp.org/HyperSpec/Body/chap-24.html" target="_top">[CLHS-24]</a></a></dt><dd><dl><dt> <a href="#d39e16275"><a href="http://www.lisp.org/HyperSpec/Body/sec_the_syste_n_dictionary.html" target="_top">
    24.2: The System Construction Dictionary</a></a></dt><dd><dl><dt> <a href="#compilefile">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><tt>COMPILE-FILE</tt></a></a></dt><dt> <a href="#d39e16508">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file-pathname.html" target="_top"><tt>COMPILE-FILE-PATHNAME</tt></a></a></dt><dt> <a href="#d39e16526">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><tt>REQUIRE</tt></a></a></dt><dt> <a href="#loadfile">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a></a></dt><dt> <a href="#features">Variable <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><tt>*FEATURES*</tt></a></a></dt></dl></dd></dl></dd><dt>25 <a href="#environment">Environment
   <a href="http://www.lisp.org/HyperSpec/Body/chap-25.html" target="_top">[CLHS-25]</a></a></dt><dd><dl><dt> <a href="#debugger">Debugging Utilities
   <a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-2.html" target="_top">[CLHS-25.1.2]</a></a></dt><dt> <a href="#d39e17373">The Environment Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_envir_t_dictionary.html" target="_top">[CLHS-25.2]</a></a></dt><dd><dl><dt> <a href="#d39e17379">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_disassemble.html" target="_top"><tt>DISASSEMBLE</tt></a></a></dt><dt> <a href="#d39e17409">Function <tt>EXT:UNCOMPILE</tt></a></dt><dt> <a href="#d39e17433">Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><tt>DOCUMENTATION</tt></a></a></dt><dt> <a href="#d39e17479">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_tracecm_untrace.html" target="_top"><tt>TRACE</tt></a></a></dt><dt> <a href="#d39e17712">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a></a></dt><dt> <a href="#space">EXT:SPACE</a></dt><dt> <a href="#gc">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_room.html" target="_top"><tt>ROOM</tt></a></a></dt><dt> <a href="#time">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_time.html" target="_top"><tt>TIME</tt></a></a></dt><dt> <a href="#d39e17877">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_ed.html" target="_top"><tt>ED</tt></a></a></dt><dt> <a href="#d39e17896">Clock Time</a></dt><dt> <a href="#d39e17992">Machine</a></dt><dt> <a href="#d39e18069">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS-LIST</tt></a></a></dt><dt> <a href="#d39e18089">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_dribble.html" target="_top"><tt>DRIBBLE</tt></a></a></dt><dt> <a href="#d39e18101">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_lisp-impl_tion-version.html" target="_top"><tt>LISP-IMPLEMENTATION-VERSION</tt></a></a></dt></dl></dd></dl></dd><dt>26 <a href="#glossary">Glossary
   <a href="http://www.lisp.org/HyperSpec/Body/chap-26.html" target="_top">[CLHS-26]</a></a></dt><dt>27 <a href="#appendix">Appendix
   <a href="http://www.lisp.org/HyperSpec/Body/chap-a.html" target="_top">[CLHS-a]</a></a></dt><dt>28 <a href="#issues">X3J13 Issue Index
   <a href="http://www.lisp.org/HyperSpec/Issues/Issues-Categorized.html" target="_top">[CLHS-ic]</a></a></dt><dt>29 <a href="#extensions">Extensions</a></dt><dd><dl><dt> <a href="#p-indep">Extensions-1: Platform independent Extensions</a></dt><dd><dl><dt> <a href="#image">Extensions-1.1. Saving an Image</a></dt><dt> <a href="#quit">Extensions-1.2. Quitting Lisp</a></dt><dt> <a href="#language">Extensions-1.3. The Language</a></dt><dt> <a href="#encoding">Extensions-1.4. Encodings</a></dt><dt> <a href="#clos-stream">Extensions-1.5. Defining new kinds of Streams</a></dt><dt> <a href="#weak">Extensions-1.6. Weak Pointers</a></dt><dt> <a href="#final">Extensions-1.7. Finalization</a></dt><dt> <a href="#prompt">Extensions-1.8. The Prompt</a></dt><dt> <a href="#ansi">Extensions-1.9. Maximum ANSI CL compliance</a></dt><dt> <a href="#macros3">Extensions-1.10. Additional Fancy Macros</a></dt><dt> <a href="#customize">Extensions-1.11. Customizing <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> behavior.</a></dt></dl></dd><dt> <a href="#platform">Extensions-2: Platform specific Extensions</a></dt><dd><dl><dt> <a href="#screen">Extensions-2.1. Random Screen Access</a></dt><dt> <a href="#modules">Extensions-2.2. External Modules</a></dt><dt> <a href="#dffi">Extensions-2.3. The Foreign Function Call Facility</a></dt><dt> <a href="#affi">Extensions-2.4. The Amiga Foreign Function Call Facility</a></dt><dt> <a href="#rexx">Extensions-2.5. ARexx</a></dt><dt> <a href="#socket">Extensions-2.6. Socket Streams</a></dt><dt> <a href="#syscalls">Extensions-2.7. System Calls</a></dt><dt> <a href="#quickstart">Extensions-2.8. Quickstarting delivery with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a></a></dt><dt> <a href="#app-dev">Extensions-2.9. Application delivery with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a></a></dt><dt> <a href="#shell">Extensions-2.10. Shell, Pipes and Printing</a></dt><dt> <a href="#dir-key">Extensions-2.11. Directory Access</a></dt><dt> <a href="#other">Extensions-2.12. Other</a></dt></dl></dd></dl></dd><dt><a href="#d39e31416">References</a></dt></dl></div><div id="d39e50" class="preface"><div class="titlepage"><div><h2 class="title"><a name="d39e50"></a><span class="inlinemediaobject"><img src="clisp.gif" height="48" width="48" alt="[CLISP icon]"></span></h2></div><div></div></div><p>These notes discuss the <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> implementation of <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a> by
<blockquote class="blockquote"><div class="address">Dr&nbsp;Bruno&nbsp;Haible<br>
&nbsp;Louisenstra&szlig;e&nbsp;103<br>
&nbsp;Bad&nbsp;Homburg<br>
&nbsp;D-61348&nbsp;Germany<br>
&nbsp;<a href="http://clisp.cons.org/~haible" target="_top">http://clisp.cons.org/~haible</a><br>
</div></blockquote>
 and
<blockquote class="blockquote"><div class="address">Dr&nbsp;Michael&nbsp;Stoll<br>
&nbsp;Westerwaldweg&nbsp;22<br>
&nbsp;Remagen-Oberwinter<br>
&nbsp;D-53424&nbsp;Germany<br>
&nbsp;<a href="http://www.math.uni-duesseldorf.de/home/stoll" target="_top">http://www.math.uni-duesseldorf.de/home/stoll</a><br>
</div></blockquote>
 The current maintainers are
 <blockquote class="blockquote"><div class="address">Dr&nbsp;Bruno&nbsp;Haible</div></blockquote>
 and
 <blockquote class="blockquote"><div class="address">Dr&nbsp;Sam&nbsp;Steingold<br>
&nbsp;<tt>&lt;<a href="mailto:sds@clisp.cons.org">sds@clisp.cons.org</a>&gt;</tt><br>
&nbsp;<a href="http://clisp.cons.org/~sds" target="_top">http://clisp.cons.org/~sds</a></div></blockquote>
</p><p>This implementation is mostly conforming to the [<a href="#ansi-cl">ANSI CL standard</a>]
 available on-line as the [<a href="#CLHS">Common Lisp HyperSpec</a>] (but the printed ANSI document
 remains the authoritative source of information).  [<a href="#ansi-cl">ANSI CL standard</a>] supersedes
 the earlier specifications [<a href="#CLtL1">CLtL1</a>] and [<a href="#CLtL2">CLtL2</a>].</p><p>These notes document the differences between the <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>
 implementation of <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a> and the [<a href="#ansi-cl">ANSI CL standard</a>], and some implementation
 details.  This document is indexed in parallel to the [Common
 Lisp HyperSpec].</p></div><div id="intro" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="intro"></a>Chapter 1. Introduction
  <a href="http://www.lisp.org/HyperSpec/Body/chap-1.html" target="_top">[CLHS-1]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e368">Special Symbols
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-1-3.html" target="_top">[CLHS-1.4.1.3]</a></a></dt><dt> <a href="#d39e415">Error Terminology
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-2.html" target="_top">[CLHS-1.4.2]</a></a></dt><dt> <a href="#d39e429">Class Precedence Lists
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-4-5.html" target="_top">[CLHS-1.4.4.5]</a></a></dt><dt> <a href="#d39e464">Symbols in the Package <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a>
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-9.html" target="_top">[CLHS-1.9]</a></a></dt></dl></div><div class="section"><a name="d39e368"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e368"></a>Special Symbols
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-1-3.html" target="_top">[CLHS-1.4.1.3]</a></h2></div></div><p>The final delimiter of an interactive stream: On Unix, the user
 has to type
 Ctrl-D at the
 beginning of a line. On DOS or Win32, the user has to type
 Ctrl-Z, followed
 by <b>Return</b>.  This final delimiter is never actually
 seen by programs; no need to test for #\^D or
 #\^Z - use <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char-no-hang.html" target="_top"><tt>READ-CHAR-NO-HANG</tt></a> to check for end of
 stream.  Calling <a href="http://www.lisp.org/HyperSpec/Body/fun_clear-input.html" target="_top"><tt>CLEAR-INPUT</tt></a> on the stream removes the <tt>end-of-stream</tt> state,
 thus making it available for further input.</p><p>A newline character can be entered by the user by pressing the
 <b>Newline</b> key or, on the numeric keypad, the
 <b>Enter</b> key.</p></div><div class="section"><a name="d39e415"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e415"></a>Error Terminology
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-2.html" target="_top">[CLHS-1.4.2]</a></h2></div></div><p>Safety settings are ignored; therefore where the standard uses the
 phrase &#8220;should signal an error&#8221;, an <a href="http://www.lisp.org/HyperSpec/Body/fun_error.html" target="_top"><tt>ERROR</tt></a> is signaled.</p></div><div class="section"><a name="d39e429"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e429"></a>Class Precedence Lists
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-4-4-5.html" target="_top">[CLHS-1.4.4.5]</a></h2></div></div><p>The class precedence lists of the system classes <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><tt>CLASS</tt></a>
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><tt>BUILT-IN-CLASS</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><tt>STRUCTURE-CLASS</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><tt>STANDARD-CLASS</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><tt>STANDARD-METHOD</tt></a> contain the class <a href="http://www.lisp.org/HyperSpec/Body/cla_structure-object.html" target="_top"><tt>STRUCTURE-OBJECT</tt></a>
 instead of the class <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><tt>STANDARD-OBJECT</tt></a>.</p></div><div class="section"><a name="d39e464"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e464"></a>Symbols in the Package <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a>
  <a href="http://www.lisp.org/HyperSpec/Body/sec_1-9.html" target="_top">[CLHS-1.9]</a></h2></div></div><p>31 symbol missing from the <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a> package
 (out of 978 specified by the [<a href="#ansi-cl">ANSI CL standard</a>]):</p><table class="simplelist" border="0" summary="Simple list"><tr><td><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-linesst.html" target="_top"><tt>*PRINT-LINES*</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-miser-widthst.html" target="_top"><tt>*PRINT-MISER-WIDTH*</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-p_t-dispatchst.html" target="_top"><tt>*PRINT-PPRINT-DISPATCH*</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><tt>CALL-METHOD</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><tt>CHANGE-CLASS</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/acc_compiler-_cro-function.html" target="_top"><tt>COMPILER-MACRO-FUNCTION</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><tt>COMPILER-MACRO</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_copy-pprint-dispatch.html" target="_top"><tt>COPY-PPRINT-DISPATCH</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/mac_define-compiler-macro.html" target="_top"><tt>DEFINE-COMPILER-MACRO</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/mac_define-me_-combination.html" target="_top"><tt>DEFINE-METHOD-COMBINATION</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_ensure-ge_ric-function.html" target="_top"><tt>ENSURE-GENERIC-FUNCTION</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_invalid-method-error.html" target="_top"><tt>INVALID-METHOD-ERROR</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_mak_ces-obsolete.html" target="_top"><tt>MAKE-INSTANCES-OBSOLETE</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_make-load_saving-slots.html" target="_top"><tt>MAKE-LOAD-FORM-SAVING-SLOTS</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-load-form.html" target="_top"><tt>MAKE-LOAD-FORM</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><tt>MAKE-METHOD</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_method-co_nation-error.html" target="_top"><tt>METHOD-COMBINATION-ERROR</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/syscla_method-combination.html" target="_top"><tt>METHOD-COMBINATION</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/fun_pprint-dispatch.html" target="_top"><tt>PPRINT-DISPATCH</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/locmac_pprint_st-exhausted.html" target="_top"><tt>PPRINT-EXIT-IF-LIST-EXHAUSTED</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_pprint-fi_rint-tabular.html" target="_top"><tt>PPRINT-FILL</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/fun_pprint-indent.html" target="_top"><tt>PPRINT-INDENT</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_pprint-fi_rint-tabular.html" target="_top"><tt>PPRINT-LINEAR</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/mac_pprint-logical-block.html" target="_top"><tt>PPRINT-LOGICAL-BLOCK</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/fun_pprint-newline.html" target="_top"><tt>PPRINT-NEWLINE</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/locmac_pprint-pop.html" target="_top"><tt>PPRINT-POP</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_pprint-tab.html" target="_top"><tt>PPRINT-TAB</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/fun_pprint-fi_rint-tabular.html" target="_top"><tt>PPRINT-TABULAR</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_set-pprint-dispatch.html" target="_top"><tt>SET-PPRINT-DISPATCH</tt></a></td><td><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_ferent-class.html" target="_top"><tt>UPDATE-INSTANCE-FOR-DIFFERENT-CLASS</tt></a></td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_efined-class.html" target="_top"><tt>UPDATE-INSTANCE-FOR-REDEFINED-CLASS</tt></a></td><td>&nbsp;</td><td>&nbsp;</td></tr></table></div></div><div id="syntax" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="syntax"></a>Chapter 2. Syntax
   <a href="http://www.lisp.org/HyperSpec/Body/chap-2.html" target="_top">[CLHS-2]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e613">Symbols as Tokens
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-3-4.html" target="_top">[CLHS-2.3.4]</a></a></dt><dt> <a href="#d39e625">Valid Patterns for Tokens
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-3-5.html" target="_top">[CLHS-2.3.5]</a></a></dt><dt> <a href="#d39e644">Double-Quote
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-5.html" target="_top">[CLHS-2.4.5]</a></a></dt><dt> <a href="#d39e651">Backquote
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-6.html" target="_top">[CLHS-2.4.6]</a></a></dt><dt> <a href="#d39e697">Sharpsign
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8.html" target="_top">[CLHS-2.4.8]</a></a></dt></dl></div><div class="section"><a name="d39e613"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e613"></a>Symbols as Tokens
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-3-4.html" target="_top">[CLHS-2.3.4]</a></h2></div></div><p>A "reserved token", i.e., a <a href="http://www.lisp.org/HyperSpec/Body/glo_t.html#token" target="_top">token</a> that has potential number
 syntax but cannot be interpreted as a number, is interpreted as symbol
 when being read.</p><p>When creating a symbol from a token, no character attributes are
 removed.</p></div><div class="section"><a name="d39e625"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e625"></a>Valid Patterns for Tokens
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-3-5.html" target="_top">[CLHS-2.3.5]</a></h2></div></div><p>When a token with package markers is read, then no checking is
 done whether the package part and the symbol-name part do not have
 number syntax. (What's the purpose of this check?) So we consider
 tokens like USER:: or :1 or
 LISP::4711 or 21:3 as
 symbols.</p></div><div class="section"><a name="d39e644"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e644"></a>Double-Quote
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-5.html" target="_top">[CLHS-2.4.5]</a></h2></div></div><p>When a string is read, no character attributes are removed.</p></div><div class="section"><a name="d39e651"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e651"></a>Backquote
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-6.html" target="_top">[CLHS-2.4.6]</a></h2></div></div><p>The backquote read macro also works when nested. Example:
<div class="informalexample" id="d39e658"><p></p><a name="d39e658"></a><pre class="programlisting">
   (<a href="http://www.lisp.org/HyperSpec/Body/fun_eval.html" target="_top"><tt>EVAL</tt></a> ``(,#'(<a href="http://www.lisp.org/HyperSpec/Body/mac_lambda.html" target="_top"><tt>LAMBDA</tt></a> () ',a) ,#'(<a href="http://www.lisp.org/HyperSpec/Body/mac_lambda.html" target="_top"><tt>LAMBDA</tt></a> () ',b)))
 = (<a href="http://www.lisp.org/HyperSpec/Body/fun_eval.html" target="_top"><tt>EVAL</tt></a> `(list #'(<a href="http://www.lisp.org/HyperSpec/Body/mac_lambda.html" target="_top"><tt>LAMBDA</tt></a> () ',a) #'(<a href="http://www.lisp.org/HyperSpec/Body/mac_lambda.html" target="_top"><tt>LAMBDA</tt></a> () ',b)))
 = (<a href="http://www.lisp.org/HyperSpec/Body/fun_eval.html" target="_top"><tt>EVAL</tt></a> (list 'list (list 'function (list 'lambda nil (list 'quote a)))
                     (list 'function (list 'lambda nil (list 'quote b)))))
</pre><p></p></div></p><p>Multiple backquote combinations like <tt>,,@</tt> or
 <tt>,@,@</tt> are not implemented.  Their use would be
 confusing anyway.</p></div><div class="section"><a name="d39e697"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e697"></a>Sharpsign
  <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8.html" target="_top">[CLHS-2.4.8]</a></h2></div></div><p>Reader macros are also defined for the following:

<p><b>Additional reader macros</b></p><p><b>Macro: </b>#,</p><p><b>Meaning: </b>load-time evaluation</p><p><b>Macro: </b>#Y</p><p><b>Meaning: </b>function objects and file
  encodings</p><p><b>Macro: </b>#"</p><p><b>Meaning: </b>pathname</p>
</p></div></div><div id="eval" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="eval"></a>Chapter 3. Evaluation and Compilation
   <a href="http://www.lisp.org/HyperSpec/Body/chap-3.html" target="_top">[CLHS-3]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e754">Evaluation
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1.html" target="_top">[CLHS-3.1]</a></a></dt><dd><dl><dt> <a href="#d39e759">Introduction to Environments
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1.html" target="_top">[CLHS-3.1.1]</a></a></dt></dl></dd><dt> <a href="#d39e792">Compilation
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2.html" target="_top">[CLHS-3.2]</a></a></dt><dd><dl><dt> <a href="#d39e797">Compiler Terminology
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2-1.html" target="_top">[CLHS-3.2.1]</a></a></dt><dt> <a href="#d39e807">Definition of Similarity
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2-4-2-2.html" target="_top">[CLHS-3.2.4.2.2]</a></a></dt></dl></dd><dt> <a href="#d39e817">Declarations
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-3.html" target="_top">[CLHS-3.3]</a></a></dt><dd><dl><dt> <a href="#compile-decl">Additional declarations</a></dt></dl></dd><dt> <a href="#lalist">Lambda Lists
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4.html" target="_top">[CLHS-3.4]</a></a></dt><dd><dl><dt> <a href="#d39e943">Boa Lambda Lists
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-6.html" target="_top">[CLHS-3.4.6]</a></a></dt></dl></dd><dt> <a href="#d39e957">The Evaluation and Compilation Dictionary
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-8.html" target="_top">[CLHS-3.8]</a></a></dt><dd><dl><dt> <a href="#d39e962">Declaration <a href="http://www.lisp.org/HyperSpec/Body/dec_special.html" target="_top"><tt>SPECIAL</tt></a></a></dt><dt> <a href="#d39e1011">Macro <a href="http://www.lisp.org/HyperSpec/Body/speope_eval-when.html" target="_top"><tt>EVAL-WHEN</tt></a></a></dt></dl></dd></dl></div><p>All the functions built by <a href="http://www.lisp.org/HyperSpec/Body/speope_function.html" target="_top"><tt>FUNCTION</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_compile.html" target="_top"><tt>COMPILE</tt></a> and the like are
 atoms.  There are built-in functions written in <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>, compiled
 functions (both of type <a href="http://www.lisp.org/HyperSpec/Body/typ_compiled-function.html" target="_top"><tt>COMPILED-FUNCTION</tt></a>) and interpreted
 functions (of type <a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><tt>FUNCTION</tt></a>).</p><div class="section"><a name="d39e754"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e754"></a>Evaluation
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1.html" target="_top">[CLHS-3.1]</a></h2></div></div><div class="section"><a name="d39e759"></a><div class="titlepage"><div><h3 class="title"><a name="d39e759"></a>Introduction to Environments
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1.html" target="_top">[CLHS-3.1.1]</a></h3></div></div><p><b><tt>EXT:THE-ENVIRONMENT</tt></b> As in Scheme, the macro <tt>(<tt>ext:the-environment</tt>)</tt>
 returns the current lexical environment.  This works only in
 interpreted code and is not compilable!</p><p><b><tt>(ext:eval-env
 <i><tt>form</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
 <i><tt>env</tt></i>)</tt></b> evaluates a form in a given lexical environment, just if the form
 had been part of the program text that environment came from.
</p></div></div><div class="section"><a name="d39e792"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e792"></a>Compilation
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2.html" target="_top">[CLHS-3.2]</a></h2></div></div><div class="section"><a name="d39e797"></a><div class="titlepage"><div><h3 class="title"><a name="d39e797"></a>Compiler Terminology
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2-1.html" target="_top">[CLHS-3.2.1]</a></h3></div></div><p><a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> compiles to platform-independent byte-code.</p></div><div class="section"><a name="d39e807"></a><div class="titlepage"><div><h3 class="title"><a name="d39e807"></a>Definition of Similarity
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-2-4-2-2.html" target="_top">[CLHS-3.2.4.2.2]</a></h3></div></div><p>Hash tables are <a href="http://www.lisp.org/HyperSpec/Body/glo_e.html#externalizable_object" target="_top">externalizable
 object</a>s.</p></div></div><div class="section"><a name="d39e817"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e817"></a>Declarations
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-3.html" target="_top">[CLHS-3.3]</a></h2></div></div><p>The declarations
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/dec_type.html" target="_top"><tt>TYPE</tt></a> <i><tt>type</tt></i>
        <i><tt>var</tt></i> ...)</tt>,
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/dec_ftype.html" target="_top"><tt>FTYPE</tt></a> <i><tt>type</tt></i>
        <i><tt>fun</tt></i> ...)</tt>,
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/dec_optimize.html" target="_top"><tt>OPTIMIZE</tt></a> (<i><tt>quality</tt></i>
        <i><tt>value</tt></i>) ...)</tt>
   are ignored by the interpreter and the compiler.</p><p>The [<a href="#ansi-cl">ANSI CL standard</a>] declaration <tt>(<a href="http://www.lisp.org/HyperSpec/Body/dec_optimize.html" target="_top"><tt>OPTIMIZE</tt></a>
 (debug ...))</tt> is legal.</p><p>The [<a href="#ansi-cl">ANSI CL standard</a>] declaration <tt>(<a href="http://www.lisp.org/HyperSpec/Body/dec_ignorecm_ignorable.html" target="_top"><tt>IGNORABLE</tt></a>
 <i><tt>var</tt></i> ...)</tt> affects the variable
 binding for the variable <i><tt>var</tt></i>.  The compiler
 will not warn about the variable, regardless whether it is used or
 not.</p><div class="section"><a name="compile-decl"></a><div class="titlepage"><div><h3 class="title"><a name="compile-decl"></a>Additional declarations</h3></div></div><p>The declaration <tt>(compile)</tt> has the
 effect that the current form is compiled prior to execution.
 Examples:
<pre class="programlisting">
 (locally (declare (compile)) <i><tt>form</tt></i>)
</pre>
executes a compiled version of form.</p><p><pre class="programlisting">
(let ((x 0))
  (flet ((inc () (declare (compile)) (incf x))
         (dec () (decf x)))
    (values #'inc #'dec)))
</pre>
 returns two functions.  The first is compiled and increments
 <i><tt>x</tt></i>, the second is interpreted (slower) and
 decrements the same <i><tt>x</tt></i>.</p><p>The type assertion <tt>(<a href="http://www.lisp.org/HyperSpec/Body/speope_the.html" target="_top"><tt>THE</tt></a>
 <i><tt>value-type</tt></i>
 <i><tt>form</tt></i>)</tt> enforces a type check in
 interpreted code.  No type check is done in compiled code.  See also
 the <a href="#ethe"><tt>ext:ethe</tt></a>
 macro.</p></div></div><div class="section"><a name="lalist"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="lalist"></a>Lambda Lists
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4.html" target="_top">[CLHS-3.4]</a></h2></div></div><div class="section"><a name="d39e943"></a><div class="titlepage"><div><h3 class="title"><a name="d39e943"></a>Boa Lambda Lists
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-6.html" target="_top">[CLHS-3.4.6]</a></h3></div></div><p>The initial value of an <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;AUX</tt></a> variable in a boa <a href="#lalist">lambda list</a> is
 the value of the corresponding slot's initial form.</p></div></div><div class="section"><a name="d39e957"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e957"></a>The Evaluation and Compilation Dictionary
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-8.html" target="_top">[CLHS-3.8]</a></h2></div></div><div class="section"><a name="d39e962"></a><div class="titlepage"><div><h3 class="title"><a name="d39e962"></a>Declaration <a href="http://www.lisp.org/HyperSpec/Body/dec_special.html" target="_top"><tt>SPECIAL</tt></a></h3></div></div><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_proclaim.html" target="_top"><tt>PROCLAIM</tt></a> '(<a href="http://www.lisp.org/HyperSpec/Body/dec_special.html" target="_top"><tt>SPECIAL</tt></a>
 <i><tt>var</tt></i>))</tt> declarations may not be
 undone.  The same holds for <a href="http://www.lisp.org/HyperSpec/Body/mac_defparametercm_defvar.html" target="_top"><tt>DEFVAR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_defparametercm_defvar.html" target="_top"><tt>DEFPARAMETER</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_defconstant.html" target="_top"><tt>DEFCONSTANT</tt></a>
 declarations.</p><p>It is an error if a <a href="http://www.lisp.org/HyperSpec/Body/mac_defconstant.html" target="_top"><tt>DEFCONSTANT</tt></a> variable is bound at the
 moment the <a href="http://www.lisp.org/HyperSpec/Body/mac_defconstant.html" target="_top"><tt>DEFCONSTANT</tt></a> is executed, but
 <a href="http://www.lisp.org/HyperSpec/Body/mac_defconstant.html" target="_top"><tt>DEFCONSTANT</tt></a> does not check this.</p><p>Constants may not be bound dynamically or lexically.</p></div><div class="section"><a name="d39e1011"></a><div class="titlepage"><div><h3 class="title"><a name="d39e1011"></a>Macro <a href="http://www.lisp.org/HyperSpec/Body/speope_eval-when.html" target="_top"><tt>EVAL-WHEN</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/speope_eval-when.html" target="_top"><tt>EVAL-WHEN</tt></a> also accepts the situations <tt>(not
 eval)</tt> and <tt>(not
 compile)</tt>.</p></div></div></div><div id="types" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="types"></a>Chapter 4. Types and Classes
   <a href="http://www.lisp.org/HyperSpec/Body/chap-4.html" target="_top">[CLHS-4]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e1033">Types
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-2.html" target="_top">[CLHS-4.2]</a></a></dt><dd><dl><dt> <a href="#d39e1038">Type Specifiers
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-2-3.html" target="_top">[CLHS-4.2.3]</a></a></dt></dl></dd><dt> <a href="#d39e1515">Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3.html" target="_top">[CLHS-4.3]</a></a></dt><dt> <a href="#clos-diff">Deviations from [<a href="#ansi-cl">ANSI CL standard</a>]:</a></dt><dt> <a href="#d39e1675">Standard Metaclasses
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-1-1.html" target="_top">[CLHS-4.3.1.1]</a></a></dt><dt> <a href="#d39e1846">Defining Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-2.html" target="_top">[CLHS-4.3.2]</a></a></dt><dt> <a href="#d39e1871">Redefining Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-6.html" target="_top">[CLHS-4.3.6]</a></a></dt><dt> <a href="#d39e1882">Integrating Types and Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-7.html" target="_top">[CLHS-4.3.7]</a></a></dt></dl></div><div class="section"><a name="d39e1033"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e1033"></a>Types
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-2.html" target="_top">[CLHS-4.2]</a></h2></div></div><div class="section"><a name="d39e1038"></a><div class="titlepage"><div><h3 class="title"><a name="d39e1038"></a>Type Specifiers
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-2-3.html" target="_top">[CLHS-4.2.3]</a></h3></div></div><p>The general form of the <a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a> type specifier is <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a>
 <i><tt>type-of-real-part</tt></i>
 <i><tt>type-of-imaginary-part</tt></i>)</tt>.  The type
 specifier <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a>
 <i><tt>type</tt></i>)</tt> is equivalent to <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a> <i><tt>type</tt></i>
 <i><tt>type</tt></i>)</tt>.</p><p>The [<a href="#ansi-cl">ANSI CL standard</a>] type specifier <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_real.html" target="_top"><tt>REAL</tt></a>
 <i><tt>low</tt></i>
 <i><tt>high</tt></i>)</tt> denotes the real numbers
 between <i><tt>low</tt></i> and
 <i><tt>high</tt></i>.</p><p><a href="http://www.lisp.org/HyperSpec/Body/mac_deftype.html" target="_top"><tt>DEFTYPE</tt></a> <a href="#lalist">lambda list</a>s are subject to destructuring (nested <a href="#lalist">lambda list</a>s
 are allowed, as in <a href="http://www.lisp.org/HyperSpec/Body/mac_defmacro.html" target="_top"><tt>DEFMACRO</tt></a>) and may contain a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><tt>&amp;WHOLE</tt></a> marker,
 but not an <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><tt>&amp;ENVIRONMENT</tt></a> marker.</p><p><b><tt>(<tt>ext:type-expand-1</tt>
  <i><tt>typespec</tt></i>)</tt></b> If <i><tt>typespec</tt></i> is a user-defined type,
 <tt>ext:type-expand-1</tt> will expand it once and return
 two values: the expansion and <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>. If
 <i><tt>typespec</tt></i> is not a user-defined type, then
 the two values <i><tt>typespec</tt></i> and <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> are returned.
</p><p><b><tt>(<tt>ext:type-expand</tt>
 <i><tt>typespec</tt></i>)</tt></b> This is similar to <tt>(<tt>ext:type-expand-1</tt>
 <i><tt>typespec</tt></i>)</tt>, but repeatedly expands
 <i><tt>typespec</tt></i> until it is no longer a
 user-defined type.  A second value of <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> is returned as for
 <tt>ext:type-expand-1</tt>, indicating whether the
 original <i><tt>typespec</tt></i> was a user-definedtype.
</p><p>The possible results of <a href="http://www.lisp.org/HyperSpec/Body/fun_type-of.html" target="_top"><tt>TYPE-OF</tt></a> are:

<div class="itemizedlist"><ul><li><a name="d39e1210"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_cons.html" target="_top"><tt>CONS</tt></a></p></li><li><a name="d39e1215"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><tt>SYMBOL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_null.html" target="_top"><tt>NULL</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><tt>BOOLEAN</tt></a></p></li><li><a name="d39e1228"></a><p><a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><tt>FIXNUM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/typ_bignum.html" target="_top"><tt>BIGNUM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_rational.html" target="_top"><tt>RATIONAL</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SHORT-FLOAT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>LONG-FLOAT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a></p></li><li><a name="d39e1261"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/typ_base-char.html" target="_top"><tt>BASE-CHAR</tt></a></p></li><li><a name="d39e1270"></a><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_array.html" target="_top"><tt>ARRAY</tt></a>
  <i><tt>element-type</tt></i>
  <i><tt>dimensions</tt></i>)</tt>,
  <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_simple-array.html" target="_top"><tt>SIMPLE-ARRAY</tt></a>
  <i><tt>element-type</tt></i>
  <i><tt>dimensions</tt></i>)</tt></p></li><li><a name="d39e1297"></a><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>
  <i><tt>size</tt></i>)</tt>, <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_simple-vector.html" target="_top"><tt>SIMPLE-VECTOR</tt></a>
  <i><tt>size</tt></i>)</tt></p></li><li><a name="d39e1322"></a><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a>
  <i><tt>size</tt></i>)</tt>, <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>
  <i><tt>size</tt></i>)</tt></p></li><li><a name="d39e1343"></a><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_base-string.html" target="_top"><tt>BASE-STRING</tt></a>
  <i><tt>size</tt></i>)</tt>, <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_simple-base-string.html" target="_top"><tt>SIMPLE-BASE-STRING</tt></a>
  <i><tt>size</tt></i>)</tt></p></li><li><a name="d39e1364"></a><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_bit-vector.html" target="_top"><tt>BIT-VECTOR</tt></a>
  <i><tt>size</tt></i>)</tt>, <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_simple-bit-vector.html" target="_top"><tt>SIMPLE-BIT-VECTOR</tt></a>
  <i><tt>size</tt></i>)</tt></p></li><li><a name="d39e1385"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><tt>FUNCTION</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/typ_compiled-function.html" target="_top"><tt>COMPILED-FUNCTION</tt></a></p></li><li><a name="d39e1394"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><tt>STREAM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_file-stream.html" target="_top"><tt>FILE-STREAM</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_synonym-stream.html" target="_top"><tt>SYNONYM-STREAM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_broadcast-stream.html" target="_top"><tt>BROADCAST-STREAM</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_concatenated-stream.html" target="_top"><tt>CONCATENATED-STREAM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_two-way-stream.html" target="_top"><tt>TWO-WAY-STREAM</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_echo-stream.html" target="_top"><tt>ECHO-STREAM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_string-stream.html" target="_top"><tt>STRING-STREAM</tt></a></p></li><li><a name="d39e1427"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_package.html" target="_top"><tt>PACKAGE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_hash-table.html" target="_top"><tt>HASH-TABLE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_readtable.html" target="_top"><tt>READTABLE</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><tt>PATHNAME</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_logical-pathname.html" target="_top"><tt>LOGICAL-PATHNAME</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_random-state.html" target="_top"><tt>RANDOM-STATE</tt></a>,
  <tt>byte</tt></p></li><li><a name="d39e1455"></a><p><tt>special-operator</tt>,
  <tt>load-time-eval</tt>, <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a>,
  <a href="#encoding"><tt>encoding</tt></a>,
  <tt>foreign-pointer</tt>,
  <tt>foreign-address</tt>,
  <tt>foreign-variable</tt>,
  <tt>foreign-function</tt></p></li><li><a name="d39e1482"></a><p><a href="#weak"><tt>weak-pointer</tt></a>,
          <a href="#reader"><tt>read-label</tt></a>,
          <a href="#reader"><tt>frame-pointer</tt></a>,
      <tt>system-internal</tt></p></li><li><a name="d39e1498"></a><p><tt>address</tt> (should not
  occur)</p></li><li><a name="d39e1503"></a><p>any other symbol (structure types or <b>CLOS</b>
  classes)</p></li><li><a name="d39e1509"></a><p>a class (<b>CLOS</b> classes without proper
  name)</p></li></ul></div></p></div></div><div class="section"><a name="d39e1515"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e1515"></a>Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3.html" target="_top">[CLHS-4.3]</a></h2></div></div><p>The <b>CLOS</b> symbols are <a href="http://www.lisp.org/HyperSpec/Body/fun_export.html" target="_top"><tt>EXPORT</tt></a>ed from the package
 &#8220;CLOS&#8221; and thus normally visible in all user packages. If
 you do not want them (for example, if you want to use the
 <a href="ftp://clisp.cons.org/pub/lisp/clisp/packages/pcl.sept92f.clisp.tar.gz" target="_top">PCL</a>
 implementation of <b>CLOS</b> instead of the native one), do
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_unuse-package.html" target="_top"><tt>UNUSE-PACKAGE</tt></a> "CLOS")</tt>.</p></div><div class="section"><a name="clos-diff"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="clos-diff"></a>Deviations from [<a href="#ansi-cl">ANSI CL standard</a>]:</h2></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><tt>DEFCLASS</tt></a></b> It <i>is</i> required that the superclasses of a
 class be defined before the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><tt>DEFCLASS</tt></a> form for the class is evaluated.
 </p><p><a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><tt>DEFCLASS</tt></a> supports the option <tt>:metaclass</tt> <a href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><tt>STRUCTURE-CLASS</tt></a>.
 This option is necessary in order to define a subclass of a
 <a href="http://www.lisp.org/HyperSpec/Body/mac_defstruct.html" target="_top"><tt>DEFSTRUCT</tt></a>-defined structure type using <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><tt>DEFCLASS</tt></a> instead of
 <a href="http://www.lisp.org/HyperSpec/Body/mac_defstruct.html" target="_top"><tt>DEFSTRUCT</tt></a>.</p><p>When <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><tt>CALL-NEXT-METHOD</tt></a> is called with arguments, the rule that
 the ordered set of applicable methods must be the same as for the
 original arguments is enforced by the implementation only in
 interpreted code.</p><p>There is a generic function <i><tt>clos:no-primary-method</tt></i>
 (similar to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_no-_cable-method.html" target="_top"><tt>NO-APPLICABLE-METHOD</tt></a>) which is called when a generic
 function of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><tt>STANDARD-GENERIC-FUNCTION</tt></a> is invoked and
 no primary method on that generic function is applicable.</p><p><i><tt>clos:generic-flet</tt></i> and
 <i><tt>clos:generic-labels</tt></i> are
 implemented as macros, not as special operators.  They are not imported
 into the packages <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top">&#8220;COMMON-LISP-USER&#8221;</a> and <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a> because of the [<a href="#ansi-cl">ANSI CL standard</a>] issue
 <a href="http://www.lisp.org/HyperSpec/Issues/iss181.html" target="_top">GENERIC-FLET-POORLY-DESIGNED:DELETE</a>.
 </p><p>The function <a href="http://www.lisp.org/HyperSpec/Body/fun_ensure-ge_ric-function.html" target="_top"><tt>ENSURE-GENERIC-FUNCTION</tt></a> is not implemented.</p><p><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><tt>ADD-METHOD</tt></a> can put methods into other generic functions
 than the one the method came from.</p><p><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_print-object.html" target="_top"><tt>PRINT-OBJECT</tt></a> is only called on objects of type
 <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><tt>STANDARD-OBJECT</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/cla_structure-object.html" target="_top"><tt>STRUCTURE-OBJECT</tt></a>.
 It is not called on other objects, like <a href="http://www.lisp.org/HyperSpec/Body/syscla_cons.html" target="_top"><tt>CONS</tt></a>es
 and <a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><tt>NUMBER</tt></a>s, due to the performance concerns.</p><p><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><tt>DOCUMENTATION</tt></a> still has the [<a href="#CLtL1">CLtL1</a>] implementation.</p></div><div class="section"><a name="d39e1675"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e1675"></a>Standard Metaclasses
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-1-1.html" target="_top">[CLHS-4.3.1.1]</a></h2></div></div><p>Among those classes listed in <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-7.html#classtypecorrespondence" target="_top">Figure
 4-8</a>, only the following are instances of <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><tt>BUILT-IN-CLASS</tt></a>:

<div class="itemizedlist"><ul><li><a name="d39e1690"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><tt>T</tt></a></p></li><li><a name="d39e1695"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a></p></li><li><a name="d39e1700"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><tt>NUMBER</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_real.html" target="_top"><tt>REAL</tt></a>,
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_float.html" target="_top"><tt>FLOAT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_rational.html" target="_top"><tt>RATIONAL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_ratio.html" target="_top"><tt>RATIO</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a>
  </p></li><li><a name="d39e1730"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_sequence.html" target="_top"><tt>SEQUENCE</tt></a></p></li><li><a name="d39e1735"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_array.html" target="_top"><tt>ARRAY</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_bit-vector.html" target="_top"><tt>BIT-VECTOR</tt></a>
      <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a></p></li><li><a name="d39e1752"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><tt>LIST</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_cons.html" target="_top"><tt>CONS</tt></a></p></li><li><a name="d39e1761"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><tt>SYMBOL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_null.html" target="_top"><tt>NULL</tt></a></p></li><li><a name="d39e1770"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><tt>FUNCTION</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><tt>GENERIC-FUNCTION</tt></a>,
      <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><tt>STANDARD-GENERIC-FUNCTION</tt></a></p></li><li><a name="d39e1783"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_hash-table.html" target="_top"><tt>HASH-TABLE</tt></a></p></li><li><a name="d39e1788"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_package.html" target="_top"><tt>PACKAGE</tt></a></p></li><li><a name="d39e1793"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><tt>PATHNAME</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_logical-pathname.html" target="_top"><tt>LOGICAL-PATHNAME</tt></a>
  </p></li><li><a name="d39e1803"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_random-state.html" target="_top"><tt>RANDOM-STATE</tt></a></p></li><li><a name="d39e1808"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_readtable.html" target="_top"><tt>READTABLE</tt></a></p></li><li><a name="d39e1813"></a><p><a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><tt>STREAM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_broadcast-stream.html" target="_top"><tt>BROADCAST-STREAM</tt></a>,
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_concatenated-stream.html" target="_top"><tt>CONCATENATED-STREAM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_echo-stream.html" target="_top"><tt>ECHO-STREAM</tt></a>,
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_string-stream.html" target="_top"><tt>STRING-STREAM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_file-stream.html" target="_top"><tt>FILE-STREAM</tt></a>,
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_synonym-stream.html" target="_top"><tt>SYNONYM-STREAM</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_two-way-stream.html" target="_top"><tt>TWO-WAY-STREAM</tt></a></p></li></ul></div></p></div><div class="section"><a name="d39e1846"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e1846"></a>Defining Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-2.html" target="_top">[CLHS-4.3.2]</a></h2></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><tt>DEFCLASS</tt></a> supports the <tt>:metaclass</tt> option.  Possible values are
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><tt>STANDARD-CLASS</tt></a> (the default) and <a href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><tt>STRUCTURE-CLASS</tt></a> (which creates
 structure classes, like <a href="http://www.lisp.org/HyperSpec/Body/mac_defstruct.html" target="_top"><tt>DEFSTRUCT</tt></a> does).</p></div><div class="section"><a name="d39e1871"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e1871"></a>Redefining Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-6.html" target="_top">[CLHS-4.3.6]</a></h2></div></div><p>Redefining classes is not supported.  The function
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_efined-class.html" target="_top"><tt>UPDATE-INSTANCE-FOR-REDEFINED-CLASS</tt></a> is not implemented.</p></div><div class="section"><a name="d39e1882"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e1882"></a>Integrating Types and Classes
  <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-7.html" target="_top">[CLHS-4.3.7]</a></h2></div></div><p>The class <a href="http://www.lisp.org/HyperSpec/Body/syscla_method-combination.html" target="_top"><tt>METHOD-COMBINATION</tt></a> is not implemented.</p></div></div><div id="data" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="data"></a>Chapter 5. Data and Control Flow
   <a href="http://www.lisp.org/HyperSpec/Body/chap-5.html" target="_top">[CLHS-5]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e1898">The Data and Control Flow Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_data__w_dictionary.html" target="_top">[CLHS-5.3]</a></a></dt><dd><dl><dt> <a href="#d39e1984">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><tt>EQ</tt></a></a></dt><dt> <a href="#d39e2014">Function <a href="http://www.lisp.org/HyperSpec/Body/acc_symbol-function.html" target="_top"><tt>SYMBOL-FUNCTION</tt></a></a></dt><dt> <a href="#d39e2051">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a></a></dt><dt> <a href="#d39e2391">Special Operator <a href="http://www.lisp.org/HyperSpec/Body/speope_function.html" target="_top"><tt>FUNCTION</tt></a></a></dt><dt> <a href="#d39e2449">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>DEFINE-SYMBOL-MACRO</tt></a></a></dt><dt> <a href="#d39e2567">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_lambda.html" target="_top"><tt>LAMBDA</tt></a></a></dt><dt> <a href="#d39e2674">Macros <a href="http://www.lisp.org/HyperSpec/Body/mac_defun.html" target="_top"><tt>DEFUN</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/mac_defmacro.html" target="_top"><tt>DEFMACRO</tt></a></a></dt></dl></dd></dl></div><div class="section"><a name="d39e1898"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e1898"></a>The Data and Control Flow Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_data__w_dictionary.html" target="_top">[CLHS-5.3]</a></h2></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/mac_prog1cm_prog2.html" target="_top"><tt>PROG1</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_prog1cm_prog2.html" target="_top"><tt>PROG2</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_and.html" target="_top"><tt>AND</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_or.html" target="_top"><tt>OR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_psetq.html" target="_top"><tt>PSETQ</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_whencm_unless.html" target="_top"><tt>WHEN</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/mac_whencm_unless.html" target="_top"><tt>UNLESS</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_cond.html" target="_top"><tt>COND</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_casecm_ccasecm_ecase.html" target="_top"><tt>CASE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_multiple-value-list.html" target="_top"><tt>MULTIPLE-VALUE-LIST</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_multiple-value-bind.html" target="_top"><tt>MULTIPLE-VALUE-BIND</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/mac_multiple-value-setq.html" target="_top"><tt>MULTIPLE-VALUE-SETQ</tt></a></b> are implemented as special operators and, as
 such, rather efficient.</p><p><b><a href="http://www.lisp.org/HyperSpec/Body/mac_destructuring-bind.html" target="_top"><tt>DESTRUCTURING-BIND</tt></a></b> does not perform full error checking.</p><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_compiled-function-p.html" target="_top"><tt>COMPILED-FUNCTION-P</tt></a></b> returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> on built-in functions written in <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>, compiled
 functions and special operator handlers.  Therefore
 <a href="http://www.lisp.org/HyperSpec/Body/typ_compiled-function.html" target="_top"><tt>COMPILED-FUNCTION</tt></a> is not a subtype of <a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><tt>FUNCTION</tt></a>.</p><div class="section"><a name="d39e1984"></a><div class="titlepage"><div><h3 class="title"><a name="d39e1984"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><tt>EQ</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><tt>EQ</tt></a> compares characters and fixnums as <a href="http://www.lisp.org/HyperSpec/Body/fun_eql.html" target="_top"><tt>EQL</tt></a> does.  No
 unnecessary copies are made of characters and numbers.  Nevertheless,
 one should use <a href="http://www.lisp.org/HyperSpec/Body/fun_eql.html" target="_top"><tt>EQL</tt></a> as it is more portable across CL
 implementations.</p><p><tt>(let ((x y)) (eq x x))</tt> always
 returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, regardless of <i><tt>y</tt></i>.</p></div><div class="section"><a name="d39e2014"></a><div class="titlepage"><div><h3 class="title"><a name="d39e2014"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/acc_symbol-function.html" target="_top"><tt>SYMBOL-FUNCTION</tt></a></h3></div></div><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/acc_symbol-function.html" target="_top"><tt>SYMBOL-FUNCTION</tt></a>
 <i><tt>symbol</tt></i>)
 <i><tt>object</tt></i>)</tt> requires
 <i><tt>object</tt></i> to be either a function, a
 <a href="http://www.lisp.org/HyperSpec/Body/acc_symbol-function.html" target="_top"><tt>SYMBOL-FUNCTION</tt></a> return value or a <a href="http://www.lisp.org/HyperSpec/Body/glo_l.html#lambda_expression" target="_top">lambda expression</a>.  The <a href="http://www.lisp.org/HyperSpec/Body/glo_l.html#lambda_expression" target="_top">lambda expression</a>
 is thereby immediately converted to a function.</p></div><div class="section"><a name="d39e2051"></a><div class="titlepage"><div><h3 class="title"><a name="d39e2051"></a>Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a></h3></div></div><p>Additional places:
<div class="variablelist"><dl><dt><a name="d39e2060"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><tt>FUNCALL</tt></a></span></dt><dd><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><tt>FUNCALL</tt></a>
   #'<i><tt>symbol</tt></i> ...)
     <i><tt>object</tt></i>)</tt>
    and
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><tt>FUNCALL</tt></a>
   '<i><tt>symbol</tt></i> ...)
    <i><tt>object</tt></i>)</tt>
   are equivalent to
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<i><tt>symbol</tt></i> ...)
               <i><tt>object</tt></i>)</tt>.
  </p></dd><dt><a name="d39e2114"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/speope_progn.html" target="_top"><tt>PROGN</tt></a></span></dt><dd><p>
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/speope_progn.html" target="_top"><tt>PROGN</tt></a> <i><tt>form</tt></i> ...
                                         <i><tt>place</tt></i>)
                                <i><tt>object</tt></i>)</tt>
  </p></dd><dt><a name="d39e2142"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/speope_locally.html" target="_top"><tt>LOCALLY</tt></a></span></dt><dd><p>
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/speope_locally.html" target="_top"><tt>LOCALLY</tt></a>
                                 <i><tt>declaration</tt></i> ...
                                 <i><tt>form</tt></i> ...
                                 <i><tt>place</tt></i>)
                                <i><tt>object</tt></i>)</tt>
  </p></dd><dt><a name="d39e2173"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/speope_if.html" target="_top"><tt>IF</tt></a></span></dt><dd><p>
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/speope_if.html" target="_top"><tt>IF</tt></a> <i><tt>condition</tt></i>
                                  <i><tt>place1</tt></i>
                                  <i><tt>place2</tt></i>)
                                <i><tt>object</tt></i>)</tt>
  </p></dd><dt><a name="d39e2204"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/fun_set-dispa_ro-character.html" target="_top"><tt>GET-DISPATCH-MACRO-CHARACTER</tt></a></span></dt><dd><p>
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_set-dispa_ro-character.html" target="_top"><tt>GET-DISPATCH-MACRO-CHARACTER</tt></a> ...)
     ...)</tt> calls <a href="http://www.lisp.org/HyperSpec/Body/fun_set-dispa_ro-character.html" target="_top"><tt>SET-DISPATCH-MACRO-CHARACTER</tt></a>.
  </p></dd><dt><a name="d39e2227"></a><span class="term"><a href="#lfd"><tt>ext:long-float-digits</tt></a>:</span></dt><dd><p>
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="#lfd"><tt>ext:long-float-digits</tt></a>)
   <i><tt>digits</tt></i>)</tt> sets the default mantissa
    length of long floats to <i><tt>digits</tt></i> bits.
   </p></dd><dt><a name="d39e2253"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/fun_values-list.html" target="_top"><tt>VALUES-LIST</tt></a></span></dt><dd><p>
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_values-list.html" target="_top"><tt>VALUES-LIST</tt></a>
       <i><tt>list</tt></i>)
       <i><tt>form</tt></i>)</tt>
    is equivalent to
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_values-list.html" target="_top"><tt>VALUES-LIST</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a>
       <i><tt>list</tt></i>
    (<a href="http://www.lisp.org/HyperSpec/Body/mac_multiple-value-list.html" target="_top"><tt>MULTIPLE-VALUE-LIST</tt></a> <i><tt>form</tt></i>)))</tt>
  </p></dd></dl></div></p><p><a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> markers in <a href="http://www.lisp.org/HyperSpec/Body/mac_defsetf.html" target="_top"><tt>DEFSETF</tt></a> <a href="#lalist">lambda list</a>s are supported, but the
 corresponding keywords must appear literally in the program text.</p><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_get-setf-expansion.html" target="_top"><tt>GET-SETF-EXPANSION</tt></a>
 <i><tt>form</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
 <i><tt>env</tt></i>)</tt>, <tt>(ext:get-setf-method <i><tt>form</tt></i>
 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> <i><tt>env</tt></i>)</tt>, and <tt>(ext:get-setf-method-multiple-value
 <i><tt>form</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
 <i><tt>env</tt></i>)</tt> receive as optional argument
 the environment necessary for macro expansions.  In
 <a href="http://www.lisp.org/HyperSpec/Body/mac_define-setf-expander.html" target="_top"><tt>DEFINE-SETF-EXPANDER</tt></a> and <tt>ext:define-setf-method</tt>
 <a href="#lalist">lambda list</a>s, one can specify <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><tt>&amp;ENVIRONMENT</tt></a> and a variable, which will
 be bound to the environment.  This environment should be passed to all
 calls of <a href="http://www.lisp.org/HyperSpec/Body/fun_get-setf-expansion.html" target="_top"><tt>GET-SETF-EXPANSION</tt></a>,
 <tt>ext:get-setf-method</tt> and
 <tt>ext:get-setf-method-multiple-value</tt>.  If this is
 done, even local macros will be interpreted as places correctly.</p><p>Attempts to modify read-only data will signal an error.  Program
 text and quoted constants loaded from files are considered read-only
 data.  This check is only performed for strings, not for conses, other
 kinds of arrays, and user-defined data types.</p><p>See also the <a href="#letf"><tt>ext:letf</tt></a> and <a href="#letf"><tt>ext:letf*</tt></a> macros.</p></div><div class="section"><a name="d39e2391"></a><div class="titlepage"><div><h3 class="title"><a name="d39e2391"></a>Special Operator <a href="http://www.lisp.org/HyperSpec/Body/speope_function.html" target="_top"><tt>FUNCTION</tt></a></h3></div></div><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/speope_function.html" target="_top"><tt>FUNCTION</tt></a>
 <i><tt>symbol</tt></i>)</tt> returns the local function
 definition established by <a href="http://www.lisp.org/HyperSpec/Body/speope_fletcm_scm_macrolet.html" target="_top"><tt>FLET</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/speope_fletcm_scm_macrolet.html" target="_top"><tt>LABELS</tt></a>, if it exists, otherwise
 the global function definition.</p><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_special-operator-p.html" target="_top"><tt>SPECIAL-OPERATOR-P</tt></a>
 <i><tt>symbol</tt></i>)</tt> returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>.
 If it returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, then <tt>(<a href="http://www.lisp.org/HyperSpec/Body/acc_symbol-function.html" target="_top"><tt>SYMBOL-FUNCTION</tt></a>
 <i><tt>symbol</tt></i>)</tt> returns the (useless)
 special operator handler.</p></div><div class="section"><a name="d39e2449"></a><div class="titlepage"><div><h3 class="title"><a name="d39e2449"></a>Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>DEFINE-SYMBOL-MACRO</tt></a></h3></div></div><p>The macro <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>DEFINE-SYMBOL-MACRO</tt></a> establishes <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a>s with
 global scope (as opposed to <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a>s defined with
 <a href="http://www.lisp.org/HyperSpec/Body/speope_symbol-macrolet.html" target="_top"><tt>SYMBOL-MACROLET</tt></a>, which have local scope):
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>DEFINE-SYMBOL-MACRO</tt></a> <i><tt>symbol</tt></i>
 <i><tt>expansion</tt></i>)</tt>.</p><p>The function <i><tt>ext:symbol-macro-expand</tt></i>
 tests for a <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a>: If <i><tt>symbol</tt></i> is defined as
 a <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a>, <tt>(ext:symbol-macro-expand
 <i><tt>symbol</tt></i>)</tt> returns two values, <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> and the
 expansion, otherwise it returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p><p>Calling <a href="http://www.lisp.org/HyperSpec/Body/fun_boundp.html" target="_top"><tt>BOUNDP</tt></a> on a symbol defined as a <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> returns
 <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>.</p><p>Calling <a href="http://www.lisp.org/HyperSpec/Body/acc_symbol-value.html" target="_top"><tt>SYMBOL-VALUE</tt></a> on a symbol defined as a <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a>
 returns the value of the expansion.  Calling <a href="http://www.lisp.org/HyperSpec/Body/fun_set.html" target="_top"><tt>SET</tt></a> on a symbol defined
 as a <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> calls <a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> on the expansion.</p><p>Calling <a href="http://www.lisp.org/HyperSpec/Body/fun_makunbound.html" target="_top"><tt>MAKUNBOUND</tt></a> on a symbol defined as a <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a>
 removes the <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> definition.</p></div><div class="section"><a name="d39e2567"></a><div class="titlepage"><div><h3 class="title"><a name="d39e2567"></a>Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_lambda.html" target="_top"><tt>LAMBDA</tt></a></h3></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/convar_lambda_ist-keywords.html" target="_top"><tt>LAMBDA-LIST-KEYWORDS</tt></a></b> <tt>(<a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;REST</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a>
 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;ALLOW-OTHER-KEYS</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;AUX</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><tt>&amp;BODY</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><tt>&amp;WHOLE</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><tt>&amp;ENVIRONMENT</tt></a>)
</tt></p><div class="table"><p><a name="d39e2613"></a><b>Platform dependent</b></p><table summary="Platform dependent" align="center" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>CPU type</th><th>16-bit CPU</th><th>32-bit CPU</th><th>64-bit CPU</th></tr></thead><tbody><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_call-a_uments-limit.html" target="_top"><tt>CALL-ARGUMENTS-LIMIT</tt></a></td><td>2<sup>16</sup>=65536</td><td>2<sup>32</sup>=4294967296</td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_multip_values-limit.html" target="_top"><tt>MULTIPLE-VALUES-LIMIT</tt></a></td><td>2<sup>7</sup>=128</td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_lambda_meters-limit.html" target="_top"><tt>LAMBDA-PARAMETERS-LIMIT</tt></a></td><td>2<sup>16</sup>=65536</td><td>2<sup>32</sup>=4294967296</td></tr></tbody></table></div></div><div class="section"><a name="d39e2674"></a><div class="titlepage"><div><h3 class="title"><a name="d39e2674"></a>Macros <a href="http://www.lisp.org/HyperSpec/Body/mac_defun.html" target="_top"><tt>DEFUN</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/mac_defmacro.html" target="_top"><tt>DEFMACRO</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/mac_defun.html" target="_top"><tt>DEFUN</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_defmacro.html" target="_top"><tt>DEFMACRO</tt></a> are allowed in non-toplevel positions. As
 an example, consider the old (CLtL1) definition of <a href="http://www.lisp.org/HyperSpec/Body/fun_gensym.html" target="_top"><tt>GENSYM</tt></a>:</p><pre class="programlisting">
(let ((gensym-prefix "G")
      (gensym-count 1))
  (defun gensym (&amp;optional (x nil s))
    (when s
      (cond ((stringp x) (setq gensym-prefix x))
            ((integerp x)
             (if (minusp x)
               (error "~S: index ~S is negative" 'gensym x)
               (setq gensym-count x)))
            (t (error "~S: argument ~S of wrong type" 'gensym x))))
    (prog1
      (make-symbol
        (concatenate 'string
          gensym-prefix
          (write-to-string gensym-count :base 10 :radix nil)))
      (incf gensym-count))))
</pre></div></div></div><div id="iteration" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="iteration"></a>Chapter 6. Iteration
   <a href="http://www.lisp.org/HyperSpec/Body/chap-6.html" target="_top">[CLHS-6]</a></h2></div></div><p>No notes.</p></div><div id="objects" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="objects"></a>Chapter 7. Objects
   <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top">[CLHS-7]</a></h2></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/sec_7-2.html" target="_top">Changing the class of a given
 instance</a> is not supported.  The functions <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><tt>CHANGE-CLASS</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_ferent-class.html" target="_top"><tt>UPDATE-INSTANCE-FOR-DIFFERENT-CLASS</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_mak_ces-obsolete.html" target="_top"><tt>MAKE-INSTANCES-OBSOLETE</tt></a> are
 not implemented.</p><p>Only the <a href="http://www.lisp.org/HyperSpec/Body/sec_7-6-6-2.html" target="_top"><tt>STANDARD</tt></a> method combination is implemented.</p><p><a href="http://www.lisp.org/HyperSpec/Body/sec_7-6-6-3.html" target="_top">User-defined method
 combination</a> is not supported.  The macros
 <a href="http://www.lisp.org/HyperSpec/Body/mac_define-me_-combination.html" target="_top"><tt>DEFINE-METHOD-COMBINATION</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><tt>CALL-METHOD</tt></a> and the functions
 <a href="http://www.lisp.org/HyperSpec/Body/fun_invalid-method-error.html" target="_top"><tt>INVALID-METHOD-ERROR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_method-co_nation-error.html" target="_top"><tt>METHOD-COMBINATION-ERROR</tt></a> are not
 implemented.</p></div><div id="structures" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="structures"></a>Chapter 8. Structures
   <a href="http://www.lisp.org/HyperSpec/Body/chap-8.html" target="_top">[CLHS-8]</a></h2></div></div><p>The <tt>:print-function</tt> option should contain a <a href="http://www.lisp.org/HyperSpec/Body/glo_l.html#lambda_expression" target="_top">lambda expression</a>
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_lambda.html" target="_top"><tt>LAMBDA</tt></a> (structure stream depth) (declare
 (ignore depth)) ...)</tt> This <a href="http://www.lisp.org/HyperSpec/Body/glo_l.html#lambda_expression" target="_top">lambda expression</a> names a function
 whose task is to output the external representation of structure onto
 the stream. This may be done by outputting text onto the stream using
 <a href="http://www.lisp.org/HyperSpec/Body/fun_write-char.html" target="_top"><tt>WRITE-CHAR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_write-str_m_write-line.html" target="_top"><tt>WRITE-STRING</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>WRITE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRIN1</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRINC</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRINT</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PPRINT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> and the like. The following rules must be
 obeyed:</p><div class="itemizedlist"><ul><li><a name="d39e2809"></a><p>The value of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-escapest.html" target="_top"><tt>*PRINT-ESCAPE*</tt></a> must be
  respected.</p></li><li><a name="d39e2816"></a><p>The value of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-prettyst.html" target="_top"><tt>*PRINT-PRETTY*</tt></a> should not and
  cannot be respected, since the pretty-print mechanism is not
  accessible from outside.</p></li><li><a name="d39e2823"></a><p>The value of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-circlest.html" target="_top"><tt>*PRINT-CIRCLE*</tt></a> need not to be
  respected.  This is managed by the system.  (But the print-circle
  mechanism handles only those objects that are (direct or indirect)
  components of structure.)</p></li><li><a name="d39e2830"></a><p>The value of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-l_int-lengthst.html" target="_top"><tt>*PRINT-LEVEL*</tt></a> is respected by
  <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>WRITE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRIN1</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRINC</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRINT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PPRINT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> instructions
  <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-1.html" target="_top"><tt>~A</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-2.html" target="_top"><tt>~S</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-3.html" target="_top"><tt>~W</tt></a>, and <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> instructions
  <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-1.html" target="_top"><tt>~R</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-2.html" target="_top"><tt>~D</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-3.html" target="_top"><tt>~B</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-4.html" target="_top"><tt>~O</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-5.html" target="_top"><tt>~X</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-1.html" target="_top"><tt>~F</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-2.html" target="_top"><tt>~E</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-3.html" target="_top"><tt>~G</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-4.html" target="_top"><tt>~$</tt></a> with not-numerical arguments.
  Therefore the print-level mechanism works automatically if only these
  functions are used for outputting objects and if they are not called
  on objects with nesting level &gt; 1. (The print-level mechanism does
  not recognize how many parentheses you have output. It only counts how
  many times it was called recursively.)</p></li><li><a name="d39e2913"></a><p>The value of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-l_int-lengthst.html" target="_top"><tt>*PRINT-LENGTH*</tt></a> must be respected,
  especially if you are outputting an arbitrary number of
  components.</p></li><li><a name="d39e2920"></a><p>The value of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> must be
  respected. Remember that the values of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-escapest.html" target="_top"><tt>*PRINT-ESCAPE*</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-l_int-lengthst.html" target="_top"><tt>*PRINT-LEVEL*</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-l_int-lengthst.html" target="_top"><tt>*PRINT-LENGTH*</tt></a> are ignored if
  <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> is true.  The value of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> is
  respected by <a href="http://www.lisp.org/HyperSpec/Body/mac_print-unr_dable-object.html" target="_top"><tt>PRINT-UNREADABLE-OBJECT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>WRITE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRIN1</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRINC</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRINT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PPRINT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> instructions <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-1.html" target="_top"><tt>~A</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-2.html" target="_top"><tt>~S</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-3.html" target="_top"><tt>~W</tt></a>, and <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> instructions <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-1.html" target="_top"><tt>~R</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-2.html" target="_top"><tt>~D</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-3.html" target="_top"><tt>~B</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-4.html" target="_top"><tt>~O</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-5.html" target="_top"><tt>~X</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-1.html" target="_top"><tt>~F</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-2.html" target="_top"><tt>~E</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-3.html" target="_top"><tt>~G</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-4.html" target="_top"><tt>~$</tt></a> with not-numerical arguments.  Therefore
  <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> will be respected automatically if only these
  functions are used for printing objects.</p></li><li><a name="d39e3031"></a><p>You need not worry about the values of
  <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-b_rint-radixst.html" target="_top"><tt>*PRINT-BASE*</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-b_rint-radixst.html" target="_top"><tt>*PRINT-RADIX*</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-casest.html" target="_top"><tt>*PRINT-CASE*</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-gensymst.html" target="_top"><tt>*PRINT-GENSYM*</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-arrayst.html" target="_top"><tt>*PRINT-ARRAY*</tt></a>, <a href="#pr-closure"><tt>custom:*print-closure*</tt></a>,
  <a href="#pr-rpars"><tt>custom:*print-rpars*</tt></a>, <a href="#pr-indent"><tt>custom:*print-indent-lists*</tt></a>.
  </p></li></ul></div><p>The <tt>:inherit</tt> option is exactly like <tt>:include</tt> except that it
 does not create new accessors for the inherited slots.</p></div><div id="conditions" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="conditions"></a>Chapter 9. Conditions
   <a href="http://www.lisp.org/HyperSpec/Body/chap-9.html" target="_top">[CLHS-9]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e3201">Embedded Newlines in Condition Reports
   <a href="http://www.lisp.org/HyperSpec/Body/sec_9-1-3-1-3.html" target="_top">[CLHS-9.1.3.1.3]</a></a></dt><dt> <a href="#d39e3208">The Conditions Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_condi_s_dictionary.html" target="_top">[CLHS-9.2.]</a></a></dt></dl></div><p>When an error occurred, you are in a break loop. You can evaluate
 forms as usual. The <b>help</b> command (or help key if
 there is one) lists the available <a href="#debugger">debugging
 commands</a>.</p><p><b><tt>ext:muffle-cerrors</tt></b> The macro <tt>(<tt>ext:muffle-cerrors</tt>
 {<i><tt>form</tt></i>}*)</tt> executes the
 <i><tt>form</tt></i>s.  When a continuable error occurs, no
 message is printed.  Instead, the <a href="http://www.lisp.org/HyperSpec/Body/fun_abortcm_c_cm_use-value.html" target="_top"><tt>CONTINUE</tt></a> restart is invoked.
</p><p><b><tt>ext:appease-cerrors</tt></b> The macro <tt>(<tt>ext:appease-cerrors</tt>
 {<i><tt>form</tt></i>}*)</tt> executes the
 <i><tt>form</tt></i>s.  When a continuable error occurs, the
 error is printed as a warning and the <a href="http://www.lisp.org/HyperSpec/Body/fun_abortcm_c_cm_use-value.html" target="_top"><tt>CONTINUE</tt></a> restart is invoked.
</p><p><b><tt>ext:exit-on-error</tt></b> The macro <tt>(<tt>ext:exit-on-error</tt>
 {<i><tt>form</tt></i>}*)</tt> executes the
 <i><tt>form</tt></i>s.  When a non-continuable error or a
 Ctrl-C interrupt
 occurs, the error is printed and <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> terminates with error status.
</p><p><b><tt>ext:with-restarts</tt></b> The macro <tt>ext:with-restarts</tt> is like
 <a href="http://www.lisp.org/HyperSpec/Body/mac_restart-case.html" target="_top"><tt>RESTART-CASE</tt></a>, except that the forms are specified after the restart
 clauses instead of before them, and the restarts created are not
 implicitly associated to any condition.
 <tt>(<tt>ext:with-restarts</tt>
 ({<tt>restart-clause</tt>}*)
 {<i><tt>form</tt></i>}*)</tt>
 is therefore equivalent to <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_restart-case.html" target="_top"><tt>RESTART-CASE</tt></a>
 (<a href="http://www.lisp.org/HyperSpec/Body/speope_progn.html" target="_top"><tt>PROGN</tt></a> {<i><tt>form</tt></i>}*)
 {<tt>restart-clause</tt>}*)</tt>.
</p><div class="section"><a name="d39e3201"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e3201"></a>Embedded Newlines in Condition Reports
   <a href="http://www.lisp.org/HyperSpec/Body/sec_9-1-3-1-3.html" target="_top">[CLHS-9.1.3.1.3]</a></h2></div></div><p>The error message prefix for the first line is "*** - ". There is
 no prefix for subsequent error lines. The aesthetics of condition
 reports containing an object, which requires newlines when pretty
 printing is enabled, is undefined.</p></div><div class="section"><a name="d39e3208"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e3208"></a>The Conditions Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_condi_s_dictionary.html" target="_top">[CLHS-9.2.]</a></h2></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/mac_restart-case.html" target="_top"><tt>RESTART-CASE</tt></a></b> In <a href="http://www.lisp.org/HyperSpec/Body/mac_restart-case.html" target="_top"><tt>RESTART-CASE</tt></a> clauses the argument list can also be specified
 after the keyword/value pairs instead of before them.  The syntax
 therefore is

<div class="variablelist"><p><b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_restart-case.html" target="_top"><tt>RESTART-CASE</tt></a>
 <i><tt>form</tt></i>
 {<tt>restart-clause</tt>}*)</tt></b></p><dl><dt><a name="d39e3238"></a><span class="term"><tt>restart-clause</tt> ::==</span></dt><dd><pre class="programlisting">
   (<tt>restart-name</tt> <i><tt>arglist</tt></i> {<tt>keyword value</tt>}* {<i><tt>form</tt></i>}*)
   | (<tt>restart-name</tt> {<tt>keyword value</tt>}* <i><tt>arglist</tt></i> {<i><tt>form</tt></i>}*)
</pre></dd></dl></div>
</p><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_compute-restarts.html" target="_top"><tt>COMPUTE-RESTARTS</tt></a></b> <a href="http://www.lisp.org/HyperSpec/Body/fun_compute-restarts.html" target="_top"><tt>COMPUTE-RESTARTS</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_find-restart.html" target="_top"><tt>FIND-RESTART</tt></a> behave as specified in
 [<a href="#ansi-cl">ANSI CL standard</a>]: If the optional condition argument is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, only
 restarts associated with that condition and restarts associated to no
 condition at all are considered.  Therefore the effect of associating a
 restart to a condition is not to activate it, but to hide it from other
 conditions.  This makes the syntax dependent implicit association
 performed by <a href="http://www.lisp.org/HyperSpec/Body/mac_restart-case.html" target="_top"><tt>RESTART-CASE</tt></a> nearly obsolete.</p></div></div><div id="symbols" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="symbols"></a>Chapter 10. Symbols
   <a href="http://www.lisp.org/HyperSpec/Body/chap-10.html" target="_top">[CLHS-10]</a></h2></div></div><p>No notes.</p></div><div id="packages" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="packages"></a>Chapter 11. Packages
   <a href="http://www.lisp.org/HyperSpec/Body/chap-11.html" target="_top">[CLHS-11]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#clupack">The COMMON-LISP-USER Package
   <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top">[CLHS-11.1.2.2]</a></a></dt><dt> <a href="#imppack">Implementation-Defined Packages
   <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-4.html" target="_top">[CLHS-11.1.2.4]</a></a></dt><dt> <a href="#d39e3528">The Packages Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_packa_s_dictionary.html" target="_top">[CLHS-11.2.]</a></a></dt><dd><dl><dt> <a href="#d39e3533">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_make-package.html" target="_top"><tt>MAKE-PACKAGE</tt></a></a></dt></dl></dd></dl></div><p>The [<a href="#ansi-cl">ANSI CL standard</a>] packages
<div class="itemizedlist"><ul><li><a name="d39e3316"></a><p><a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a> with the nicknames <i><tt>CL</tt></i> and <i><tt>LISP</tt></i>;</p></li><li><a name="d39e3330"></a><p><a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top">&#8220;COMMON-LISP-USER&#8221;</a> with the nicknames <i><tt>CL-USER</tt></i> and <i><tt>USER</tt></i> and</p></li><li><a name="d39e3344"></a><p><a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-3.html" target="_top">&#8220;KEYWORD&#8221;</a></p></li></ul></div></p><p>are implemented. The package <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a> <a href="http://www.lisp.org/HyperSpec/Body/fun_export.html" target="_top"><tt>EXPORT</tt></a>s only those symbols
 from the [<a href="#ansi-cl">ANSI CL standard</a>] that are actually implemented.</p><div class="section"><a name="clupack"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="clupack"></a>The COMMON-LISP-USER Package
   <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top">[CLHS-11.1.2.2]</a></h2></div></div><p>The <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top">&#8220;COMMON-LISP-USER&#8221;</a> package uses the <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a> and <a href="#ext-pac">&#8220;EXT&#8221;</a> packages.</p></div><div class="section"><a name="imppack"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="imppack"></a>Implementation-Defined Packages
   <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-4.html" target="_top">[CLHS-11.1.2.4]</a></h2></div></div><p>The following additional packages exist:</p><div class="variablelist"><p><b>Implementation-Defined Packages</b></p><dl><dt><a name="d39e3392"></a><span class="term">&#8220;CLOS&#8221;</span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/fun_export.html" target="_top"><tt>EXPORT</tt></a>s all <b>CLOS</b> specific symbols, including some
   <a href="#clos-diff">additional symbols</a>.
   </p></dd><dt><a name="d39e3408"></a><span class="term">&#8220;SYSTEM&#8221;</span></dt><dd><p>has the nicknames <i>&#8220;SYS&#8221;</i> and <i>&#8220;COMPILER&#8221;</i>, and has no
   <a href="http://www.lisp.org/HyperSpec/Body/fun_export.html" target="_top"><tt>EXPORT</tt></a>ed symbols.  It defines many system internals.
   </p></dd><dt><a name="ext-pac"></a><span class="term">&#8220;EXT&#8221;</span></dt><dd><p>
   is the umbrella package for all extensions: it imports and <a href="#re-export"><tt>re-export</tt></a>s
   all the external symbols in all <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> extensions, so a simple
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_use-package.html" target="_top"><tt>USE-PACKAGE</tt></a> "EXT")</tt> is enough to
   make all the extensions available in the current package.
   This package uses packages (in addition to <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-1.html" target="_top">&#8220;COMMON-LISP&#8221;</a>):
   <a href="#dir-key">&#8220;LDAP&#8221;</a> <a href="#syscalls">&#8220;POSIX&#8221;</a> <a href="#socket">&#8220;SOCKET&#8221;</a> <a href="#gstream">&#8220;GSTREAM&#8221;</a> <a href="#gray">&#8220;GRAY&#8221;</a>
   <a href="#language">&#8220;I18N&#8221;</a> <a href="#customize">&#8220;CUSTOM&#8221;</a>.
   </p></dd><dt><a name="d39e3481"></a><span class="term"><a href="#encoding">&#8220;CHARSET&#8221;</a></span></dt><dd><p>defines and <a href="http://www.lisp.org/HyperSpec/Body/fun_export.html" target="_top"><tt>EXPORT</tt></a>s some character sets, for use with
   <tt>make-encoding</tt> and as <a href="#extfmt"><tt>:external-format</tt></a> argument.
   </p></dd><dt><a name="d39e3500"></a><span class="term"><a href="#dffi">&#8220;FFI&#8221;</a></span></dt><dd><p>implements the <a href="#dffi">foreign function
   interface</a>.  Some platforms only.
   </p></dd><dt><a name="d39e3511"></a><span class="term"><a href="#screen">&#8220;SCREEN&#8221;</a></span></dt><dd><p>defines an API for <a href="#screen">random screen
   access</a>.  Some platforms only.
   </p></dd></dl></div><p>All pre-existing packages except <a href="#clupack"><tt>COMMON-LISP-USER</tt></a> belong
 to the implementation, in the sense that doing side-effects on them or
 on their symbols causes undefined behavior.</p></div><div class="section"><a name="d39e3528"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e3528"></a>The Packages Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_packa_s_dictionary.html" target="_top">[CLHS-11.2.]</a></h2></div></div><div class="section"><a name="d39e3533"></a><div class="titlepage"><div><h3 class="title"><a name="d39e3533"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_make-package.html" target="_top"><tt>MAKE-PACKAGE</tt></a></h3></div></div><p>For <a href="http://www.lisp.org/HyperSpec/Body/fun_make-package.html" target="_top"><tt>MAKE-PACKAGE</tt></a>, the default value of the <tt>:use</tt> argument is
 <tt>("COMMON-LISP")</tt>.
</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_make-package.html" target="_top"><tt>MAKE-PACKAGE</tt></a> accepts a keyword argument <tt>:case-sensitive</tt>.
 Similarly, <a href="http://www.lisp.org/HyperSpec/Body/mac_defpackage.html" target="_top"><tt>DEFPACKAGE</tt></a> accepts an option <tt>:case-sensitive</tt>.
 When its value is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, the package will be case sensitive, i.e.,
 the reader will not case-convert symbol names before looking them up or
 creating them in this package.
 The package names are still subject to
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/acc_readtable-case.html" target="_top"><tt>READTABLE-CASE</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/var_streadtablest.html" target="_top"><tt>*READTABLE*</tt></a>)</tt>,
 though.</p><div class="section"><a name="re-export"></a><div class="titlepage"><div><h4 class="title"><a name="re-export"></a><tt>ext:re-export</tt></h4></div></div><p>The function <tt>(<a href="#re-export"><tt>re-export</tt></a> <i><tt>FROM-PACK</tt></i>
               <i><tt>TO-PACK</tt></i>)</tt>
 re-exports all external symbols from
 <i><tt>FROM-PACK</tt></i> also from
 <i><tt>TO-PACK</tt></i>, provided it already uses
 <i><tt>FROM-PACK</tt></i>.
</p></div></div></div></div><div id="numbers" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="numbers"></a>Chapter 12. Numbers
   <a href="http://www.lisp.org/HyperSpec/Body/chap-12.html" target="_top">[CLHS-12]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e3614">Numeric Types</a></dt><dt> <a href="#d39e3699">Number Concepts
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1.html" target="_top">[CLHS-12.1]</a></a></dt><dd><dl><dt> <a href="#d39e3704">Byte Operations on Integers
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-1-3-2.html" target="_top">[CLHS-12.1.1.3.2]</a></a></dt><dt> <a href="#d39e3714">Rule of Float Substitutability
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-3-3.html" target="_top">[CLHS-12.1.3.3]</a></a></dt><dt> <a href="#d39e3721">Floating-point Computations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-4.html" target="_top">[CLHS-12.1.4]</a></a></dt><dt> <a href="#d39e4175">Complex Computations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-5.html" target="_top">[CLHS-12.1.5]</a></a></dt><dt> <a href="#d39e4249">Rule of Canonical Representation for Complex Rationals
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-5-3.html" target="_top">[CLHS-12.1.5.3]</a></a></dt></dl></dd><dt> <a href="#d39e4289">The Numbers Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_numbers_dictionary.html" target="_top">[CLHS-12.2]</a></a></dt><dd><dl><dt> <a href="#d39e4324">Additional Integer Functions</a></dt><dt> <a href="#d39e4458">Floating Point</a></dt><dt> <a href="#d39e4534">Float Decoding
   <a href="http://www.lisp.org/HyperSpec/Body/fun_decode-fl_decode-float.html" target="_top">[CLHS]</a></a></dt><dt> <a href="#d39e4577">Boolean Operations
   <a href="http://www.lisp.org/HyperSpec/Body/convar_boole-_cm_boole-xor.html" target="_top">[CLHS]</a></a></dt><dt> <a href="#d39e4685">Fixnum Limits
   <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_ative-fixnum.html" target="_top">[CLHS]</a></a></dt><dt> <a href="#d39e4740">Float Limits
   <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top">[CLHS]</a></a></dt><dt> <a href="#d39e4790">Condition <a href="http://www.lisp.org/HyperSpec/Body/contyp_floati_id-operation.html" target="_top"><tt>FLOATING-POINT-INVALID-OPERATION</tt></a></a></dt><dt> <a href="#d39e4802">Condition <a href="http://www.lisp.org/HyperSpec/Body/contyp_floati_oint-inexact.html" target="_top"><tt>FLOATING-POINT-INEXACT</tt></a></a></dt></dl></dd></dl></div><div class="section"><a name="d39e3614"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e3614"></a>Numeric Types</h2></div></div><p>The type <a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><tt>NUMBER</tt></a> is the disjoint union of the types
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_real.html" target="_top"><tt>REAL</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a>.  (<a href="http://www.lisp.org/HyperSpec/Body/glo_e.html#exhaustive_partition" target="_top">&#8220;exhaustive
 partition&#8221;</a>)</p><p>The type <a href="http://www.lisp.org/HyperSpec/Body/syscla_real.html" target="_top"><tt>REAL</tt></a> is the disjoint union of the types
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_rational.html" target="_top"><tt>RATIONAL</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_float.html" target="_top"><tt>FLOAT</tt></a>.</p><p>The type <a href="http://www.lisp.org/HyperSpec/Body/syscla_rational.html" target="_top"><tt>RATIONAL</tt></a> is the disjoint union of the types
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_ratio.html" target="_top"><tt>RATIO</tt></a>.</p><p>The type <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a> is the disjoint union of the types
 <a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><tt>FIXNUM</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/typ_bignum.html" target="_top"><tt>BIGNUM</tt></a>.</p><p>The type <a href="http://www.lisp.org/HyperSpec/Body/syscla_float.html" target="_top"><tt>FLOAT</tt></a> is the disjoint union of the types
 <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SHORT-FLOAT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a> and
 <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>LONG-FLOAT</tt></a>.</p></div><div class="section"><a name="d39e3699"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e3699"></a>Number Concepts
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1.html" target="_top">[CLHS-12.1]</a></h2></div></div><div class="section"><a name="d39e3704"></a><div class="titlepage"><div><h3 class="title"><a name="d39e3704"></a>Byte Operations on Integers
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-1-3-2.html" target="_top">[CLHS-12.1.1.3.2]</a></h3></div></div><p>Byte specifiers are objects of type <tt>byte</tt>,
 not integers.</p></div><div class="section"><a name="d39e3714"></a><div class="titlepage"><div><h3 class="title"><a name="d39e3714"></a>Rule of Float Substitutability
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-3-3.html" target="_top">[CLHS-12.1.3.3]</a></h3></div></div><p>When a mathematical function may return an exact (rational) or
 inexact (floating-point) result, it always returns the exact
 result.</p></div><div class="section"><a name="d39e3721"></a><div class="titlepage"><div><h3 class="title"><a name="d39e3721"></a>Floating-point Computations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-4.html" target="_top">[CLHS-12.1.4]</a></h3></div></div><p>There are four floating point types: <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SHORT-FLOAT</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>LONG-FLOAT</tt></a>:</p><div class="table"><p><a name="d39e3744"></a><b>floating point types</b></p><table summary="floating point types" align="center" border="1"><colgroup><col><col><col><col><col></colgroup><thead><tr><th>type</th><th>sign</th><th>mantissa</th><th>exponent</th><th>comment</th></tr></thead><tbody><tr><td><a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SHORT-FLOAT</tt></a></td><td>1 bit</td><td>16+1 bits</td><td>8 bits</td><td>immediate</td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a></td><td>1 bit</td><td>23+1 bits</td><td>8 bits</td><td>IEEE format</td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a></td><td>1 bit</td><td>52+1 bits</td><td>11 bits</td><td>IEEE format</td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>LONG-FLOAT</tt></a></td><td>1 bit</td><td>&gt;=64 bits</td><td>32 bits</td><td>variable
 length</td></tr></tbody></table></div><p>The single and double float formats are those of the IEEE standard
 (1981), except that <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> does not support features like
 <tt>+0</tt>, <tt>-0</tt>, <tt>+inf</tt>,
 <tt>-inf</tt>, gradual underflow, <tt>NaN</tt>,
 etc. (<a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a> does not make use of these features.)  This is why
 <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><tt>*FEATURES*</tt></a> does not contain the
 <tt>:IEEE-FLOATING-POINT</tt> keyword.</p><p><a name="lfd"></a>Long floats have variable mantissa length, which is a
 multiple of 16 (or 32, depending on the word size of the
 processor).  The default length used when long floats are read is given
 by the place <tt>(<a href="#lfd"><tt>ext:long-float-digits</tt></a>)</tt>.  It can be set by
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="#lfd"><tt>ext:long-float-digits</tt></a>)
 <i><tt>nnn</tt></i>)</tt>, where
 <i><tt>nnn</tt></i> is a positive integer.  E.g., <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<a href="#lfd"><tt>ext:long-float-digits</tt></a>) 3322)</tt> sets the default precision
 of long floats to 1000 decimal digits.</p><div class="section"><a name="flocont"></a><div class="titlepage"><div><h4 class="title"><a name="flocont"></a>Rule of Float Precision Contagion
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-4-4.html" target="_top">[CLHS-12.1.4.4]</a></h4></div></div><p>The floating point contagion is controlled by the variable
 <a href="#flocont"><tt>custom:*floating-point-contagion-ansi*</tt></a>.  When it is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, contagion is done as per the
 [<a href="#ansi-cl">ANSI CL standard</a>]: <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SHORT-FLOAT</tt></a> &#8594; <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a> &#8594;
 <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a> &#8594; <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>LONG-FLOAT</tt></a>.</p><div class="variablelist"><dl><dt><a name="d39e3918"></a><span class="term">Rationale:</span></dt><dd><p>See it pragmatically: save what you can and let
  others worry about the rest.</p></dd><dt><a name="d39e3924"></a><span class="term">Brief:</span></dt><dd><p>CL knows the number's precision, not accuracy, so
  preserving the precision can be accomplished reliably, while anything
  relating to the accuracy is just a speculation - only the user
  (programmer) knows what it is in each case.
 </p></dd><dt><a name="d39e3930"></a><span class="term">Detailed:</span></dt><dd><p>A float is an approximation of a real number.  One
  can think of it as a random variable with the mean equal to itself and
  standard deviation equal to half the last significant digit.  E.g.,
  <tt>1.5</tt> is actually <tt>1.5+-0.05</tt>.
  Consider adding <tt>1.5</tt> and <tt>1.75</tt>.
  [<a href="#ansi-cl">ANSI CL standard</a>] requires that <tt>(+ 1.5 1.75)</tt>
  return <tt>3.25</tt>, while traditional <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> would return
  <tt>3.3</tt>.  The implied random variables are:
  <tt>3.25+-0.005</tt> and <tt>3.3+-0.05</tt>.  Note
  that the <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>'s way <i>does</i> lie
  about the mean: the mean <i>is</i>
  <tt>3.25</tt> and nothing else, while the standard way
  <i>could</i> be lying about the deviation
  (accuracy): if the implied accuracy of <tt>1.5 (0.05)</tt>
  is its actual accuracy, then the accuracy of the result cannot be
  smaller that that.  Therefore, since CL has no way of knowing the
  actual accuracy, [<a href="#ansi-cl">ANSI CL standard</a>] (and all the other standard engineering
  programming languages, like <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>, FORTRAN etc) decides that
  keeping the accuracy correct is the business of the programmer, while
  the language should preserve what it can - the precision.
  </p></dd><dt><a name="d39e3998"></a><span class="term">Experience:</span></dt><dd><p> Rounding errors accumulate, and if a computation
  is conducted with insufficient precision, an outright incorrect
  result can be returned.  (E.g.,
  <tt>E(x<sup>2</sup>) -
  E(x)<sup>2</sup></tt> can be negative!)  The user
  should not mix floats of different precision (that's what <a href="#warn-fpc"><tt>custom:*warn-on-floating-point-contagion*</tt></a> is
  for), but one should not be penalized for this too harshly.
  </p></dd></dl></div><p>When <a href="#flocont"><tt>custom:*floating-point-contagion-ansi*</tt></a> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, the traditional <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> method is used,
 namely the result of an arithmetic operation whose arguments are of
 different float types is rounded to the float format of the shortest
 (least precise) of the arguments: <a href="http://www.lisp.org/HyperSpec/Body/syscla_rational.html" target="_top"><tt>RATIONAL</tt></a> &#8594;
 <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>LONG-FLOAT</tt></a> &#8594; <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a> &#8594; <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a>
 &#8594; <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SHORT-FLOAT</tt></a> (in contrast to <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-4-4.html" target="_top">12.1.4.4 Rule of Float Precision
 Contagion</a>!)</p><div class="variablelist"><dl><dt><a name="d39e4054"></a><span class="term">Rationale:</span></dt><dd><p> See it mathematically.  Add intervals:
  <tt>{1.0 &plusmn; 1e-8} + {1.0 &plusmn; 1e-16} = {2.0 &plusmn;
  1e-8}</tt>.  So, if we add <tt>1.0s0</tt> and
  <tt>1.0d0</tt>, we should get <tt>2.0s0</tt>.
  </p></dd><dt><a name="d39e4072"></a><span class="term">Brief:</span></dt><dd><p>Do not suggest accuracy of a result by giving it a
  precision that is greater than its accuracy.
  </p></dd><dt><a name="d39e4078"></a><span class="term">Example:</span></dt><dd><p><tt>(- (+ 1.7 <a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a>) <a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a>)</tt>
  should not return <tt>1.700000726342836417234L0</tt>, it
  should return <tt>1.7f0</tt> (or
  <tt>1.700001f0</tt> if there were rounding errors).
  </p></dd><dt><a name="d39e4103"></a><span class="term">Experience:</span></dt><dd><p>If in a computation using thousands of short floats,
  a long float (like <a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a>) happens to be used, the long precision should
  not propagate throughout all the intermediate values. Otherwise, the
  long result would look precise, but its accuracy is only that of a
  short float; furthermore much computation time would be lost by
  calculating with long floats when only short floats would be needed.
  </p></dd></dl></div><p><a name="warn-fpc"></a><b><a href="#warn-fpc"><tt>custom:*warn-on-floating-point-contagion*</tt></a></b> If the variable <a href="#warn-fpc"><tt>custom:*warn-on-floating-point-contagion*</tt></a> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, a warning is emitted for
 every coercion involving different floating-point types.
</p><p><b><tt>custom:*default-float-format*</tt></b> When rational numbers are to be converted to floats (due to
 <a href="http://www.lisp.org/HyperSpec/Body/fun_float.html" target="_top"><tt>FLOAT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_coerce.html" target="_top"><tt>COERCE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_sqrtcm_isqrt.html" target="_top"><tt>SQRT</tt></a> or a transcendental function), the result
 type is given by the variable
 <tt>custom:*default-float-format*</tt>.</p><p><b><tt>ext:without-floating-point-underflow</tt></b> The macro <tt>(<tt>ext:without-floating-point-underflow</tt>
 {<i><tt>form</tt></i>}*)</tt> executes the
 <i><tt>form</tt></i>s, with errors of type
 <a href="http://www.lisp.org/HyperSpec/Body/contyp_floati_nt-underflow.html" target="_top"><tt>FLOATING-POINT-UNDERFLOW</tt></a> inhibited.
 Floating point operations will silently return zero instead of
 signalling an error of type <a href="http://www.lisp.org/HyperSpec/Body/contyp_floati_nt-underflow.html" target="_top"><tt>FLOATING-POINT-UNDERFLOW</tt></a>.
 </p></div></div><div class="section"><a name="d39e4175"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4175"></a>Complex Computations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-5.html" target="_top">[CLHS-12.1.5]</a></h3></div></div><p>Complex numbers can have a real part and an imaginary part of
 different types. For example, <tt>(sqrt
 -9.0)</tt> evaluates to the number <tt>#C(0 3.0)</tt>,
 which has a real part of exactly <tt>0</tt>, not only
 <tt>0.0</tt> (which would mean "approximately 0").</p><p>The type specifier for this is <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a>
 <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a>)</tt>, and <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a> <tt>type-of-real-part</tt>
 <tt>type-of-imaginary-part</tt>)</tt> in general.</p><p>The type specifier <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a>
 <i><tt>type</tt></i>)</tt> is equivalent to <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a> <i><tt>type</tt></i>
 <i><tt>type</tt></i>)</tt>.</p></div><div class="section"><a name="d39e4249"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4249"></a>Rule of Canonical Representation for Complex Rationals
   <a href="http://www.lisp.org/HyperSpec/Body/sec_12-1-5-3.html" target="_top">[CLHS-12.1.5.3]</a></h3></div></div><p>Complex numbers can have a real part and an imaginary part of
 different types.  If the imaginary part is <a href="http://www.lisp.org/HyperSpec/Body/fun_eql.html" target="_top"><tt>EQL</tt></a> to
 <tt>0</tt>, the number is automatically converted to a real
 number.</p><p>This has the advantage that
   <tt>(let ((x (sqrt -9.0))) (* x x))</tt>
 - instead of evaluating to <tt>#C(-9.0 0.0)</tt>,
 with <i><tt>x</tt></i> = <tt>#C(0.0 3.0)</tt>
 - evaluates to <tt>#C(-9.0 0)</tt> = <tt>-9.0</tt>,
 with <i><tt>x</tt></i> = <tt>#C(0 3.0)</tt>.</p></div></div><div class="section"><a name="d39e4289"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e4289"></a>The Numbers Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_numbers_dictionary.html" target="_top">[CLHS-12.2]</a></h2></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_upgraded-_ex-part-type.html" target="_top"><tt>UPGRADED-COMPLEX-PART-TYPE</tt></a></b> <a href="http://www.lisp.org/HyperSpec/Body/fun_upgraded-_ex-part-type.html" target="_top"><tt>UPGRADED-COMPLEX-PART-TYPE</tt></a> always returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, since a
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_complex.html" target="_top"><tt>COMPLEX</tt></a> number in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> can always have <a href="http://www.lisp.org/HyperSpec/Body/fun_realpartcm_imagpart.html" target="_top"><tt>REALPART</tt></a> and
 <a href="http://www.lisp.org/HyperSpec/Body/fun_realpartcm_imagpart.html" target="_top"><tt>IMAGPART</tt></a> of any type.</p><div class="section"><a name="d39e4324"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4324"></a>Additional Integer Functions</h3></div></div><p><b><tt>ext:!</tt></b> <tt>(<tt>ext:!</tt>
 <i><tt>n</tt></i>)</tt> returns the factorial of
 <i><tt>n</tt></i>, <i><tt>n</tt></i> a
 nonnegative integer.
</p><p><b><tt>ext:exquo</tt></b> <tt>(<tt>ext:exquo</tt>
 <i><tt>x</tt></i> <i><tt>y</tt></i>)</tt>
 returns the integer quotient <tt>x/y</tt> of two integers
 <i><tt>x</tt></i>,<i><tt>y</tt></i>, and signals
 an error when the quotient is not integer.  (This is more efficient
 than <a href="http://www.lisp.org/HyperSpec/Body/fun_sl.html" target="_top"><tt>/</tt></a>.)
</p><p><b><tt>ext:xgcd</tt></b> <tt>(<tt>ext:xgcd</tt>
 <i><tt>x<sub>1</sub></tt></i>
 ... <i><tt>x<sub>n</sub></tt></i>)</tt>
 returns the values <i><tt>g</tt></i>,
 <i><tt>c<sub>1</sub></tt></i>, ...,
 <i><tt>c<sub>n</sub></tt></i>, where
 <i><tt>g</tt></i> is the greatest common divisor of the integers
 <i><tt>x<sub>1</sub></tt></i>, ...,
 <i><tt>x<sub>n</sub></tt></i>, and
 <i><tt>c<sub>1</sub></tt></i>, ...,
 <i><tt>c<sub>n</sub></tt></i> are the integer
 coefficients such that
<pre class="programlisting">
 g = (<a href="http://www.lisp.org/HyperSpec/Body/fun_gcd.html" target="_top"><tt>GCD</tt></a> x<sub>1</sub> ... x<sub>n</sub>)
   = (+ (* c<sub>1</sub> x<sub>1</sub>) ...
        (* c<sub>n</sub> x<sub>n</sub>))
</pre></p></div><div class="section"><a name="d39e4458"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4458"></a>Floating Point</h3></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_expcm_expt.html" target="_top"><tt>EXPT</tt></a></b> <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_expcm_expt.html" target="_top"><tt>EXPT</tt></a> <i><tt>base</tt></i>
 <i><tt>exponent</tt></i>)</tt> is not very precise if
 exponent has large absolute value.</p><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_log.html" target="_top"><tt>LOG</tt></a></b> <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_log.html" target="_top"><tt>LOG</tt></a> <i><tt>number</tt></i>
 <i><tt>base</tt></i>)</tt> signals an error if
 <tt><i><tt>base</tt></i> = 1</tt>.
</p><p><b><a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a></b> The value of <a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a> is a <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>LONG-FLOAT</tt></a> with the precision given
 by <tt>(<a href="#lfd"><tt>ext:long-float-digits</tt></a>)</tt>.  When this precision is
 changed, the value of <a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a> is automatically recomputed.  Therefore <a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a>
 is a variable, not a constant.</p></div><div class="section"><a name="d39e4534"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4534"></a>Float Decoding
   <a href="http://www.lisp.org/HyperSpec/Body/fun_decode-fl_decode-float.html" target="_top">[CLHS]</a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_decode-fl_decode-float.html" target="_top"><tt>FLOAT-RADIX</tt></a> always returns <tt>2</tt>.</p><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_decode-fl_decode-float.html" target="_top"><tt>FLOAT-DIGITS</tt></a>
 <i><tt>number</tt></i>
 <i><tt>digits</tt></i>)</tt> coerces
 <i><tt>number</tt></i> (a real number) to a floating point
 number with at least <i><tt>digits</tt></i> mantissa digits.
 The following holds:
<pre class="programlisting">
 (&gt;= (<a href="http://www.lisp.org/HyperSpec/Body/fun_decode-fl_decode-float.html" target="_top"><tt>FLOAT-DIGITS</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_decode-fl_decode-float.html" target="_top"><tt>FLOAT-DIGITS</tt></a> number digits)) digits)
</pre></p></div><div class="section"><a name="d39e4577"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4577"></a>Boolean Operations
   <a href="http://www.lisp.org/HyperSpec/Body/convar_boole-_cm_boole-xor.html" target="_top">[CLHS]</a></h3></div></div><p><b>Boolean Operations</b></p><p><b>constant name: </b><tt>boole-clr</tt></p><p><b>value: </b>0</p><p><b>constant name: </b><tt>boole-set</tt></p><p><b>value: </b>15</p><p><b>constant name: </b><tt>boole-1</tt></p><p><b>value: </b>10</p><p><b>constant name: </b><tt>boole-2</tt></p><p><b>value: </b>12</p><p><b>constant name: </b><tt>boole-c1</tt></p><p><b>value: </b>5</p><p><b>constant name: </b><tt>boole-c2</tt></p><p><b>value: </b>3</p><p><b>constant name: </b><tt>boole-and</tt></p><p><b>value: </b>8</p><p><b>constant name: </b><tt>boole-ior</tt></p><p><b>value: </b>14</p><p><b>constant name: </b><tt>boole-xor</tt></p><p><b>value: </b>6</p><p><b>constant name: </b><tt>boole-eqv</tt></p><p><b>value: </b>9</p><p><b>constant name: </b><tt>boole-nand</tt></p><p><b>value: </b>7</p><p><b>constant name: </b><tt>boole-nor</tt></p><p><b>value: </b>1</p><p><b>constant name: </b><tt>boole-andc1</tt></p><p><b>value: </b>4</p><p><b>constant name: </b><tt>boole-andc2</tt></p><p><b>value: </b>2</p><p><b>constant name: </b><tt>boole-orc1</tt></p><p><b>value: </b>13</p><p><b>constant name: </b><tt>boole-orc2</tt></p><p><b>value: </b>11</p></div><div class="section"><a name="d39e4685"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4685"></a>Fixnum Limits
   <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_ative-fixnum.html" target="_top">[CLHS]</a></h3></div></div><div class="table"><p><a name="d39e4690"></a><b>Platform dependent</b></p><table summary="Platform dependent" align="center" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>CPU type</th><th>16-bit CPU</th><th>32-bit CPU</th><th>64-bit CPU</th></tr></thead><tbody><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_ative-fixnum.html" target="_top"><tt>MOST-POSITIVE-FIXNUM</tt></a></td><td>2<sup>24</sup>-1 = 16777215</td><td>2<sup>32</sup>-1 = 4294967295</td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_ative-fixnum.html" target="_top"><tt>MOST-NEGATIVE-FIXNUM</tt></a></td><td>-2<sup>24</sup> = -16777216</td><td>-2<sup>32</sup> = -4294967296</td></tr></tbody></table></div></div><div class="section"><a name="d39e4740"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4740"></a>Float Limits
   <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top">[CLHS]</a></h3></div></div><p>Together with <a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a>, the other long float constants
 <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top"><tt>LEAST-NEGATIVE-LONG-FLOAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top"><tt>LEAST-NEGATIVE-NORMALIZED-LONG-FLOAT</tt></a>
 <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top"><tt>LEAST-POSITIVE-LONG-FLOAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top"><tt>LEAST-POSITIVE-NORMALIZED-LONG-FLOAT</tt></a>
 <a href="http://www.lisp.org/HyperSpec/Body/convar_short-_tive-epsilon.html" target="_top"><tt>LONG-FLOAT-EPSILON</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_short-_tive-epsilon.html" target="_top"><tt>LONG-FLOAT-NEGATIVE-EPSILON</tt></a>
 <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top"><tt>MOST-NEGATIVE-LONG-FLOAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_most-p_d-long-float.html" target="_top"><tt>MOST-POSITIVE-LONG-FLOAT</tt></a> are recomputed
 whenever <tt>(<a href="#lfd"><tt>ext:long-float-digits</tt></a>)</tt> is
 changed.  They are variables, not constants.</p></div><div class="section"><a name="d39e4790"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4790"></a>Condition <a href="http://www.lisp.org/HyperSpec/Body/contyp_floati_id-operation.html" target="_top"><tt>FLOATING-POINT-INVALID-OPERATION</tt></a></h3></div></div><p>This condition is never signaled by <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.</p></div><div class="section"><a name="d39e4802"></a><div class="titlepage"><div><h3 class="title"><a name="d39e4802"></a>Condition <a href="http://www.lisp.org/HyperSpec/Body/contyp_floati_oint-inexact.html" target="_top"><tt>FLOATING-POINT-INEXACT</tt></a></h3></div></div><p>This condition is never signaled by <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.</p></div></div></div><div id="characters" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="characters"></a>Chapter 13. Characters
   <a href="http://www.lisp.org/HyperSpec/Body/chap-13.html" target="_top">[CLHS-13]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e6941">Attributes</a></dt><dt> <a href="#d39e7185">Character Scripts
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-2-1.html" target="_top">[CLHS-13.1.2.1]</a></a></dt><dt> <a href="#d39e7196">Character Attributes
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-3.html" target="_top">[CLHS-13.1.3]</a></a></dt><dt> <a href="#d39e7203">Graphic Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-1.html" target="_top">[CLHS-13.1.4.1]</a></a></dt><dt> <a href="#d39e7222">Alphabetic Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-2.html" target="_top">[CLHS-13.1.4.2]</a></a></dt><dt> <a href="#d39e7229">Case of Implementation-Defined Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-3-4.html" target="_top">[CLHS-13.1.4.3.4]</a></a></dt><dt> <a href="#d39e7292">Numeric Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-4.html" target="_top">[CLHS-13.1.4.4]</a></a></dt><dt> <a href="#d39e7299">Ordering of Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-6.html" target="_top">[CLHS-13.1.6]</a></a></dt><dt> <a href="#clhs-newline">Treatment of Newline during Input and Output
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-8.html" target="_top">[CLHS-13.1.8]</a></a></dt><dt> <a href="#d39e7388">Character Encodings
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-9.html" target="_top">[CLHS-13.1.9]</a></a></dt><dt> <a href="#d39e7399">Character Encodings
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-10.html" target="_top">[CLHS-13.1.10]</a></a></dt><dt> <a href="#d39e7409">The Characters Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_chara_s_dictionary.html" target="_top">[CLHS-13.2.]</a></a></dt><dt> <a href="#char-width">Functions on characters</a></dt><dt> <a href="#d39e7540">platform-dependent characters</a></dt><dt> <a href="#d39e8542">Obsolete Constants</a></dt></dl></div><p>The characters are ordered according to a superset of the ASCII
encoding.</p><div class="variablelist"><dl><dt><a name="d39e4823"></a><span class="term">Platform dependent: only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built
  <i>with</i> the compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><p>More precisely, <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> uses the 16-bit
 <a href="http://www.unicode.org/" target="_top">Unicode</a> character set (ISO
 10646, also known as UCS-2).</p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e4850"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>
   platforms only, and only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built
   <i>without</i> compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><p><a name="d39e4872"></a>More precisely, <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> uses the IBM PC character set
 (code page 437):
<div class="table"><p><a name="d39e4879"></a><b>the IBM PC character set (code page 437)</b></p><table summary="the IBM PC character set (code page 437)" align="center" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&nbsp;</th><th>#x0</th><th>#x1</th><th>#x2</th><th>#x3</th><th>#x4</th><th>#x5</th><th>#x6</th><th>#x7</th><th>#x8</th><th>#x9</th><th>#xA</th><th>#xB</th><th>#xC</th><th>#xD</th><th>#xE</th><th>#xF</th></tr></thead><tbody><tr><td>#x00</td><td>**</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>&para;</td><td>&sect;</td></tr><tr><td>#x10</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>**</td><td>**</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>#x20</td><td>&nbsp;</td><td>!</td><td>"</td><td>#</td><td>$</td><td>%</td><td>&amp;</td><td>'</td><td>(</td><td>)</td><td>*</td><td>+</td><td>,</td><td>-</td><td>.</td><td>/</td></tr><tr><td>#x30</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>:</td><td>;</td><td>&lt;</td><td>=</td><td>&gt;</td><td>?</td></tr><tr><td>#x40</td><td>@</td><td>A</td><td>B</td><td>C</td><td>D</td><td>E</td><td>F</td><td>G</td><td>H</td><td>I</td><td>J</td><td>K</td><td>L</td><td>M</td><td>N</td><td>O</td></tr><tr><td>#x50</td><td>P</td><td>Q</td><td>R</td><td>S</td><td>T</td><td>U</td><td>V</td><td>W</td><td>X</td><td>Y</td><td>Z</td><td>[</td><td>\</td><td>]</td><td>^</td><td>_</td></tr><tr><td>#x60</td><td>`</td><td>a</td><td>b</td><td>c</td><td>d</td><td>e</td><td>f</td><td>g</td><td>h</td><td>i</td><td>j</td><td>k</td><td>l</td><td>m</td><td>n</td><td>o</td></tr><tr><td>#x70</td><td>p</td><td>q</td><td>r</td><td>s</td><td>t</td><td>u</td><td>v</td><td>w</td><td>x</td><td>y</td><td>z</td><td>{</td><td>|</td><td>}</td><td>~</td><td>&nbsp;</td></tr><tr><td>#x80</td><td>&Ccedil;</td><td>&uuml;</td><td>&eacute;</td><td>&acirc;</td><td>&auml;</td><td>&agrave;</td><td>&aring;</td><td>&ccedil;</td><td>&ecirc;</td><td>&euml;</td><td>&egrave;</td><td>&iuml;</td><td>&icirc;</td><td>&igrave;</td><td>&Auml;</td><td>&Aring;</td></tr><tr><td>#x90</td><td>&Eacute;</td><td>&aelig;</td><td>&AElig;</td><td>&ocirc;</td><td>&ouml;</td><td>&ograve;</td><td>&ucirc;</td><td>&ugrave;</td><td>&yuml;</td><td>&Ouml;</td><td>&Uuml;</td><td>&cent;</td><td>&pound;</td><td>&yen;</td><td>&#8359;</td><td>&#402;</td></tr><tr><td>#xA0</td><td>&aacute;</td><td>&iacute;</td><td>&oacute;</td><td>&uacute;</td><td>&ntilde;</td><td>&Ntilde;</td><td>&ordf;</td><td>&ordm;</td><td>&iquest;</td><td>&#8976;</td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_not.html" target="_top"><tt>NOT</tt></a></td><td>&frac12;</td><td>&frac14;</td><td>&iexcl;</td><td>&laquo;</td><td>&raquo;</td></tr><tr><td>#xB0</td><td>&#9617;</td><td>&#9618;</td><td>&#9619;</td><td>&#9474;</td><td>&#9508;</td><td>&#9569;</td><td>&#9570;</td><td>&#9558;</td><td>&#9557;</td><td>&#9571;</td><td>&#9553;</td><td>&#9559;</td><td>&#9565;</td><td>&#9564;</td><td>&#9563;</td><td>&#9488;</td></tr><tr><td>#xC0</td><td>&#9492;</td><td>&#9524;</td><td>&#9516;</td><td>&#9500;</td><td>&#9472;</td><td>&#9532;</td><td>&#9566;</td><td>&#9567;</td><td>&#9562;</td><td>&#9556;</td><td>&#9577;</td><td>&#9574;</td><td>&#9568;</td><td>&#9552;</td><td>&#9580;</td><td>&#9575;</td></tr><tr><td>#xD0</td><td>&#9576;</td><td>&#9572;</td><td>&#9573;</td><td>&#9561;</td><td>&#9560;</td><td>&#9554;</td><td>&#9555;</td><td>&#9563;</td><td>&#9562;</td><td>&#9496;</td><td>&#9484;</td><td>&#9608;</td><td>&#9604;</td><td>&#9612;</td><td>&#9616;</td><td>&#9600;</td></tr><tr><td>#xE0</td><td>&#945;</td><td>&szlig;</td><td>&#915;</td><td><a href="http://www.lisp.org/HyperSpec/Body/convar_pi.html" target="_top"><tt>PI</tt></a></td><td>&#931;</td><td>&#963;</td><td>&micro;</td><td>&#964;</td><td>&#934;</td><td>&#920;</td><td>&#937;</td><td>&#948;</td><td>&#8734;</td><td>&#966;</td><td>&#8714;</td><td>&#8745;</td></tr><tr><td>#xF0</td><td>&#8801;</td><td>&plusmn;</td><td>&#8805;</td><td>&#8804;</td><td>&#8992;</td><td>&#8993;</td><td>&divide;</td><td>&#8781;</td><td>&deg;</td><td>&#8729;</td><td>&middot;</td><td>&#8730;</td><td>&#8319;</td><td>&sup2;</td><td>&#9632;</td><td>&nbsp;</td></tr></tbody></table></div>
 Here ** are control characters, not graphic characters. (The characters
 left blank here cannot be represented in this character set).
</p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e5466"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> (except <a href="http://www.next.com/" target="_top"><i>NeXTstep</i></a>),
   <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a> platforms only, and only in
   <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built <i>without</i> compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><p><a name="d39e5500"></a>More precisely, <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> uses the ISO Latin-1 (ISO
 8859-1) character set:
<div class="table"><p><a name="d39e5507"></a><b>the ISO Latin-1 (ISO 8859-1) character set</b></p><table summary="the ISO Latin-1 (ISO 8859-1) character set" align="center" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&nbsp;</th><th>#x0</th><th>#x1</th><th>#x2</th><th>#x3</th><th>#x4</th><th>#x5</th><th>#x6</th><th>#x7</th><th>#x8</th><th>#x9</th><th>#xA</th><th>#xB</th><th>#xC</th><th>#xD</th><th>#xE</th><th>#xF</th></tr></thead><tbody><tr><td>#x00</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td></tr><tr><td>#x10</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td></tr><tr><td>#x20</td><td>&nbsp;</td><td>!</td><td>"</td><td>#</td><td>$</td><td>%</td><td>&amp;</td><td>'</td><td>(</td><td>)</td><td>*</td><td>+</td><td>,</td><td>-</td><td>.</td><td>/</td></tr><tr><td>#x30</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>:</td><td>;</td><td>&lt;</td><td>=</td><td>&gt;</td><td>?</td></tr><tr><td>#x40</td><td>@</td><td>A</td><td>B</td><td>C</td><td>D</td><td>E</td><td>F</td><td>G</td><td>H</td><td>I</td><td>J</td><td>K</td><td>L</td><td>M</td><td>N</td><td>O</td></tr><tr><td>#x50</td><td>P</td><td>Q</td><td>R</td><td>S</td><td>T</td><td>U</td><td>V</td><td>W</td><td>X</td><td>Y</td><td>Z</td><td>[</td><td>\</td><td>]</td><td>^</td><td>_</td></tr><tr><td>#x60</td><td>`</td><td>a</td><td>b</td><td>c</td><td>d</td><td>e</td><td>f</td><td>g</td><td>h</td><td>i</td><td>j</td><td>k</td><td>l</td><td>m</td><td>n</td><td>o</td></tr><tr><td>#x70</td><td>p</td><td>q</td><td>r</td><td>s</td><td>t</td><td>u</td><td>v</td><td>w</td><td>x</td><td>y</td><td>z</td><td>{</td><td>|</td><td>}</td><td>~</td><td>&nbsp;</td></tr><tr><td>#x80</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>#x90</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>#xA0</td><td>&nbsp;</td><td>&iexcl;</td><td>&cent;</td><td>&pound;</td><td>&curren;</td><td>&yen;</td><td>&brvbar;</td><td>&sect;</td><td>&uml;</td><td>&copy;</td><td>&ordf;</td><td>&laquo;</td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_not.html" target="_top"><tt>NOT</tt></a></td><td>&shy;</td><td>&reg;</td><td>&macr;</td></tr><tr><td>#xB0</td><td>&deg;</td><td>&plusmn;</td><td>&sup2;</td><td>&sup3;</td><td>&acute;</td><td>&micro;</td><td>&para;</td><td>&middot;</td><td>&cedil;</td><td>&sup1;</td><td>&ordm;</td><td>&raquo;</td><td>&frac14;</td><td>&frac12;</td><td>&frac34;</td><td>&iquest;</td></tr><tr><td>#xC0</td><td>&Agrave;</td><td>&Aacute;</td><td>&Acirc;</td><td>&Atilde;</td><td>&Auml;</td><td>&Aring;</td><td>&AElig;</td><td>&Ccedil;</td><td>&Egrave;</td><td>&Eacute;</td><td>&Ecirc;</td><td>&Euml;</td><td>&Igrave;</td><td>&Iacute;</td><td>&Icirc;</td><td>&Iuml;</td></tr><tr><td>#xD0</td><td>&ETH;</td><td>&Ntilde;</td><td>&Ograve;</td><td>&Oacute;</td><td>&Ocirc;</td><td>&Otilde;</td><td>&Ouml;</td><td>&times;</td><td>&Oslash;</td><td>&Ugrave;</td><td>&Uacute;</td><td>&Ucirc;</td><td>&Uuml;</td><td>&Yacute;</td><td>&THORN;</td><td>&szlig;</td></tr><tr><td>#xE0</td><td>&agrave;</td><td>&aacute;</td><td>&acirc;</td><td>&atilde;</td><td>&auml;</td><td>&aring;</td><td>&aelig;</td><td>&ccedil;</td><td>&egrave;</td><td>&eacute;</td><td>&ecirc;</td><td>&euml;</td><td>&igrave;</td><td>&iacute;</td><td>&icirc;</td><td>&iuml;</td></tr><tr><td>#xF0</td><td>&eth;</td><td>&ntilde;</td><td>&ograve;</td><td>&oacute;</td><td>&ocirc;</td><td>&otilde;</td><td>&ouml;</td><td>&divide;</td><td>&oslash;</td><td>&ugrave;</td><td>&uacute;</td><td>&ucirc;</td><td>&uuml;</td><td>&yacute;</td><td>&thorn;</td><td>&yuml;</td></tr></tbody></table></div>
Here ** are control characters, not graphic characters. (The characters left
blank here cannot be represented in this character set).
</p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e6080"></a><span class="term">Platform dependent: <a href="http://www.next.com/" target="_top"><i>NeXTstep</i></a> platforms only, and
 only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built <i>without</i> compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><p><a name="d39e6098"></a>More precisely, <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> uses the <a href="http://www.next.com/" target="_top"><i>NeXTstep</i></a> character set:
<div class="table"><p><a name="d39e6109"></a><b>the <a href="http://www.next.com/" target="_top"><i>NeXTstep</i></a> character set</b></p><table summary="the NeXTstep character set" align="center" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>&nbsp;</th><th>#x0</th><th>#x1</th><th>#x2</th><th>#x3</th><th>#x4</th><th>#x5</th><th>#x6</th><th>#x7</th><th>#x8</th><th>#x9</th><th>#xA</th><th>#xB</th><th>#xC</th><th>#xD</th><th>#xE</th><th>#xF</th></tr></thead><tbody><tr><td>#x00</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td></tr><tr><td>#x10</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td><td>**</td></tr><tr><td>#x20</td><td>&nbsp;</td><td>!</td><td>"</td><td>#</td><td>$</td><td>%</td><td>&amp;</td><td>'</td><td>(</td><td>)</td><td>*</td><td>+</td><td>,</td><td>-</td><td>.</td><td>/</td></tr><tr><td>#x30</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>:</td><td>;</td><td>&lt;</td><td>=</td><td>&gt;</td><td>?</td></tr><tr><td>#x40</td><td>@</td><td>A</td><td>B</td><td>C</td><td>D</td><td>E</td><td>F</td><td>G</td><td>H</td><td>I</td><td>J</td><td>K</td><td>L</td><td>M</td><td>N</td><td>O</td></tr><tr><td>#x50</td><td>P</td><td>Q</td><td>R</td><td>S</td><td>T</td><td>U</td><td>V</td><td>W</td><td>X</td><td>Y</td><td>Z</td><td>[</td><td>\</td><td>]</td><td>^</td><td>_</td></tr><tr><td>#x60</td><td>`</td><td>a</td><td>b</td><td>c</td><td>d</td><td>e</td><td>f</td><td>g</td><td>h</td><td>i</td><td>j</td><td>k</td><td>l</td><td>m</td><td>n</td><td>o</td></tr><tr><td>#x70</td><td>p</td><td>q</td><td>r</td><td>s</td><td>t</td><td>u</td><td>v</td><td>w</td><td>x</td><td>y</td><td>z</td><td>{</td><td>|</td><td>}</td><td>~</td><td>&nbsp;</td></tr><tr><td>#x80</td><td>&nbsp;</td><td>&Agrave;</td><td>&Aacute;</td><td>&Acirc;</td><td>&Atilde;</td><td>&Auml;</td><td>&Aring;</td><td>&Ccedil;</td><td>&Egrave;</td><td>&Eacute;</td><td>&Ecirc;</td><td>&Euml;</td><td>&Igrave;</td><td>&Iacute;</td><td>&Icirc;</td><td>&Iuml;</td></tr><tr><td>#x90</td><td>&ETH;</td><td>&Ntilde;</td><td>&Ograve;</td><td>&Oacute;</td><td>&Ocirc;</td><td>&Otilde;</td><td>&Ouml;</td><td>&Ugrave;</td><td>&Uacute;</td><td>&Ucirc;</td><td>&Uuml;</td><td>&Yacute;</td><td>&THORN;</td><td>&micro;</td><td>&times;</td><td>&divide;</td></tr><tr><td>#xA0</td><td>&copy;</td><td>&iexcl;</td><td>&cent;</td><td>&pound;</td><td>&#8260;</td><td>&yen;</td><td>&#402;</td><td>&sect;</td><td>&curren;</td><td>&#8217;</td><td>&#8220;</td><td>&laquo;</td><td>&#8249;</td><td>&#8250;</td><td>&#64257;</td><td>&#64258;</td></tr><tr><td>#xB0</td><td>&reg;</td><td>&#8211;</td><td>&#8224;</td><td>&#8225;</td><td>&middot;</td><td>&brvbar;</td><td>&para;</td><td>&#8226;</td><td>&#8218;</td><td>&#8222;</td><td>&#8221;</td><td>&raquo;</td><td>&#8230;</td><td>&#8240;</td><td><a href="http://www.lisp.org/HyperSpec/Body/fun_not.html" target="_top"><tt>NOT</tt></a></td><td>&iquest;</td></tr><tr><td>#xC0</td><td>&sup1;</td><td>&#715;</td><td>&acute;</td><td>^</td><td>&#732;</td><td>&macr;</td><td>&#728;</td><td>&#729;</td><td>&uml;</td><td>&sup2;</td><td>&#730;</td><td>&cedil;</td><td>&sup3;</td><td>&#733;</td><td>&#731;</td><td>&#711;</td></tr><tr><td>#xD0</td><td>&#8212;</td><td>&plusmn;</td><td>&frac14;</td><td>&frac12;</td><td>&frac34;</td><td>&agrave;</td><td>&aacute;</td><td>&acirc;</td><td>&atilde;</td><td>&auml;</td><td>&aring;</td><td>&ccedil;</td><td>&egrave;</td><td>&eacute;</td><td>&ecirc;</td><td>&euml;</td></tr><tr><td>#xE0</td><td>&igrave;</td><td>&AElig;</td><td>&iacute;</td><td>&ordf;</td><td>&icirc;</td><td>&iuml;</td><td>&eth;</td><td>&ntilde;</td><td>&#321;</td><td>&Oslash;</td><td>&#338;</td><td>&ordm;</td><td>&ograve;</td><td>&oacute;</td><td>&ocirc;</td><td>&otilde;</td></tr><tr><td>#xF0</td><td>&ouml;</td><td>&aelig;</td><td>&ugrave;</td><td>&uacute;</td><td>&ucirc;</td><td>&#305;</td><td>&uuml;</td><td>&yacute;</td><td>&#322;</td><td>&oslash;</td><td>&#339;</td><td>&szlig;</td><td>&thorn;</td><td>&yuml;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></div>
Here ** are control characters, not graphic characters. (The characters left
blank here cannot be represented in this character set).
</p></dd></dl></div><p><b>The following are standard characters:</b></p><p><b>character: </b>#\Space</p><p><b>code: </b>#x20</p><p><b>character: </b>#\Newline</p><p><b>code: </b>#x0A</p><p><b>The following are semi-standard characters:</b></p><p><b>character: </b>#\Backspace</p><p><b>code: </b>#x08</p><p><b>character: </b>#\Tab</p><p><b>code: </b>#x09</p><p><b>character: </b>#\Linefeed</p><p><b>code: </b>#x0A</p><p><b>character: </b>#\Page</p><p><b>code: </b>#x0C</p><p><b>character: </b>#\Return</p><p><b>code: </b>#x0D</p><p><b>Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
  platforms only.</b></p><p><b>character: </b>#\Rubout</p><p><b>code: </b>#x08</p><p><b>Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>
   platforms only.</b></p><p><b>character: </b>#\Rubout</p><p><b>code: </b>#x7F</p><p>#\Newline is the <a href="#newline">delimiter between lines</a>.</p><p><b>Additional Named Characters</b></p><p><b>character: </b>#\Null</p><p><b>code: </b>#x00</p><p><b>character: </b>#\Bell</p><p><b>code: </b>#x07</p><p><b>character: </b>#\Escape</p><p><b>code: </b>#x1B</p><p><b>Additional syntax for characters with code from
 #x00 to #x1F:</b></p><p><b>character: </b>#\^@</p><p><b>code: </b>#x00</p><p><b>character: </b>#\^A &#8230; #\^Z</p><p><b>code: </b>#x01 &#8230;
                   #x1A</p><p><b>character: </b>#\^[</p><p><b>code: </b>#x1B</p><p><b>character: </b>#\^\</p><p><b>code: </b>#x1C</p><p><b>character: </b>#\^]</p><p><b>code: </b>#x1D</p><p><b>character: </b>#\^^</p><p><b>code: </b>#x1E</p><p><b>character: </b>#\^_</p><p><b>code: </b>#x1F</p><p>See also the section <a href="#chario">Character
 I/O</a>.</p><div class="section"><a name="d39e6941"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e6941"></a>Attributes</h2></div></div><p>Characters do not have the [<a href="#CLtL1">CLtL1</a>] font and bits attributes.
 For backward compatibility, there is a class
 <tt>sys::input-character</tt> representing either a
 character with font and bits, or a keystroke.
 The following functions work with objects of types <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>
 and <tt>sys::input-character</tt>.
 Note that <a href="http://www.lisp.org/HyperSpec/Body/fun_eql.html" target="_top"><tt>EQL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/fun_equal.html" target="_top"><tt>EQUAL</tt></a> can not be used to compare objects of type
 <tt>sys::input-character</tt>.</p><div class="variablelist"><dl><dt><a name="d39e6972"></a><span class="term"><tt>ext:char-font-limit</tt> = 16</span></dt><dd><p>The system uses only font 0.
  </p></dd><dt><a name="d39e6980"></a><span class="term"><tt>ext:char-bits-limit</tt> = 16</span></dt><dd><p><b>The following bits are defined:</b></p><p><b>key: </b><tt>:control</tt></p><p><b>value: </b><tt>ext:char-control-bit</tt></p><p><b>key: </b><tt>:meta</tt></p><p><b>value: </b><tt>ext:char-meta-bit</tt></p><p><b>key: </b><tt>:super</tt></p><p><b>value: </b><tt>ext:char-super-bit</tt></p><p><b>key: </b><tt>:hyper</tt></p><p><b>value: </b><tt>ext:char-hyper-bit</tt></p></dd><dt><a name="d39e7021"></a><span class="term"><tt>(<tt>ext:char-font</tt>
  <i><tt>object</tt></i>)</tt> </span></dt><dd><p>returns the font of a character or
  <tt>sys::input-character</tt>.
  </p></dd><dt><a name="d39e7038"></a><span class="term"><tt>(<tt>ext:char-bits</tt>
  <i><tt>object</tt></i>)</tt> </span></dt><dd><p>returns the bits of a character or
  <tt>sys::input-character</tt>.
  </p></dd><dt><a name="d39e7055"></a><span class="term"><tt>(<tt>ext:make-char</tt>
  <i><tt>char</tt></i> [<i><tt>bits</tt></i>
            [<i><tt>font</tt></i>]])</tt></span></dt><dd><p>returns a new <tt>sys::input-character</tt>,
  or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if such a character cannot be created.
  </p></dd><dt><a name="d39e7081"></a><span class="term"><tt>(<tt>ext:char-bit</tt>
  <i><tt>object</tt></i>
  <i><tt>name</tt></i>)</tt></span></dt><dd><p>returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> if the named bit is set in
  <i><tt>object</tt></i>, else <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
  </p></dd><dt><a name="d39e7108"></a><span class="term"><tt>(<tt>ext:set-char-bit</tt>
  <i><tt>object</tt></i> <i><tt>name</tt></i>
  <i><tt>newvalue</tt></i>)</tt></span></dt><dd><p>returns a new
  <tt>sys::input-character</tt> with the named bit set or
  unset, depending on the boolean <i><tt>newvalue</tt></i>.
  </p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e7135"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>
   platforms only.</span></dt><dd><p>The system itself uses this
 <tt>sys::input-character</tt> type only to mention special
 keys and
 <b>Control</b>/<b>Alternate</b>/<b>Shift</b>
 key status on return from
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_read-char.html" target="_top"><tt>READ-CHAR</tt></a> <a href="#terminal"><tt>ext:*keyboard-input*</tt></a>)</tt>.
 </p></dd></dl></div></div><div class="section"><a name="d39e7185"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7185"></a>Character Scripts
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-2-1.html" target="_top">[CLHS-13.1.2.1]</a></h2></div></div><p>The only defined character script is the type <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>
 itself.</p></div><div class="section"><a name="d39e7196"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7196"></a>Character Attributes
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-3.html" target="_top">[CLHS-13.1.3]</a></h2></div></div><p>Characters have no implementation-defined attributes.  All characters
are simple characters.</p></div><div class="section"><a name="d39e7203"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7203"></a>Graphic Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-1.html" target="_top">[CLHS-13.1.4.1]</a></h2></div></div><p>The graphic characters are those Unicode characters which are
 defined by the Unicode standard, excluding the ranges
 U0000 &#8230; U001F and
 U007F &#8230; U009F.</p></div><div class="section"><a name="d39e7222"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7222"></a>Alphabetic Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-2.html" target="_top">[CLHS-13.1.4.2]</a></h2></div></div><p>The alphabetic characters are those Unicode characters which are
 defined as letters by the Unicode standard.</p></div><div class="section"><a name="d39e7229"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7229"></a>Case of Implementation-Defined Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-3-4.html" target="_top">[CLHS-13.1.4.3.4]</a></h2></div></div><p>The characters with case are those Unicode characters
 <i><tt>c</tt></i>, for
 which the upper case mapping <i><tt>uc</tt></i> and the
 lower case mapping <i><tt>lc</tt></i> have the following
 properties:
<div class="itemizedlist"><ul><li><a name="d39e7246"></a><p><i><tt>uc</tt></i> and
   <i><tt>lc</tt></i> are different</p></li><li><a name="d39e7254"></a><p><i><tt>c</tt></i> is one of
   <i><tt>uc</tt></i> and
   <i><tt>lc</tt></i></p></li><li><a name="d39e7264"></a><p>the upper case mapping of
   <i><tt>uc</tt></i> and of <i><tt>lc</tt></i>
   is <i><tt>uc</tt></i></p></li><li><a name="d39e7275"></a><p>the lower case mapping of
   <i><tt>uc</tt></i> and of <i><tt>lc</tt></i>
   is <i><tt>lc</tt></i></p></li></ul></div></p><p>The titlecase property of Unicode characters has no equivalent in
 <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a>.</p></div><div class="section"><a name="d39e7292"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7292"></a>Numeric Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-4-4.html" target="_top">[CLHS-13.1.4.4]</a></h2></div></div><p>The numeric characters are those Unicode characters which are
 defined as digits by the Unicode standard.</p></div><div class="section"><a name="d39e7299"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7299"></a>Ordering of Characters
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-6.html" target="_top">[CLHS-13.1.6]</a></h2></div></div><p>The characters are ordered according to their Unicode code.</p></div><div class="section"><a name="clhs-newline"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="clhs-newline"></a>Treatment of Newline during Input and Output
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-8.html" target="_top">[CLHS-13.1.8]</a></h2></div></div><p>Newlines are written according to the stream's encoding, see the
 function <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-external-format.html" target="_top"><tt>STREAM-EXTERNAL-FORMAT</tt></a> and the description of <a href="#encoding">encodings</a>, in particular, <a href="#newline">line terminators</a>.  The default behavior is as
 follows:</p><div class="variablelist"><dl><dt><a name="d39e7325"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
   platforms only.</span></dt><dd><p>When writing to a file, #\Newline is
 converted to CR/LF.  (This is the
 usual convention on DOS.)  For example,
 #\Return+#\Newline is written as
 CR/CR/LF.
</p></dd></dl></div><p>When reading from a file,
 CR/LF is converted to
 #\Newline (the usual convention on DOS), and
 CR not followed by LF is
 converted to #\Newline as well (the usual conversion
 on MacOS, also used by some programs on Win32).</p></div><div class="section"><a name="d39e7388"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7388"></a>Character Encodings
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-9.html" target="_top">[CLHS-13.1.9]</a></h2></div></div><p>The integer returned by <a href="http://www.lisp.org/HyperSpec/Body/fun_char-int.html" target="_top"><tt>CHAR-INT</tt></a> is the same as the character's
 code.</p></div><div class="section"><a name="d39e7399"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7399"></a>Character Encodings
   <a href="http://www.lisp.org/HyperSpec/Body/sec_13-1-10.html" target="_top">[CLHS-13.1.10]</a></h2></div></div><p>See the description of <a href="#encoding">encodings</a>.</p></div><div class="section"><a name="d39e7409"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7409"></a>The Characters Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_chara_s_dictionary.html" target="_top">[CLHS-13.2.]</a></h2></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_char-code.html" target="_top"><tt>CHAR-CODE</tt></a> takes values from 0 (inclusive) to
 <a href="http://www.lisp.org/HyperSpec/Body/convar_char-code-limit.html" target="_top"><tt>CHAR-CODE-LIMIT</tt></a> (exclusive), i.e., the implementation
 supports exactly <a href="http://www.lisp.org/HyperSpec/Body/convar_char-code-limit.html" target="_top"><tt>CHAR-CODE-LIMIT</tt></a> characters.</p><div class="table"><p><a name="d39e7427"></a><b>Platform dependent</b></p><table summary="Platform dependent" align="center" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>binaries built</th><th><i>without</i><a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a> support</th><th><i>with</i><a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a> support</th></tr></thead><tbody><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_char-code-limit.html" target="_top"><tt>CHAR-CODE-LIMIT</tt></a></td><td>2<sup>8</sup> = 256</td><td>2<sup>16</sup> = 65536</td></tr></tbody></table></div><p>The types <tt>ext:string-char</tt> and
 <a href="http://www.lisp.org/HyperSpec/Body/typ_base-char.html" target="_top"><tt>BASE-CHAR</tt></a> are equivalent to <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>.</p><p>The graphic characters have been described above.</p><p>The standard characters are #\Newline and the
 graphic characters with a code between 32 and 126 (inclusive).</p><p>The alphabetic characters are these characters:
<div class="literallayout"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ABCDEFGHIJKLMNOPQRSTUVWXYZ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abcdefghijklmnopqrstuvwxyz<br>
</div>
and the international alphabetic characters from the character set:
<div class="literallayout"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&Ccedil;&uuml;&eacute;&acirc;&auml;&agrave;&aring;&ccedil;&ecirc;&euml;&egrave;&iuml;&icirc;&igrave;&Auml;&Aring;&Eacute;&aelig;&AElig;&ocirc;&ouml;&ograve;&ucirc;&ugrave;&yuml;&Ouml;&Uuml;&szlig;&aacute;&iacute;&oacute;&uacute;&ntilde;&Ntilde;&ordf;&ordm;&atilde;&otilde;&Oslash;&oslash;&Agrave;&Atilde;&Otilde;&nbsp;etc.<br>
</div></p><p>The functions <a href="http://www.lisp.org/HyperSpec/Body/fun_chareqcm__ar-not-lessp.html" target="_top"><tt>CHAR-EQUAL</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_chareqcm__ar-not-lessp.html" target="_top"><tt>CHAR-NOT-EQUAL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_chareqcm__ar-not-lessp.html" target="_top"><tt>CHAR-LESSP</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/fun_chareqcm__ar-not-lessp.html" target="_top"><tt>CHAR-GREATERP</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_chareqcm__ar-not-lessp.html" target="_top"><tt>CHAR-NOT-GREATERP</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_chareqcm__ar-not-lessp.html" target="_top"><tt>CHAR-NOT-LESSP</tt></a> ignore bits and
 font attributes of their arguments.</p></div><div class="section"><a name="char-width"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="char-width"></a>Functions on characters</h2></div></div><p><b><tt>(<tt>ext:char-width</tt>
   <i><tt>character</tt></i>)</tt></b> returns the number of screen columns occupied by
 <i><tt>character</tt></i>.  This is 0 for non-spacing characters
 (such as control characters and many combining characters), 2 for
 double-width East Asian characters, and 1 for all other characters.
 See also function <a href="#string-width"><tt>string-width</tt></a>.
</p></div><div class="section"><a name="d39e7540"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e7540"></a>platform-dependent characters</h2></div></div><p>The characters that are not graphic chars and the space character
 have names:</p><p><b>Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</b></p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x00)</tt></p><p><b>char: </b>#\Null</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x01)</tt></p><p><b>char: </b>#\Code1</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x02)</tt></p><p><b>char: </b>#\Code2</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x03)</tt></p><p><b>char: </b>#\Code3</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x04)</tt></p><p><b>char: </b>#\Code4</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x05)</tt></p><p><b>char: </b>#\Code5</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x06)</tt></p><p><b>char: </b>#\Code6</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x07)</tt></p><p><b>char: </b>#\Bell</p><p><b>: </b>#\Bel</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x08)</tt></p><p><b>char: </b>#\Backspace</p><p><b>: </b>#\Bs</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x09)</tt></p><p><b>char: </b>#\Tab</p><p><b>: </b>#\Ht</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0A)</tt></p><p><b>char: </b>#\Newline</p><p><b>: </b>#\Linefeed</p><p><b>: </b>#\Lf</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0B)</tt></p><p><b>char: </b>#\Vt</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0C)</tt></p><p><b>char: </b>#\Page</p><p><b>: </b>#\Ff</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0D)</tt></p><p><b>char: </b>#\Return</p><p><b>: </b>#\Cr</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0E)</tt></p><p><b>char: </b>#\So</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0F)</tt></p><p><b>char: </b>#\Si</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x10)</tt></p><p><b>char: </b>#\Code16</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x11)</tt></p><p><b>char: </b>#\Code17</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x12)</tt></p><p><b>char: </b>#\Code18</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x13)</tt></p><p><b>char: </b>#\Code19</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x14)</tt></p><p><b>char: </b>#\Code20</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x15)</tt></p><p><b>char: </b>#\Code21</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x16)</tt></p><p><b>char: </b>#\Code22</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x17)</tt></p><p><b>char: </b>#\Code23</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x18)</tt></p><p><b>char: </b>#\Code24</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x19)</tt></p><p><b>char: </b>#\Code25</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1A)</tt></p><p><b>char: </b>#\Code26</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1B)</tt></p><p><b>char: </b>#\Escape</p><p><b>: </b>#\Esc</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1C)</tt></p><p><b>char: </b>#\Code28</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1D)</tt></p><p><b>char: </b>#\Code29</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1E)</tt></p><p><b>char: </b>#\Code30</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1F)</tt></p><p><b>char: </b>#\Code31</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x20)</tt></p><p><b>char: </b>#\Space</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x7F)</tt></p><p><b>char: </b>#\Rubout</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x9B)</tt></p><p><b>char: </b>#\Csi</p><p><b>Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
   platforms only.</b></p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x00)</tt></p><p><b>char: </b>#\Null</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x07)</tt></p><p><b>char: </b>#\Bell</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x08)</tt></p><p><b>char: </b>#\Backspace</p><p><b>: </b>#\Rubout</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x09)</tt></p><p><b>char: </b>#\Tab</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0A)</tt></p><p><b>char: </b>#\Newline</p><p><b>: </b>#\Linefeed</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0B)</tt></p><p><b>char: </b>#\Code11</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0C)</tt></p><p><b>char: </b>#\Page</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0D)</tt></p><p><b>char: </b>#\Return</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1A)</tt></p><p><b>char: </b>#\Code26</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1B)</tt></p><p><b>char: </b>#\Escape</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x20)</tt></p><p><b>char: </b>#\Space</p><p><b>Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>,
    platforms only.</b></p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x00)</tt></p><p><b>char: </b>#\Null</p><p><b>: </b>#\Nul</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x01)</tt></p><p><b>char: </b>#\Soh</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x02)</tt></p><p><b>char: </b>#\Stx</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x03)</tt></p><p><b>char: </b>#\Etx</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x04)</tt></p><p><b>char: </b>#\Eot</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x05)</tt></p><p><b>char: </b>#\Enq</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x06)</tt></p><p><b>char: </b>#\Ack</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x07)</tt></p><p><b>char: </b>#\Bell</p><p><b>: </b>#\Bel</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x08)</tt></p><p><b>char: </b>#\Backspace</p><p><b>: </b>#\Bs</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x09)</tt></p><p><b>char: </b>#\Tab</p><p><b>: </b>#\Ht</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0A)</tt></p><p><b>char: </b>#\Newline</p><p><b>: </b>#\Nl</p><p><b>: </b>#\Linefeed</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0B)</tt></p><p><b>char: </b>#\Vt</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0C)</tt></p><p><b>char: </b>#\Page</p><p><b>: </b>#\Np</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0D)</tt></p><p><b>char: </b>#\Return</p><p><b>: </b>#\Cr</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0E)</tt></p><p><b>char: </b>#\So</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x0F)</tt></p><p><b>char: </b>#\Si</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x10)</tt></p><p><b>char: </b>#\Dle</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x11)</tt></p><p><b>char: </b>#\Dc1</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x12)</tt></p><p><b>char: </b>#\Dc2</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x13)</tt></p><p><b>char: </b>#\Dc3</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x14)</tt></p><p><b>char: </b>#\Dc4</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x15)</tt></p><p><b>char: </b>#\Nak</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x16)</tt></p><p><b>char: </b>#\Syn</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x17)</tt></p><p><b>char: </b>#\Etb</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x18)</tt></p><p><b>char: </b>#\Can</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x19)</tt></p><p><b>char: </b>#\Em</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1A)</tt></p><p><b>char: </b>#\Sub</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1B)</tt></p><p><b>char: </b>#\Escape</p><p><b>: </b>#\Esc</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1C)</tt></p><p><b>char: </b>#\Fs</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1D)</tt></p><p><b>char: </b>#\Gs</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1E)</tt></p><p><b>char: </b>#\Rs</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x1F)</tt></p><p><b>char: </b>#\Us</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x20)</tt></p><p><b>char: </b>#\Space</p><p><b>: </b>#\Sp</p><p><b>code: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> #x7F)</tt></p><p><b>char: </b>#\Rubout</p><p><b>: </b>#\Delete</p><p><b>: </b>#\Del</p></div><div class="section"><a name="d39e8542"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e8542"></a>Obsolete Constants</h2></div></div><p><b>obsolete constants</b></p><p><b>constant: </b><tt>ext:char-control-bit</tt></p><p><b>value: </b>1</p><p><b>constant: </b><tt>ext:char-meta-bit</tt></p><p><b>value: </b>2</p><p><b>constant: </b><tt>ext:char-super-bit</tt></p><p><b>value: </b>4</p><p><b>constant: </b><tt>ext:char-hyper-bit</tt></p><p><b>value: </b>8</p></div></div><div id="conses" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="conses"></a>Chapter 14. Conses
   <a href="http://www.lisp.org/HyperSpec/Body/chap-14.html" target="_top">[CLHS-14]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e8581">The Conses Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_conses_dictionary.html" target="_top">[CLHS-14.2]</a></a></dt><dd><dl><dt> <a href="#d39e8607">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCAR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCAN</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPLIST</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCON</tt></a>, ...</a></dt></dl></dd></dl></div><div class="section"><a name="d39e8581"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e8581"></a>The Conses Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_conses_dictionary.html" target="_top">[CLHS-14.2]</a></h2></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_subliscm_nsublis.html" target="_top"><tt>SUBLIS</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_subliscm_nsublis.html" target="_top"><tt>NSUBLIS</tt></a></b> <a href="http://www.lisp.org/HyperSpec/Body/fun_subliscm_nsublis.html" target="_top"><tt>SUBLIS</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_subliscm_nsublis.html" target="_top"><tt>NSUBLIS</tt></a> apply the <tt>:key</tt> argument to the nodes of
 the cons tree and not to the keys of the alist.</p><div class="section"><a name="d39e8607"></a><div class="titlepage"><div><h3 class="title"><a name="d39e8607"></a>Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCAR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCAN</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPLIST</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCON</tt></a>, ...</h3></div></div><p>The constant <i><tt>ext:mapcap</tt></i> is like
 <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCAN</tt></a>, except that it concatenates the resulting lists with <a href="http://www.lisp.org/HyperSpec/Body/fun_append.html" target="_top"><tt>APPEND</tt></a>
 instead of <a href="http://www.lisp.org/HyperSpec/Body/fun_nconc.html" target="_top"><tt>NCONC</tt></a>:</p><p><tt>(<tt>ext:mapcap</tt>
 <i><tt>fun</tt></i>
 <i><tt>x<sub>1</sub></tt></i>
 ... <i><tt>x<sub>n</sub></tt></i>)</tt> ==
 <tt>(apply #'<a href="http://www.lisp.org/HyperSpec/Body/fun_append.html" target="_top"><tt>APPEND</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCAR</tt></a>
 <i><tt>fun</tt></i>
 <i><tt>x<sub>1</sub></tt></i>
 ... <i><tt>x<sub>n</sub></tt></i>))</tt></p><p>(Actually a bit more efficient that this would be.)</p><p>The function <i><tt>ext:maplap</tt></i> is like
 <a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPCON</tt></a>, except that it concatenates the resulting lists with <a href="http://www.lisp.org/HyperSpec/Body/fun_append.html" target="_top"><tt>APPEND</tt></a>
 instead of <a href="http://www.lisp.org/HyperSpec/Body/fun_nconc.html" target="_top"><tt>NCONC</tt></a>:</p><p><tt>(<tt>ext:maplap</tt>
 <i><tt>fun</tt></i>
 <i><tt>x<sub>1</sub></tt></i>
 ... <i><tt>x<sub>n</sub></tt></i>)</tt> ==
 <tt>(apply #'<a href="http://www.lisp.org/HyperSpec/Body/fun_append.html" target="_top"><tt>APPEND</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html" target="_top"><tt>MAPLIST</tt></a>
 <i><tt>fun</tt></i>
 <i><tt>x<sub>1</sub></tt></i>
 ... <i><tt>x<sub>n</sub></tt></i>))</tt></p><p>(Actually a bit more efficient that this would be.)</p></div></div></div><div id="arrays" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="arrays"></a>Chapter 15. Arrays
   <a href="http://www.lisp.org/HyperSpec/Body/chap-15.html" target="_top">[CLHS-15]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e8810">Array Elements
   <a href="http://www.lisp.org/HyperSpec/Body/sec_15-1-1.html" target="_top">[CLHS-15.1.1]</a></a></dt><dt> <a href="#d39e8889">The Arrays Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_arrays_dictionary.html" target="_top">[CLHS-15.2]</a></a></dt></dl></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_make-array.html" target="_top"><tt>MAKE-ARRAY</tt></a></b> <a href="http://www.lisp.org/HyperSpec/Body/fun_make-array.html" target="_top"><tt>MAKE-ARRAY</tt></a> can return specialized arrays for the element types
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 2)</tt>,
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 4)</tt>,
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8)</tt>,
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 16)</tt>,
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 32)</tt>
 and of course <a href="http://www.lisp.org/HyperSpec/Body/typ_bit.html" target="_top"><tt>BIT</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>.</p><div class="section"><a name="d39e8810"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e8810"></a>Array Elements
   <a href="http://www.lisp.org/HyperSpec/Body/sec_15-1-1.html" target="_top">[CLHS-15.1.1]</a></h2></div></div><div class="table"><p><a name="d39e8815"></a><b>Platform dependent</b></p><table summary="Platform dependent" align="center" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>CPU type</th><th>16-bit CPU</th><th>32-bit CPU</th><th>64-bit CPU</th></tr></thead><tbody><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_array-rank-limit.html" target="_top"><tt>ARRAY-RANK-LIMIT</tt></a></td><td>2<sup>16</sup> = 65536</td><td>2<sup>32</sup> = 4294967296</td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_array-_ension-limit.html" target="_top"><tt>ARRAY-DIMENSION-LIMIT</tt></a></td><td>2<sup>24</sup> = 16777216</td><td>2<sup>32</sup> = 4294967296</td></tr><tr><td><a href="http://www.lisp.org/HyperSpec/Body/convar_array-_l-size-limit.html" target="_top"><tt>ARRAY-TOTAL-SIZE-LIMIT</tt></a></td><td>2<sup>24</sup> = 16777216</td><td>2<sup>32</sup> = 4294967296</td></tr></tbody></table></div><p>Note that these constants are not fixnums, contrary to the [<a href="#ansi-cl">ANSI CL standard</a>]
 Issue <a href="http://www.lisp.org/HyperSpec/Issues/iss014.html" target="_top">
 ARRAY-DIMENSION-LIMIT-IMPLICATIONS:ALL-FIXNUM</a>.</p></div><div class="section"><a name="d39e8889"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e8889"></a>The Arrays Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_arrays_dictionary.html" target="_top">[CLHS-15.2]</a></h2></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_adjust-array.html" target="_top"><tt>ADJUST-ARRAY</tt></a> for displaced arrays</b> An array to which another array is displaced should not be shrunk
 (using <a href="http://www.lisp.org/HyperSpec/Body/fun_adjust-array.html" target="_top"><tt>ADJUST-ARRAY</tt></a>) in such a way that the other array points into
 void space.  This is not checked at the time <a href="http://www.lisp.org/HyperSpec/Body/fun_adjust-array.html" target="_top"><tt>ADJUST-ARRAY</tt></a> is
 called!</p></div></div><div id="strings" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="strings"></a>Chapter 16. Strings
   <a href="http://www.lisp.org/HyperSpec/Body/chap-16.html" target="_top">[CLHS-16]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e8933">The Strings Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_strings_dictionary.html" target="_top">[CLHS-16.2]</a></a></dt></dl></div><p>String comparison is based on the function <a href="http://www.lisp.org/HyperSpec/Body/fun_chareqcm__ar-not-lessp.html" target="_top"><tt>CHAR&lt;=</tt></a>.  Therefore
 diphthongs do not obey the usual national rules.  Example:
 <tt>o</tt> &lt; <tt>oe</tt> &lt;
 <tt>z</tt> &lt; <tt>&ouml;</tt>.</p><div class="section"><a name="d39e8933"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e8933"></a>The Strings Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_strings_dictionary.html" target="_top">[CLHS-16.2]</a></h2></div></div><p><a name="string-width"></a><b>Functions on strings</b> <tt>(<tt>ext:string-width</tt>
 <i><tt>string</tt></i>)</tt> returns the number of
 screen columns occupied by <i><tt>string</tt></i>.  This is
 computed as the sum of all <a href="#char-width"><tt>char-width</tt></a>s
 of all of the string's characters.</p></div></div><div id="sequences" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="sequences"></a>Chapter 17. Sequences
   <a href="http://www.lisp.org/HyperSpec/Body/chap-17.html" target="_top">[CLHS-17]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e8963">The Sequences Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_seque_s_dictionary.html" target="_top">[CLHS-17.3.]</a></a></dt><dd><dl><dt> <a href="#d39e8968">Additional Macros</a></dt><dt> <a href="#d39e9016">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_reversecm_nreverse.html" target="_top"><tt>NREVERSE</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_revappendcm_nreconc.html" target="_top"><tt>NRECONC</tt></a></a></dt><dt> <a href="#d39e9080">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>REMOVE</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>DELETE</tt></a></a></dt><dt> <a href="#d39e9155">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>SORT</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>STABLE-SORT</tt></a></a></dt></dl></dd></dl></div><div class="section"><a name="d39e8963"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e8963"></a>The Sequences Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_seque_s_dictionary.html" target="_top">[CLHS-17.3.]</a></h2></div></div><div class="section"><a name="d39e8968"></a><div class="titlepage"><div><h3 class="title"><a name="d39e8968"></a>Additional Macros</h3></div></div><p>For iteration through a sequence, a macro
 <i><tt>ext:doseq</tt></i>,
 similar to <a href="http://www.lisp.org/HyperSpec/Body/mac_dolist.html" target="_top"><tt>DOLIST</tt></a>, may be used instead of <a href="http://www.lisp.org/HyperSpec/Body/fun_map.html" target="_top"><tt>MAP</tt></a>:</p><pre class="programlisting">
(<tt>ext:doseq</tt> (<i><tt>var</tt></i> <i><tt>seqform</tt></i> [<i><tt>resultform</tt></i>])
  {<i><tt>declaration</tt></i>}*
  {<i><tt>tag</tt></i>|<i><tt>statement</tt></i>}*)
</pre><p><tt>ext:doseq</tt> forms are <a href="http://www.lisp.org/HyperSpec/Body/glo_i.html#iteration_form" target="_top">&#8220;iteration forms&#8221;</a>.</p></div><div class="section"><a name="d39e9016"></a><div class="titlepage"><div><h3 class="title"><a name="d39e9016"></a>Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_reversecm_nreverse.html" target="_top"><tt>NREVERSE</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_revappendcm_nreconc.html" target="_top"><tt>NRECONC</tt></a></h3></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_reversecm_nreverse.html" target="_top"><tt>NREVERSE</tt></a></b> The result of <a href="http://www.lisp.org/HyperSpec/Body/fun_reversecm_nreverse.html" target="_top"><tt>NREVERSE</tt></a> is always <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><tt>EQ</tt></a> to the argument.
 <a href="http://www.lisp.org/HyperSpec/Body/fun_reversecm_nreverse.html" target="_top"><tt>NREVERSE</tt></a> on a <a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a> swaps pairs of elements.
 <a href="http://www.lisp.org/HyperSpec/Body/fun_reversecm_nreverse.html" target="_top"><tt>NREVERSE</tt></a> on a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><tt>LIST</tt></a> swaps the first and the last
 element and reverses the list chaining between them.</p><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_revappendcm_nreconc.html" target="_top"><tt>NRECONC</tt></a></b> The result of <a href="http://www.lisp.org/HyperSpec/Body/fun_revappendcm_nreconc.html" target="_top"><tt>NRECONC</tt></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><tt>EQ</tt></a> to the first argument unless it is
 <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, in which case the result is <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><tt>EQ</tt></a> to the second argument.</p></div><div class="section"><a name="d39e9080"></a><div class="titlepage"><div><h3 class="title"><a name="d39e9080"></a>Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>REMOVE</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>DELETE</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>REMOVE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>REMOVE-IF</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>REMOVE-IF-NOT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_remove-du_e-duplicates.html" target="_top"><tt>REMOVE-DUPLICATES</tt></a> return
 their argument unchanged, if no element has to be removed.</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>DELETE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>DELETE-IF</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_removecm__elete-if-not.html" target="_top"><tt>DELETE-IF-NOT</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_remove-du_e-duplicates.html" target="_top"><tt>DELETE-DUPLICATES</tt></a>
 destructively modify their argument: If the argument is a list, the
 <a href="http://www.lisp.org/HyperSpec/Body/acc_carcm_cdr_darcm_cddddr.html" target="_top"><tt>CDR</tt></a> parts are modified. If the argument is a vector with fill
 pointer, the fill pointer is lowered and the remaining elements are
 compacted below the new fill pointer.</p><p><a name="count-ansi"></a>Contrary to the [<a href="#ansi-cl">ANSI CL standard</a>] issue 283 <a href="http://www.lisp.org/HyperSpec/Issues/iss283.html" target="_top">RANGE-OF-COUNT-KEYWORD:NIL-OR-INTEGER</a>,
 negative <tt>:count</tt> keyword arguments are not allowed unless you set
 <i><tt>custom:*sequence-count-ansi*</tt></i>
 to a non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> value, in hich case &#8220;using a negative integer
 value is functionally equivalent to using a value of zero&#8221;, as
 per the [<a href="#ansi-cl">ANSI CL standard</a>] issue.</p></div><div class="section"><a name="d39e9155"></a><div class="titlepage"><div><h3 class="title"><a name="d39e9155"></a>Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>SORT</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>STABLE-SORT</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>SORT</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>STABLE-SORT</tt></a> have two additional keywords <tt>:start</tt>
and <tt>:end</tt>:</p><pre class="programlisting">
(<a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>SORT</tt></a> <i><tt>sequence</tt></i> <i><tt>predicate</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:key</tt> <tt>:start</tt> <tt>:end</tt>)
(<a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>STABLE-SORT</tt></a> <i><tt>sequence</tt></i> <i><tt>predicate</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:key</tt> <tt>:start</tt> <tt>:end</tt>)
</pre><p><a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>SORT</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_sortcm_stable-sort.html" target="_top"><tt>STABLE-SORT</tt></a> are identical.  They implement the
 mergesort algorithm.  Worst case complexity:
 <tt>O(n*log(n))</tt> comparisons, where
 <i><tt>n</tt></i> is the <a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a> of the subsequence bounded
 by the <tt>:start</tt> and <tt>:end</tt> arguments.</p></div></div></div><div id="hash" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="hash"></a>Chapter 18. Hash Tables
   <a href="http://www.lisp.org/HyperSpec/Body/chap-18.html" target="_top">[CLHS-18]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e9258">The Hash Tables Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_hash__s_dictionary.html" target="_top">[CLHS-18.2.]</a></a></dt><dd><dl><dt> <a href="#d39e9263">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_make-hash-table.html" target="_top"><tt>MAKE-HASH-TABLE</tt></a></a></dt><dt> <a href="#d39e9295">Additional Macros</a></dt></dl></dd></dl></div><div class="section"><a name="d39e9258"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e9258"></a>The Hash Tables Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_hash__s_dictionary.html" target="_top">[CLHS-18.2.]</a></h2></div></div><div class="section"><a name="d39e9263"></a><div class="titlepage"><div><h3 class="title"><a name="d39e9263"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_make-hash-table.html" target="_top"><tt>MAKE-HASH-TABLE</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_make-hash-table.html" target="_top"><tt>MAKE-HASH-TABLE</tt></a> has an additional keyword
 <tt>:initial-contents</tt>:</p><pre class="programlisting">
(<a href="http://www.lisp.org/HyperSpec/Body/fun_make-hash-table.html" target="_top"><tt>MAKE-HASH-TABLE</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :test :initial-contents :size
                 :rehash-size :rehash-threshold)
</pre><p>The <tt>:initial-contents</tt> argument is an alist
 that is used to initialize the new hash table.  The
 <tt>:rehash-threshold</tt> argument is ignored.</p></div><div class="section"><a name="d39e9295"></a><div class="titlepage"><div><h3 class="title"><a name="d39e9295"></a>Additional Macros</h3></div></div><p>For iteration through a hash table, a macro
 <i><tt>ext:dohash</tt></i>,
 similar to <a href="http://www.lisp.org/HyperSpec/Body/mac_dolist.html" target="_top"><tt>DOLIST</tt></a>, can be used instead of <a href="http://www.lisp.org/HyperSpec/Body/fun_maphash.html" target="_top"><tt>MAPHASH</tt></a>:</p><pre class="programlisting">
(ext:dohash (<i><tt>key-var</tt></i> <i><tt>value-var</tt></i> <i><tt>hash-table-form</tt></i> [<i><tt>resultform</tt></i>])
  {<i><tt>declaration</tt></i>}*
  {<i><tt>tag</tt></i>|<i><tt>statement</tt></i>}*)
</pre><p><tt>ext:dohash</tt> forms are <a href="http://www.lisp.org/HyperSpec/Body/glo_i.html#iteration_form" target="_top">&#8220;iteration forms&#8221;</a>.</p></div></div></div><div id="filenames" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="filenames"></a>Chapter 19. Filenames
   <a href="http://www.lisp.org/HyperSpec/Body/chap-19.html" target="_top">[CLHS-19]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e9517">Pathname Components
   <a href="http://www.lisp.org/HyperSpec/Body/sec_19-2-1.html" target="_top">[CLHS-19.2.1]</a></a></dt><dt> <a href="#d39e12435">External notation.</a></dt><dt> <a href="#d39e12744">Logical Pathnames
   <a href="http://www.lisp.org/HyperSpec/Body/sec_19-3.html" target="_top">[CLHS-19.3]</a></a></dt><dt> <a href="#d39e12757">The Filenames Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_filen_s_dictionary.html" target="_top">[CLHS-19.4]</a></a></dt><dd><dl><dt> <a href="#parsename">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_parse-namestring.html" target="_top"><tt>PARSE-NAMESTRING</tt></a></a></dt><dt> <a href="#pathmerge">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a></a></dt></dl></dd></dl></div><p>For most operations, pathnames denoting files and pathnames
 denoting directories can not be used interchangeably.</p><div class="variablelist"><dl><dt><a name="d39e9352"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><p>For example, <tt>#p"FOO/BAR"</tt> denotes
 the file <tt>BAR</tt> in the directory
 <tt>FOO</tt>, while <tt>#p"FOO/BAR/"</tt>
 denotes the subdirectory <tt>BAR</tt> of the directory
 <tt>FOO</tt>.
</p></dd><dt><a name="d39e9386"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
   platforms only.</span></dt><dd><p>For example, <tt>#p"FOO\\BAR"</tt>
 denotes the file <tt>BAR</tt> in the directory
 <tt>FOO</tt>, while <tt>#p"FOO\\BAR\\"</tt>
 denotes the subdirectory <tt>BAR</tt> of the directory
 <tt>FOO</tt>.
</p></dd><dt><a name="d39e9424"></a><span class="term">Platform dependent: <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a> platforms only.</span></dt><dd><p>For example, <tt>#p"FOO.BAR"</tt> denotes
 the file <tt>FOO</tt> in the directory
 <tt>BAR</tt>, while <tt>#p"FOO.BAR."</tt>
 denotes the subdirectory <tt>BAR</tt> of the directory
 <tt>FOO</tt>.
</p></dd></dl></div><p>This is especially important for the functions <a href="#dir"><tt>directory</tt>,
 <tt>ext:dir</tt>, <tt>ext:cd</tt>,
 <tt>ext:make-dir</tt>,
 <tt>ext:delete-dir</tt></a>.</p><p><b>The minimum filename syntax that may be used
 portably</b></p><p><b>pathname: </b><tt>xxx</tt></p><p><b>meaning: </b>for a file with name <i><tt>xxx</tt></i></p><p><b>pathname: </b><tt>xxx.yy</tt></p><p><b>meaning: </b>for a file with name <i><tt>xxx</tt></i> and type
   <i><tt>yy</tt></i></p><p><b>pathname: </b><tt>.yy</tt></p><p><b>meaning: </b>for a pathname with type <i><tt>yy</tt></i> and no
   name specified</p><p>Hereby <i><tt>xxx</tt></i> denotes 1 to 8 characters,
 and <i><tt>yy</tt></i> denotes 1 to 3 characters, each of
 which being either an alphanumeric character or the underscore
 #\_.  Other properties of pathname syntax vary between
 operating systems.</p><div class="section"><a name="d39e9517"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e9517"></a>Pathname Components
   <a href="http://www.lisp.org/HyperSpec/Body/sec_19-2-1.html" target="_top">[CLHS-19.2.1]</a></h2></div></div><p>When a pathname is to be fully specified (no wildcards), that
 means that no <tt>:wild</tt>, <tt>:wild-inferiors</tt> is allowed, no wildcard
 characters are allowed in the strings, and
 <i><tt>name</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><tt>EQ</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> may not be allowed
 either.</p><div class="variablelist"><dl><dt><a name="d39e9543"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><div class="variablelist"><p><b>Pathname components</b></p><dl><dt><a name="d39e9554"></a><span class="term"><i><tt>host</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p></dd><dt><a name="d39e9564"></a><span class="term"><i><tt>device</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or a <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>
  </p></dd><dt><a name="d39e9578"></a><span class="term"><i><tt>directory</tt></i></span></dt><dd><p><b><tt>(<i><tt>startpoint</tt></i>
   . <i><tt>subdirs</tt></i>)</tt></b></p><p><b>element: </b><i><tt>startpoint</tt></i></p><p><b>values: </b><tt>:relative</tt> | <tt>:absolute</tt></p><p><b>element: </b><i><tt>subdirs</tt></i></p><p><b>values: </b><tt>()</tt> | <tt>(<i><tt>subdir</tt></i>
    . <i><tt>subdirs</tt></i>)</tt></p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><tt>:wild-inferiors</tt></p><p><b>meaning: </b><tt>**</tt> or <tt>...</tt>,
    all subdirectories</p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><tt>:parent</tt></p><p><b>meaning: </b><tt>/</tt> instead of
   <tt>subdir/</tt></p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
    characters <tt>?</tt> and
    <tt>*</tt></p></dd><dt><a name="d39e9666"></a><span class="term"><i><tt>name</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain
  wildcard characters <tt>?</tt> and <tt>*</tt>
  (may also be specified as <tt>:wild</tt>)</p></dd><dt><a name="d39e9689"></a><span class="term"><i><tt>type</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain
  wildcard characters <tt>?</tt> and <tt>*</tt>
  (may also be specified as <tt>:wild</tt>)</p></dd><dt><a name="d39e9712"></a><span class="term"><i><tt>version</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (may also be specified as
  <tt>:wild</tt> or <tt>:newest</tt>)</p></dd></dl></div><p>Constraint: <i><tt>startpoint</tt></i> = <tt>:relative</tt>
 only if <i><tt>device</tt></i> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.  If the device is
 specified, the pathname must be absolute!</p><p>A filename from AMIGAOS is split into name and type according to
 the following rule:</p><div class="itemizedlist"><ul><li><a name="d39e9747"></a><p>if there is no <tt>.</tt> in the
  filename, then the <i><tt>name</tt></i> is everything,
  <i><tt>type</tt></i> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>;</p></li><li><a name="d39e9763"></a><p>if there is a <tt>.</tt>, then
  <i><tt>name</tt></i> is the part before and
  <i><tt>type</tt></i> the part after the last dot.
  </p></li></ul></div><p>Case is ignored in the strings on comparison.  No case conversions
 are performed.</p><p><b>filename notations</b></p><p><b>: </b>External notation:</p><p><b>: </b><tt>dev:sub1.typ/sub2.typ/name.typ</tt></p><p><b>: </b>using defaults:</p><p><b>: </b><tt>    sub1.typ/sub2.typ/name.typ</tt></p><p><b>: </b>or</p><p><b>: </b><tt>                      name.typ</tt></p><p><b>: </b>or</p><p><b>: </b><tt>    sub1.typ/**/sub3.typ/x*.lisp</tt></p><p><b>: </b>or similar.</p><p><b>: </b></p><div class="variablelist"><p><b>Formal specification of the external notation</b></p><dl><dt><a name="d39e9813"></a><span class="term">ch ::==</span></dt><dd><p>any character except ':','/' and '*','?'
   </p></dd><dt><a name="d39e9819"></a><span class="term">name ::==</span></dt><dd><p>{ch}+</p></dd><dt><a name="d39e9825"></a><span class="term">device ::==</span></dt><dd><p><a name="d39e9828"></a>[ &lt;empty&gt; | ':' | name ':' ]
    <p><b>: </b>empty</p><p><b>: </b>current device, relative to
     current directory</p><p><b>: </b>':'</p><p><b>: </b>current device, absolute (relative
     to root for disks)</p><p><b>: </b>name ':'</p><p><b>: </b>specified device, absolute
     (relative to root for disks)</p></p></dd><dt><a name="d39e9849"></a><span class="term">subdir ::==</span></dt><dd><p><a name="d39e9852"></a>[ &lt;empty&gt; | name ]
    <p><b>: </b>empty</p><p><b>: </b>parent directory</p></p></dd><dt><a name="d39e9863"></a><span class="term">pathname ::==</span></dt><dd><p>device { subdir '/' }* name
   </p></dd></dl></div><p><b>Examples</b></p><p><b>String: </b><tt>'c:foo'</tt></p><p><b>Device: </b>'C'</p><p><b>Directory: </b><tt>device-&gt;foo</tt></p><p><b>our pathname: </b><tt>"c"</tt>
        (<tt>:absolute</tt> <tt>"foo"</tt>)</p><p><b>String: </b><tt>'c:foo/'</tt></p><p><b>Device: </b>'C'</p><p><b>Directory: </b><tt>device-&gt;foo</tt></p><p><b>our pathname: </b><tt>"c"</tt>
        (<tt>:absolute</tt> <tt>"foo"</tt>)</p><p><b>String: </b><tt>'c:foo/bar'</tt></p><p><b>Device: </b>'C'</p><p><b>Directory: </b><tt>device-&gt;foo-&gt;bar</tt></p><p><b>our pathname: </b><tt>"c"</tt>
        (<tt>:absolute</tt> <tt>"foo" "bar"</tt>)</p><p><b>String: </b><tt>'c:/foo'</tt></p><p><b>Device: </b>'C'</p><p><b>Directory: </b><tt>device-&gt;up-&gt;foo</tt></p><p><b>our pathname: </b><tt>"c"</tt>
        (<tt>:absolute</tt> <tt>:parent</tt> <tt>"foo"</tt>)
        </p><p><b>String: </b><tt>'c:'</tt></p><p><b>Device: </b>'C'</p><p><b>Directory: </b><tt>device</tt></p><p><b>our pathname: </b><tt>"c"</tt> (<tt>:absolute</tt>)</p><p><b>String: </b><tt>:foo</tt></p><p><b>Device: </b>current</p><p><b>Directory: </b><tt>device-&gt;root-&gt;foo</tt></p><p><b>our pathname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (<tt>:absolute</tt> <tt>"foo"</tt>)</p><p><b>String: </b><tt>foo</tt></p><p><b>Device: </b>current</p><p><b>Directory: </b><tt>device-&gt;foo</tt></p><p><b>our pathname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (<tt>:relative</tt> <tt>"foo"</tt>)</p><p><b>String: </b><tt>'/foo'</tt></p><p><b>Device: </b>current</p><p><b>Directory: </b><tt>device-&gt;up-&gt;foo</tt></p><p><b>our pathname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (<tt>:relative</tt> <tt>:parent</tt> <tt>"foo"</tt>)
   </p><p><b>String: </b><tt>'//foo/bar'</tt></p><p><b>Device: </b>current</p><p><b>Directory: </b><tt>device-&gt;up-&gt;up-&gt;foo-&gt;bar</tt></p><p><b>our pathname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (<tt>:relative</tt> <tt>:parent</tt> <tt>:parent</tt> <tt>"foo"
               "bar"</tt>)</p><p><b>String: </b><tt>''</tt></p><p><b>Device: </b>current</p><p><b>Directory: </b><tt>device</tt></p><p><b>our pathname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (<tt>:relative</tt>)</p><p>Appending a <tt>'/'</tt> to a path string that is
 non-empty and does not end with <tt>':'</tt> or
 <tt>'/'</tt> does not change its meaning. This
 <tt>'/'</tt> must be appended before another non-empty
 component can be appended.  But appending a <tt>'/'</tt> to
 a path string that is empty or ends with <tt>':'</tt> or
 <tt>'/'</tt> means going up to the parent directory!</p><p>We interpret any path string that is empty or ends with
 <tt>':'</tt> or <tt>'/'</tt> as pathname of a
 directory (with both <i><tt>name</tt></i> and
 <i><tt>type</tt></i> being <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>).</p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e10125"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> platforms only.</span></dt><dd><div class="variablelist"><p><b>Pathname components</b></p><dl><dt><a name="d39e10136"></a><span class="term"><i><tt>host</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p></dd><dt><a name="d39e10146"></a><span class="term"><i><tt>device</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p></dd><dt><a name="d39e10156"></a><span class="term"><i><tt>directory</tt></i></span></dt><dd><p><b><tt>(<i><tt>startpoint</tt></i>
   . <i><tt>subdirs</tt></i>)</tt></b></p><p><b>element: </b><i><tt>startpoint</tt></i></p><p><b>values: </b><tt>:relative</tt> | <tt>:absolute</tt></p><p><b>meaning: </b></p><p><b>element: </b><i><tt>subdirs</tt></i></p><p><b>values: </b><tt>()</tt> | <tt>(<i><tt>subdir</tt></i> .
   <i><tt>subdirs</tt></i>)</tt></p><p><b>meaning: </b></p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><tt>:wild-inferiors</tt></p><p><b>meaning: </b><tt>**</tt> or
   <tt>...</tt>, all subdirectories</p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard characters
  <tt>?</tt> and <tt>*</tt></p><p><b>meaning: </b></p></dd><dt><a name="d39e10234"></a><span class="term"><i><tt>name</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
  characters <tt>?</tt> and <tt>*</tt> (may also
  be specified as <tt>:wild</tt>)</p></dd><dt><a name="d39e10257"></a><span class="term"><i><tt>type</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
  characters <tt>?</tt> and <tt>*</tt> (may also
  be specified as <tt>:wild</tt>)</p></dd><dt><a name="d39e10280"></a><span class="term"><i><tt>version</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (may also be specified as
  <tt>:wild</tt> or <tt>:newest</tt>)</p></dd></dl></div><p>A UNIX filename is split into name and type according to the
 following rule:</p><div class="itemizedlist"><ul><li><a name="d39e10300"></a><p>if there is no <tt>'.'</tt> in the
  filename, then the <i><tt>name</tt></i> is everything,
  <i><tt>type</tt></i> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>;</p></li><li><a name="d39e10316"></a><p>if there is a <tt>'.'</tt>, then
  <i><tt>name</tt></i> is the part before and
  <i><tt>type</tt></i> the part after the last
  dot.</p></li></ul></div><p><b>filename notations</b></p><p><b>: </b>External notation:</p><p><b>: </b>
  <tt>server:sub1.typ/sub2.typ/name.typ</tt></p><p><b>: </b>using defaults:</p><p><b>: </b>
  <tt>       sub1.typ/sub2.typ/name.typ</tt></p><p><b>: </b>or</p><p><b>: </b>
  <tt>                         name.typ</tt></p><p><b>: </b>or</p><p><b>: </b>
  <tt>       sub1.typ/**/sub3.typ/x*.lisp</tt></p><p><b>: </b>or similar.</p><p><b>: </b></p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e10368"></a><span class="term">Platform dependent: <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a> platforms only.</span></dt><dd><div class="variablelist"><p><b>Pathname components</b></p><dl><dt><a name="d39e10379"></a><span class="term"><i><tt>host</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p></dd><dt><a name="d39e10389"></a><span class="term"><i><tt>device</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <tt>:wild</tt> or
 <tt>A</tt>|...|<tt>Z</tt>
 </p></dd><dt><a name="d39e10408"></a><span class="term"><i><tt>directory</tt></i></span></dt><dd><p><b><tt>(<i><tt>startpoint</tt></i>
   . <i><tt>subdirs</tt></i>)</tt></b></p><p><b>element: </b><i><tt>startpoint</tt></i></p><p><b>values: </b><tt>:relative</tt> | <tt>:absolute</tt></p><p><b>meaning: </b></p><p><b>element: </b><i><tt>subdirs</tt></i></p><p><b>values: </b><tt>()</tt> | <tt>(<i><tt>subdir</tt></i> .
   <i><tt>subdirs</tt></i>)</tt></p><p><b>meaning: </b></p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><tt>:wild-inferiors</tt></p><p><b>meaning: </b><tt>**</tt> or
  <tt>...</tt>, all subdirectories </p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard characters
   <tt>?</tt> and <tt>*</tt></p><p><b>meaning: </b></p></dd><dt><a name="d39e10486"></a><span class="term"><i><tt>name</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
  characters <tt>?</tt> and <tt>*</tt> (may also
  be specified as <tt>:wild</tt>)</p></dd><dt><a name="d39e10509"></a><span class="term"><i><tt>type</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
  characters <tt>?</tt> and <tt>*</tt> (may also
  be specified as <tt>:wild</tt>)</p></dd><dt><a name="d39e10532"></a><span class="term"><i><tt>version</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (may also be specified as <tt>:wild</tt> or
  <tt>:newest</tt>)</p></dd></dl></div><p>An OS/2 filename is split into name and type according to the
 following rule:
<div class="itemizedlist"><ul><li><a name="d39e10552"></a><p>if there is no <tt>'.'</tt> in the
  filename, then the <i><tt>name</tt></i> is everything,
  <i><tt>type</tt></i> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>;</p></li><li><a name="d39e10568"></a><p>if there is a <tt>'.'</tt>, then
  <i><tt>name</tt></i> is the part before and
  <i><tt>type</tt></i> the part after the last dot.
  </p></li></ul></div></p><p><b>filename notations</b></p><p><b>: </b>External notation:</p><p><b>: </b><tt>A:\sub1.typ\sub2.typ\name.typ</tt></p><p><b>: </b>using defaults:</p><p><b>: </b><tt>  \sub1.typ\sub2.typ\name.typ</tt></p><p><b>: </b>or</p><p><b>: </b><tt>                     name.typ</tt></p><p><b>: </b>or</p><p><b>: </b><tt>*:\sub1.typ\**\sub3.typ\x*.lisp</tt></p><p><b>: </b>or similar.</p><p><b>: </b></p><p>Instead of <tt>'\'</tt> one may use
 <tt>'/'</tt>, as usual for DOS calls.</p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e10624"></a><span class="term">Platform dependent: <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.</span></dt><dd><div class="variablelist"><p><b>Pathname components</b></p><dl><dt><a name="d39e10635"></a><span class="term"><i><tt>host</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, wildcard characters may
   occur but don't act as wildcards</p></dd><dt><a name="d39e10649"></a><span class="term"><i><tt>device</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <tt>:wild</tt> or
 <tt>A</tt>|...|<tt>Z</tt>
 </p></dd><dt><a name="d39e10668"></a><span class="term"><i><tt>directory</tt></i></span></dt><dd><p><b><tt>(<i><tt>startpoint</tt></i>
   . <i><tt>subdirs</tt></i>)</tt></b></p><p><b>element: </b><i><tt>startpoint</tt></i></p><p><b>values: </b><tt>:relative</tt> | <tt>:absolute</tt></p><p><b>meaning: </b></p><p><b>element: </b><i><tt>subdirs</tt></i></p><p><b>values: </b><tt>()</tt> | <tt>(<i><tt>subdir</tt></i> .
   <i><tt>subdirs</tt></i>)</tt></p><p><b>meaning: </b></p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><tt>:wild-inferiors</tt></p><p><b>meaning: </b><tt>**</tt> or
  <tt>...</tt>, all subdirectories </p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard characters
   <tt>?</tt> and <tt>*</tt></p><p><b>meaning: </b></p></dd><dt><a name="d39e10746"></a><span class="term"><i><tt>name</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
  characters <tt>?</tt> and <tt>*</tt> (may also
  be specified as <tt>:wild</tt>)</p></dd><dt><a name="d39e10769"></a><span class="term"><i><tt>type</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
  characters <tt>?</tt> and <tt>*</tt> (may also
  be specified as <tt>:wild</tt>)</p></dd><dt><a name="d39e10792"></a><span class="term"><i><tt>version</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (may also be specified as <tt>:wild</tt> or
  <tt>:newest</tt>)</p></dd></dl></div><p>If <i><tt>host</tt></i> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>,
 <i><tt>device</tt></i> must be <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p><p>A <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> filename is split into name and type according to the
 following rule:
<div class="itemizedlist"><ul><li><a name="d39e10832"></a><p>if there is no <tt>'.'</tt> in the
  filename, then the <i><tt>name</tt></i> is everything,
  <i><tt>type</tt></i> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>;</p></li><li><a name="d39e10848"></a><p>if there is a <tt>'.'</tt>, then
  <i><tt>name</tt></i> is the part before and
  <i><tt>type</tt></i> the part after the last dot.
  </p></li></ul></div></p><p><b>filename notations</b></p><p><b>: </b>External notation:</p><p><b>: </b><tt>A:\sub1.typ\sub2.typ\name.typ</tt></p><p><b>: </b>using defaults:</p><p><b>: </b><tt>  \sub1.typ\sub2.typ\name.typ</tt></p><p><b>: </b>or</p><p><b>: </b><tt>                     name.typ</tt></p><p><b>: </b>or</p><p><b>: </b><tt>*:\sub1.typ\**\sub3.typ\x*.lisp</tt></p><p><b>: </b>or similar.</p><p><b>: </b></p><p>Instead of <tt>'\'</tt> one may use
 <tt>'/'</tt>, as usual for DOS calls.</p><p>If <i><tt>host</tt></i> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> and the
 <i><tt>directory</tt></i>'s <i><tt>startpoint</tt></i>
 is not <tt>:absolute</tt>, <tt>(parse-namestring (namestring
 <i><tt>pathname</tt></i>))</tt> will not be the same as
 <i><tt>pathname</tt></i>.</p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e10931"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
    platforms only.</span></dt><dd><p>The wildcard characters: <tt>*</tt>
 matches any sequence of characters, <tt>?</tt> matches
 any one character.</p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e10962"></a><span class="term">Platform dependent:  <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
   platforms only.</span></dt><dd><p>Due to the name/type splitting rule, there are
 pathnames that cannot result from <a href="http://www.lisp.org/HyperSpec/Body/fun_parse-namestring.html" target="_top"><tt>PARSE-NAMESTRING</tt></a>.  To get a pathname
 whose type contains a dot or whose name contains a dot and whose type
 is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_make-pathname.html" target="_top"><tt>MAKE-PATHNAME</tt></a> must be used.  Example: <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_make-pathname.html" target="_top"><tt>MAKE-PATHNAME</tt></a> :name ".profile")</tt>.
 </p></dd></dl></div><div class="variablelist"><dl><dt><a name="d39e11006"></a><span class="term">Platform dependent: <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a> platforms only.</span></dt><dd><p>RISC OS provides several file systems as standard
  (ADFS, IDEFS, NetFS, RamFS, NetPrint) and support for extra file
  systems (DOSFS, ResourceFS and DeviceFS).</p><p>A module called FileSwitch is at the center of all file system
 operation in RISC OS.  FileSwitch provides a common core of functions
 used by all file systems.  It only provides the parts of these services
 that are device independent.  The device dependent services that
 control the hardware are provided by separate modules, which are the
 actual file systems.  FileSwitch keeps track of active file systems and
 switches between them as necessary.</p><p>One of the file system modules that RISC OS provides is
 FileCore.  It takes the normal calls that FileSwitch sends to a file
 system module, and converts them to a simpler set of calls to modules
 that control the hardware.  Unlike FileSwitch it creates a fresh
 instantiation of itself for each module that it supports.  Using
 FileCore to build file system modules imposes a more rigid structure on
 it, as more of the file system is predefined.</p><p>As well as standard file systems, FileSwitch supports image
 file systems.  These provide facilities for RISC OS to handle media in
 foreign formats, and to support `image files' (or partitions) in those
 formats.  Rather than accessing the hardware directly they rely on
 standard RISC OS file systems to do so.  DOSFS is an example of an
 image file system used to handle DOS format discs.</p><div class="variablelist"><dl><dt><a name="d39e11023"></a><span class="term">Terminology</span></dt><dd><p>A pathname may include a file system name, a special
  field, a media name (e.g., a disc name), directory name(s), and the
  name of the object itself; each of these parts of a pathname is known
  as an `element' of the pathname.</p></dd><dt><a name="d39e11029"></a><span class="term">Filenames</span></dt><dd><p>Filename `elements' may be up to ten characters in
  length on FileCore-based file systems and on NetFS.  These characters
  may be digits or letters.  FileSwitch makes no distinction between
  upper and lower case, although file systems can do so.  As a general
  rule, you should not use top-bit-set characters in filenames, although
  some file systems (such as FileCore-based ones) support them.  Other
  characters may be used provided they do not have a special
  significance.  Those that do are listed below:</p><div class="variablelist"><dl><dt><a name="d39e11036"></a><span class="term"><tt>.</tt></span></dt><dd><p>Separates directory specifications, e.g.,
   <tt>$.fred</tt></p></dd><dt><a name="d39e11045"></a><span class="term"><tt>:</tt></span></dt><dd><p>Introduces a drive or disc specification, e.g.,
   <tt>:0</tt>, <tt>:bigdisc</tt>.  It also
   marks the end of a file system name, e.g.,
   <tt>adfs:</tt></p></dd><dt><a name="d39e11060"></a><span class="term"><tt>*</tt></span></dt><dd><p>Acts as a `wildcard' to match zero or more
   characters.</p></dd><dt><a name="d39e11067"></a><span class="term"><tt>#</tt></span></dt><dd><p>Acts as a `wildcard' to match any single
   character.</p></dd><dt><a name="d39e11074"></a><span class="term"><tt>$</tt></span></dt><dd><p>is the name of the root directory of the disc.
   </p></dd><dt><a name="d39e11081"></a><span class="term"><tt>&amp;</tt></span></dt><dd><p>is the user root directory (URD)
   </p></dd><dt><a name="d39e11088"></a><span class="term"><tt>@</tt></span></dt><dd><p>is the currently selected directory (CSD)
   </p></dd><dt><a name="d39e11095"></a><span class="term"><tt>^</tt></span></dt><dd><p>is the `parent' directory
   </p></dd><dt><a name="d39e11102"></a><span class="term"><tt>%</tt></span></dt><dd><p>is the currently selected library (CSL)
   </p></dd><dt><a name="d39e11109"></a><span class="term"><tt>\</tt></span></dt><dd><p>is the previously selected directory (PSD)
   </p></dd></dl></div></dd><dt><a name="d39e11116"></a><span class="term">Directories</span></dt><dd><p>The root directory, <tt>$</tt>, forms
  the top of the directory hierarchy of the media which contains the
  CSD.  <tt>$</tt> does not have a parent directory, trying
  to access its parent will just access <tt>$</tt>.  Each
  directory name is separated by a <tt>.</tt> character.
  For example:</p><div class="itemizedlist"><ul><li><a name="d39e11135"></a><p><tt>$.Documents.Memos</tt>
   </p></li><li><a name="d39e11140"></a><p><tt>%.cc</tt></p></li></ul></div></dd><dt><a name="d39e11144"></a><span class="term">File Systems</span></dt><dd><p>Files may also be accessed on file systems other
  than the current one by prefixing the filename with a file system
  specification.  A file system name may appear between
  <tt>-</tt> characters, or suffixed by a
  <tt>:</tt>, though the latter is advised since
  <tt>-</tt> can also be used to introduce a parameter on a
  command line, or as part of a file name.  For example:</p><div class="itemizedlist"><ul><li><a name="d39e11160"></a><p><tt>-net-$.SystemMesg</tt>
   </p></li><li><a name="d39e11165"></a><p><tt>adfs:%.aasm</tt></p></li></ul></div></dd><dt><a name="d39e11169"></a><span class="term">Special Fields</span></dt><dd><p>Special fields are used to supply more information
  to the file system than you can using standard path names; for example
  NetFS and NetPrint use them to specify server addresses or names. They
  are introduced by a <tt>#</tt> character; a variety of
  syntaxes are possible:</p><div class="itemizedlist"><ul><li><a name="d39e11179"></a><p><tt>  net#MJHardy::disc1.mike</tt>
   </p></li><li><a name="d39e11184"></a><p><tt>     #MJHardy::disc1.mike</tt>
   </p></li><li><a name="d39e11189"></a><p><tt> -net#MJHardy-:disc1.mike</tt>
   </p></li><li><a name="d39e11194"></a><p><tt>    -#MJHardy-:disc1.mike</tt>
   </p></li></ul></div><p>The special fields here are all MJHardy, and give the name of
  the fileserver to use.  Special fields may use any character except for
  control characters, double quote '"', solidus '|' and space.  If
  a special field contains a hyphen you may only use the first two
  syntaxes given above.</p></dd><dt><a name="d39e11201"></a><span class="term"><tt>File$Path</tt> and
  <tt>Run$Path</tt></span></dt><dd><p>These two special variables control exactly where a
  file will be looked for, according to the operation being performed on
  it.</p><p><b>name: </b>File$Path</p><p><b>purpose: </b>for read operations</p><p><b>name: </b>Run$Path</p><p><b>purpose: </b>for execute operations</p><p>The contents of each variable should expand to a list or
  prefixes, separated by commas.  When a read operation is performed
  then the prefixes in <tt>File$Path</tt> are used in the
  order in which they are listed. The first object that matches is used,
  whether it be a file or directory.  Similarly any execute operation
  uses the prefixes in Run$Path.  These search paths are only used when
  the pathname does not contain an explicit file system reference, e.g.,
  executing <tt>adfs:file</tt> will not use
  <tt>Run$Path</tt>.</p></dd><dt><a name="d39e11237"></a><span class="term">Other path variables</span></dt><dd><p><a name="d39e11240"></a>You can set up other path variables and use them as
  pseudo file systems.  For example if you typed:
  <div class="literallayout"><b><tt>*Set&nbsp;Source$Path&nbsp;adfs:$.src.,adfs:$.public.src.</tt></b></div>,
  you could then refer to the pseudo file system as
  <tt>Source:</tt> or (less preferable) as
  <tt>-Source-</tt>.  These path variables work in the same
  was as <tt>File$Path</tt> and
  <tt>Run$Path</tt>.</p><p>NOTE: Path variables are not implemented in this version of
 <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.  A workaround for this is to use "&lt;Foo$Path&gt;"
 instead of "Foo:" until they are made available.</p></dd><dt><a name="pathnames-externally-acorn"></a><span class="term">from Lisp-string
  notation to internal representation</span></dt><dd><p><i>No</i> swapping.
   <tt>foo.lisp</tt> means file type
   <tt>lisp</tt> and file name <tt>foo</tt>.
   This is pseudo-BNF:</p><div class="variablelist"><dl><dt><a name="d39e11283"></a><span class="term">legal character ::==</span></dt><dd><p>any ISO latin-1 graphic character &#8805; ' ' except
    '.' ':' '*' '#' '$' '&amp;' '@' '^' '%' '\' '?'
    </p></dd><dt><a name="d39e11289"></a><span class="term">extended legal character ::==</span></dt><dd><p>any ISO latin-1 graphic character &#8805; ' ' except
    ':' '"' '|'
    </p></dd><dt><a name="d39e11295"></a><span class="term">legal-wild char ::==</span></dt><dd><p>legal char | '*' | '#' | '?'
    </p></dd><dt><a name="d39e11301"></a><span class="term">host ::==</span></dt><dd><p> '-' { extended legal char except '-' }+ '-'
    | { extended legal char except '-' } { extended legal char }* ':' | empty
    </p></dd><dt><a name="d39e11307"></a><span class="term">device ::==</span></dt><dd><p> ':' { legal char }+ '.' | empty
    </p></dd><dt><a name="d39e11313"></a><span class="term">directory ::==</span></dt><dd><p><a name="d39e11316"></a> { '$' | '&amp;' | '@' | '%' | '\' } '.'
    { subdirectory }* | { subdirectory }+ | empty
    <p><b>: </b>'$' -&gt;</p><p><b>: </b><tt>:absolute</tt> <tt>:root</tt></p><p><b>: </b>'&amp;' -&gt;</p><p><b>: </b><tt>:absolute</tt> <tt>:home</tt></p><p><b>: </b>'@' -&gt;</p><p><b>: </b><tt>:absolute</tt> <tt>:current</tt></p><p><b>: </b>'%' -&gt;</p><p><b>: </b><tt>:absolute</tt> <tt>:library</tt></p><p><b>: </b>'\' -&gt;</p><p><b>: </b><tt>:absolute</tt> <tt>:precious</tt></p><p><b>: </b>else</p><p><b>: </b><tt>:relative</tt></p></p></dd><dt><a name="d39e11373"></a><span class="term">subdirectory ::==</span></dt><dd><p><a name="d39e11376"></a>{ '^' | { legal-wild char }+ } '.'
   <p><b>: </b>'^' -&gt;</p><p><b>: </b><tt>:parent</tt></p></p></dd><dt><a name="d39e11388"></a><span class="term">filename ::==</span></dt><dd><p>{ { legal-wild char }+ | empty }
   </p></dd><dt><a name="d39e11394"></a><span class="term">filetype ::==</span></dt><dd><p>{ '.' { legal-wild char }+ | empty }
   </p></dd><dt><a name="d39e11400"></a><span class="term">pathname ::==</span></dt><dd><p>host device directory filename filetype
   </p></dd></dl></div><p><b>Examples</b></p><p><b>String: </b><tt>-net-$.SystemMesg</tt></p><p><b>Hostname: </b><tt>net</tt></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt>)</tt></p><p><b>Name: </b><tt>SystemMesg</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>net#MJHardy::disc1.mike</tt></p><p><b>Hostname: </b><tt>net#MJHardy</tt></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt>)</tt></p><p><b>Name: </b><tt>mike</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>#MJHardy::disc1.mike</tt></p><p><b>Hostname: </b><tt>#MJHardy</tt></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt>)</tt></p><p><b>Name: </b><tt>mike</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>-net#MJHardy-:disc1.mike</tt></p><p><b>Hostname: </b><tt>net#MJHardy</tt></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt>)</tt></p><p><b>Name: </b><tt>mike</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>-#MJHardy-:disc1.mike</tt></p><p><b>Hostname: </b><tt>#MJHardy</tt></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt>)</tt></p><p><b>Name: </b><tt>mike</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>@.foo</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:current</tt>)</tt></p><p><b>Name: </b><tt>foo</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>foo</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt>)</tt></p><p><b>Name: </b><tt>foo</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>^.</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt> <tt>:parent</tt>)</tt></p><p><b>Name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>@.^.</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:current</tt>
        <tt>:parent</tt>)</tt></p><p><b>Name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>foo.bar</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt>)</tt></p><p><b>Name: </b><tt>foo</tt></p><p><b>Type: </b><tt>bar</tt></p><p><b>String: </b><tt>foo.bar.baz</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt> "foo")</tt></p><p><b>Name: </b><tt>bar</tt></p><p><b>Type: </b><tt>baz</tt></p><p><b>String: </b><tt>foo.bar.</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt> "foo" "bar")</tt></p><p><b>Name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>String: </b><tt>foo.@.</tt></p><p><b>Hostname: </b>illegal</p><p><b>Device: </b></p><p><b>Directory: </b></p><p><b>Name: </b></p><p><b>Type: </b></p></dd><dt><a name="d39e11750"></a><span class="term">From internal representation to RISCOS string</span></dt><dd><p>with swapping <i>only</i> of name/type
  components.</p><p><b>Hostname: </b><tt>net</tt></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt>)</tt></p><p><b>Name: </b><tt>foo</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>net::disc1.$.foo</tt></p><p><b>Hostname: </b><tt>net#MJ</tt></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt> "foo")</tt></p><p><b>Name: </b><tt>bar</tt></p><p><b>Type: </b><tt>baz</tt></p><p><b>RISCOS String: </b><tt>net#MJ::disc1.$.foo.baz.bar</tt></p><p><b>Hostname: </b><tt>adfs</tt></p><p><b>Device: </b><tt>4</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt> "foo"
        "bar")</tt></p><p><b>Name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>adfs::4.$.foo.bar</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt> "foo")</tt></p><p><b>Name: </b><tt>bar</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>:disc1.$.foo.bar</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:current</tt>)</tt></p><p><b>Name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b>illegal here</p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><tt>(<tt>:relative</tt>)</tt></p><p><b>Name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>:disc1.</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><tt>disc1</tt></p><p><b>Directory: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>:disc1.</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:root</tt>)</tt></p><p><b>Name: </b><tt>foo</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>$.foo</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:current</tt>)</tt></p><p><b>Name: </b><tt>foo</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>@.foo</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt>)</tt></p><p><b>Name: </b><tt>foo</tt></p><p><b>Type: </b><tt>bar</tt></p><p><b>RISCOS String: </b><tt>bar.foo</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt> "foo")</tt></p><p><b>Name: </b><tt>bar</tt></p><p><b>Type: </b><tt>baz</tt></p><p><b>RISCOS String: </b><tt>foo.baz.bar</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:library</tt>)</tt></p><p><b>Name: </b><tt>bar</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>%.bar</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:absolute</tt> <tt>:library</tt> "foo")</tt></p><p><b>Name: </b><tt>bar</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>%.foo.bar</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt>)</tt></p><p><b>Name: </b><tt>foo</tt></p><p><b>Type: </b><tt>bar</tt></p><p><b>RISCOS String: </b><tt>bar.foo</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt> "foo")</tt></p><p><b>Name: </b><tt>bar</tt></p><p><b>Type: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>RISCOS String: </b><tt>foo.bar</tt></p><p><b>Hostname: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Device: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Directory: </b><tt>(<tt>:relative</tt> "foo")</tt></p><p><b>Name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Type: </b><tt>bar</tt></p><p><b>RISCOS String: </b>illegal here</p><p>That is, the RISCOS string is the flattening-concatenation
 of</p><pre class="programlisting">
  (append
    (if (null hostname) "" (append hostname ":"))
    (if (null device) "" (append ":" device "."))
    (case (pop directory)
      (:absolute (case (pop directory)
                         (:root "$.")
                         (:home "&amp;.")
                         (:current "@.")
                         (:library "%.")
                         (:previous "\\.")))
      (:relative ""))
    (mapcar (lambda (subdir) (append subdir ".")) directory)
    (if (null name)
        (if (null type) "" (error "type with name illegal here"))
        (if (null type)
            name
            (append type "." name))))
</pre></dd><dt><a name="d39e12189"></a><span class="term">internal representation</span></dt><dd><div class="variablelist"><p><b>Pathname components</b></p><dl><dt><a name="d39e12196"></a><span class="term"><i><tt>host</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>
 </p></dd><dt><a name="d39e12210"></a><span class="term"><i><tt>device</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>
 </p></dd><dt><a name="d39e12224"></a><span class="term"><i><tt>directory</tt></i></span></dt><dd><p><b><tt>(<i><tt>Startpoint</tt></i>
    . <i><tt>Subdirs</tt></i>)</tt></b></p><p><b>element: </b><i><tt>startpoint</tt></i></p><p><b>values: </b><tt>:relative</tt> | <tt>:absolute</tt>
   <i><tt>anchor</tt></i></p><p><b>element: </b><i><tt>anchor</tt></i></p><p><b>values: </b><tt>:root</tt> | <tt>:home</tt> | <tt>:current</tt> | <tt>:library</tt> |
   <tt>:precious</tt></p><p><b>element: </b><i><tt>Subdirs</tt></i></p><p><b>values: </b><tt>()</tt> | <tt>(<i><tt>subdir</tt></i>
   . <i><tt>Subdirs</tt></i>)</tt></p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><tt>:parent</tt></p><p><b>element: </b><i><tt>subdir</tt></i></p><p><b>values: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard characters
   <tt>?</tt>,<tt>#</tt> and
   <tt>*</tt></p></dd><dt><a name="d39e12315"></a><span class="term"><i><tt>name</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
 characters <tt>?</tt>,<tt>#</tt> and
 <tt>*</tt> (may also be specified as <tt>:wild</tt>)
 </p></dd><dt><a name="d39e12341"></a><span class="term"><i><tt>type</tt></i></span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-string.html" target="_top"><tt>SIMPLE-STRING</tt></a>, may contain wildcard
 characters <tt>?</tt>,<tt>#</tt> and
 <tt>*</tt> (may also be specified as <tt>:wild</tt>)
 </p></dd><dt><a name="d39e12367"></a><span class="term"><i><tt>version</tt></i></span></dt><dd><p>always <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (may also be specified as <tt>:wild</tt> or
 <tt>:newest</tt>)</p></dd></dl></div><p>Constraint: startpoint is not <tt>:absolute</tt> <tt>:root</tt> only if device
 is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>. If the device is specified, the pathname must be <tt>:absolute</tt>
 <tt>:root</tt>.</p><p>The wildcard characters: <tt>'*'</tt> matches any
 sequence of characters, <tt>'#'</tt> or
 <tt>'?'</tt> matches any one character.</p><p>Due to the name/type swapping rule, there are pathnames that
 cannot result from <a href="http://www.lisp.org/HyperSpec/Body/fun_parse-namestring.html" target="_top"><tt>PARSE-NAMESTRING</tt></a>.  To get a pathname whose type is
 <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_make-pathname.html" target="_top"><tt>MAKE-PATHNAME</tt></a> must be used.  Example: <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_make-pathname.html" target="_top"><tt>MAKE-PATHNAME</tt></a> :directory "!Clisp." :name
 "README")</tt>.</p></dd></dl></div></dd></dl></div></div><div class="section"><a name="d39e12435"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e12435"></a>External notation.</h2></div></div><p>External notation of pathnames (cf.  <a href="http://www.lisp.org/HyperSpec/Body/fun_parse-namestring.html" target="_top"><tt>PARSE-NAMESTRING</tt></a> and
 <a href="http://www.lisp.org/HyperSpec/Body/fun_namestrin_h-namestring.html" target="_top"><tt>NAMESTRING</tt></a>), of course without spaces, [,],{,}:</p><div class="variablelist"><dl><dt><a name="d39e12450"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a> platforms only.</span></dt><dd><p><b>: </b>[ [drivespec] : ]</p><p><b>: </b>a letter <tt>*</tt> |
    <tt>A</tt>|...|<tt>Z</tt>|
    <tt>a</tt>|...|<tt>z</tt></p><p><b>: </b>{ name [. type] \ }</p><p><b>: </b>each one a subdirectory, <tt>\</tt> may be
    replaced by <tt>/</tt></p><p><b>: </b>[ name [. type] ]</p><p><b>: </b>filename with type (extension)</p><p>Name and type may be character sequences of any <a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a>
 (consisting of alphanumeric characters and <tt>-</tt>,
 <tt>_</tt>).  They are shortened to 8 (respectively 3)
 characters and converted to upper case.  A single
 <tt>*</tt> is allowed for <tt>:wild</tt>.</p></dd><dt><a name="d39e12515"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><p>see <a href="#pathnames-externally-amiga">above</a>.
</p></dd><dt><a name="d39e12530"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> platforms only.</span></dt><dd><p><b>: </b>[ <tt>/</tt> ]</p><p><b>: </b><tt>/</tt> denotes absolute
     pathnames</p><p><b>: </b>{ <i><tt>name</tt></i>
      <tt>/</tt> }</p><p><b>: </b>each one a subdirectory</p><p><b>: </b>[ <i><tt>name</tt></i>
      [<tt>.</tt> <i><tt>type</tt></i>] ]</p><p><b>: </b>filename with type (extension)</p><p>Name and type may be character sequences of any <a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a>
 (consisting of printing ASCII characters, except
 <tt>/</tt>).</p></dd><dt><a name="d39e12587"></a><span class="term">Platform dependent: <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.</span></dt><dd><p><b>: </b>[ [<i><tt>drivespec</tt></i>] : ]</p><p><b>: </b>a letter <tt>*</tt>|
     <tt>a</tt>|...|<tt>z</tt>|
     <tt>A</tt>|...|<tt>Z</tt></p><p><b>: </b>{ <i><tt>name</tt></i>
      [. <i><tt>type</tt></i>] \ }</p><p><b>: </b>each one a subdirectory, <tt>\</tt> may be
     replaced by <tt>/</tt></p><p><b>: </b>[ <i><tt>name</tt></i>
      [. <i><tt>type</tt></i>] ]</p><p><b>: </b>filename with type (extension)</p><p>Name and type may be character sequences of any <a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a>
 (consisting of printing ASCII characters, except
 <tt>/</tt>, <tt>\</tt>,
 <tt>:</tt>).</p></dd><dt><a name="d39e12668"></a><span class="term">Platform dependent: <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a> platforms only.</span></dt><dd><p>see <a href="#pathnames-externally-acorn">above</a>.
</p></dd></dl></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_namestrin_h-namestring.html" target="_top"><tt>NAMESTRING</tt></a> has an optional flag argument: <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_namestrin_h-namestring.html" target="_top"><tt>NAMESTRING</tt></a> <i><tt>pathname</tt></i>
 <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>)</tt> returns an external notation suitable for passing to the
 operating system or other programs.</p><div class="variablelist"><dl><dt><a name="d39e12703"></a><span class="term">Platform dependent:  <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>
   platforms only.</span></dt><dd><p>The function <a href="http://www.lisp.org/HyperSpec/Body/fun_user-homedir-pathname.html" target="_top"><tt>USER-HOMEDIR-PATHNAME</tt></a> is not implemented.
</p></dd><dt><a name="d39e12726"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a> platforms only.</span></dt><dd><p><a name="d39e12737"></a>If you really need that function, you might define it
    like this:
<pre class="programlisting">
(defun user-homedir-pathname (&amp;optional host)
  (declare (ignore host))
  (or (system::getenv "HOME") "\\"))
</pre></p></dd></dl></div></div><div class="section"><a name="d39e12744"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e12744"></a>Logical Pathnames
   <a href="http://www.lisp.org/HyperSpec/Body/sec_19-3.html" target="_top">[CLHS-19.3]</a></h2></div></div><p>When the argument of the function <a href="http://www.lisp.org/HyperSpec/Body/fun_translate_cal-pathname.html" target="_top"><tt>TRANSLATE-LOGICAL-PATHNAME</tt></a> is
 a string, it is interpreted as a logical pathname string.
</p></div><div class="section"><a name="d39e12757"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e12757"></a>The Filenames Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_filen_s_dictionary.html" target="_top">[CLHS-19.4]</a></h2></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_pathname.html" target="_top"><tt>PATHNAME</tt></a> always returns a physical pathname.</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_pathname-match-p.html" target="_top"><tt>PATHNAME-MATCH-P</tt></a> does not interpret missing components as
 wild.</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_translate-pathname.html" target="_top"><tt>TRANSLATE-PATHNAME</tt></a> has two additional keywords: <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_translate-pathname.html" target="_top"><tt>TRANSLATE-PATHNAME</tt></a> <i><tt>source</tt></i>
 <i><tt>from-wildname</tt></i>
 <i><tt>to-wildname</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:all</tt>
 <tt>:merge</tt>)</tt></p><p>If <tt>:all</tt> is specified and non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, a list of all resulting
 pathnames, corresponding to all matches of <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_pathname-match-p.html" target="_top"><tt>PATHNAME-MATCH-P</tt></a> <i><tt>source</tt></i>
 <i><tt>from-wildname</tt></i>)</tt>, is returned.  If
 <tt>:merge</tt> is specified and <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, unspecified pieces of
 <i><tt>to-pathname</tt></i> are not replaced by
 corresponding pieces of <i><tt>source</tt></i>.</p><div class="section"><a name="parsename"></a><div class="titlepage"><div><h3 class="title"><a name="parsename"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_parse-namestring.html" target="_top"><tt>PARSE-NAMESTRING</tt></a></h3></div></div><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_parse-namestring.html" target="_top"><tt>PARSE-NAMESTRING</tt></a>
   <i><tt>string</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
   <i><tt>host</tt></i> <i><tt>defaults</tt></i>
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <i><tt>start</tt></i> <i><tt>end</tt></i>
   <i><tt>junk-allowed</tt></i>)</tt>
 returns a logical pathname only if <i><tt>host</tt></i> is a
 <a href="http://www.lisp.org/HyperSpec/Body/glo_l.html#logical_host" target="_top">logical host</a>
 or <i><tt>host</tt></i> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> and
 <i><tt>defaults</tt></i> is a <a href="http://www.lisp.org/HyperSpec/Body/syscla_logical-pathname.html" target="_top"><tt>LOGICAL-PATHNAME</tt></a>.
 To construct a logical pathname from a string, the function
 <a href="http://www.lisp.org/HyperSpec/Body/fun_logical-pathname.html" target="_top"><tt>LOGICAL-PATHNAME</tt></a> can be used.</p><p>The ANSI-mandated behavior of recognizing logical pathnames when
the <i><tt>string</tt></i> begins with some alphanumeric
characters followed by a colon (#\:) is very confusing
(cf. <tt>"c:/autoexec.bat"</tt>,
<tt>"home:.clisprc"</tt> and
<tt>"prep:/pub/gnu"</tt>) and therefore disabled by default.
To enable the ANSI standard behavior, you should set <a href="#parsename"><tt>custom:*parse-namestring-ansi*</tt></a> to
non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p></div><div class="section"><a name="pathmerge"></a><div class="titlepage"><div><h3 class="title"><a name="pathmerge"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a></h3></div></div><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a>
   <i><tt>pathname</tt></i>
   [<i><tt>default-pathname</tt></i>])</tt>
 returns a logical pathname only if
 <i><tt>default-pathname</tt></i> is a logical pathname.  To
 construct a logical pathname from a string, the function
 <a href="http://www.lisp.org/HyperSpec/Body/fun_logical-pathname.html" target="_top"><tt>LOGICAL-PATHNAME</tt></a> can be used.</p><p>When both <i><tt>pathname</tt></i> and
 <i><tt>default-pathname</tt></i> are relative pathnames, the
 behavior depends on <a href="#pathmerge"><tt>custom:*merge-pathnames-ansi*</tt></a>: when it is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, then <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> retains
 its traditional behavior:
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> #p"x/" #p"y/")</tt>
 evaluates to <tt>#p"x/"</tt></p><p><i>Rationale</i>: <a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> is used to
 specify default components for pathnames, so there is some analogy
 between <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> a b)</tt> and
 <tt>(or a b)</tt>.  Obviously putting in the same
 default a second time should do the same as putting it in once:
 <tt>(or a b b)</tt> is the same as <tt>(or a b)</tt>, so <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> a b) b)</tt>
 should be the same as <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> a
 b)</tt>.</p><p>(This question actually matters because in <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a> there is no
 distinction between &#8220;pathnames with defaults merged-in&#8221; and
 &#8220;pathnames with defaults not yet applied&#8221;.)</p><p>Now, <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a>
 '#p"x/" '#p"y/") '#p"y/")</tt> and <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> '#p"x/" '#p"y/")</tt> are <a href="http://www.lisp.org/HyperSpec/Body/fun_equal.html" target="_top"><tt>EQUAL</tt></a>
 in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> (when <a href="#pathmerge"><tt>custom:*merge-pathnames-ansi*</tt></a> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>), but not in implementations that
 strictly follow the [<a href="#ansi-cl">ANSI CL standard</a>] spec.  In fact, the above twice-default =
 once-default rule holds for all pathnames in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.</p><p>When <a href="#pathmerge"><tt>custom:*merge-pathnames-ansi*</tt></a> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, the normal
 [<a href="#ansi-cl">ANSI CL standard</a>] behavior is exhibited:
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><tt>MERGE-PATHNAMES</tt></a> #p"x/" #p"y/")</tt>
  evaluates to <tt>#p"y/x/"</tt></p><p>The rationale is that &#8220;merge&#8221; is
 <i>merge</i> and not <i>or</i>.</p></div></div></div><div id="files" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="files"></a>Chapter 20. Files
   <a href="http://www.lisp.org/HyperSpec/Body/chap-20.html" target="_top">[CLHS-20]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e13119">The Files Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_files_dictionary.html" target="_top">[CLHS-20.2]</a></a></dt><dd><dl><dt> <a href="#dir">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_directory.html" target="_top"><tt>DIRECTORY</tt></a></a></dt></dl></dd></dl></div><div class="section"><a name="d39e13119"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e13119"></a>The Files Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_files_dictionary.html" target="_top">[CLHS-20.2]</a></h2></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_rename-file.html" target="_top"><tt>RENAME-FILE</tt></a></b> <a href="http://www.lisp.org/HyperSpec/Body/fun_rename-file.html" target="_top"><tt>RENAME-FILE</tt></a> always returns a non-logical pathname as
 its first value.</p><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_probe-file.html" target="_top"><tt>PROBE-FILE</tt></a></b> <a href="http://www.lisp.org/HyperSpec/Body/fun_probe-file.html" target="_top"><tt>PROBE-FILE</tt></a> can not be used to check whether a directory
 exists. Use the function <a href="#probe-dir"><tt>ext:probe-directory</tt></a> or
 the function <a href="http://www.lisp.org/HyperSpec/Body/fun_directory.html" target="_top"><tt>DIRECTORY</tt></a> for this purpose.</p><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_file-author.html" target="_top"><tt>FILE-AUTHOR</tt></a></b> <a href="http://www.lisp.org/HyperSpec/Body/fun_file-author.html" target="_top"><tt>FILE-AUTHOR</tt></a> always returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, because the operating systems
 <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> is ported to do not store a file's author in the file system.
 Some operating systems, such as Unix, have the notion of a file's
 owner, and some other <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a> implementations return the user name of the
 file owner.  <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> does not do this, because
 <i>owner</i> and <i>author</i> are not the
 same; in particular, authorship is preserved by copying, while
 ownership is not.</p><p><a name="probe-dir"></a><b><tt>probe-directory</tt></b> <tt>(<tt>ext:probe-directory</tt>
 <i><tt>pathname</tt></i>)</tt> tests whether
 <i><tt>pathname</tt></i> exists and is a directory.  It
 will, unlike <a href="http://www.lisp.org/HyperSpec/Body/fun_probe-file.html" target="_top"><tt>PROBE-FILE</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/fun_truename.html" target="_top"><tt>TRUENAME</tt></a>, not signal an error if the
 parent directory of <i><tt>pathname</tt></i> does not
 exist.</p><div class="section"><a name="dir"></a><div class="titlepage"><div><h3 class="title"><a name="dir"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_directory.html" target="_top"><tt>DIRECTORY</tt></a></h3></div></div><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_directory.html" target="_top"><tt>DIRECTORY</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
 <i><tt>pathname</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :full :circle)</tt>
 can run in two modes:
<div class="itemizedlist"><ul><li><a name="d39e13238"></a><p>If <i><tt>pathname</tt></i> contains no
  name or type component, a list of all matching directories is
  produced.</p></li><li><a name="d39e13244"></a><p>Otherwise a list of all matching files is
  returned. If the <tt>:full</tt> argument is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>,
  this contains additional information: for each matching file you get a
  list of at least four elements <tt>(<i><tt>file-pathname</tt></i>
  <i><tt>file-truename</tt></i>
  <i><tt>file-write-date-as-decoded-time</tt></i>
  <i><tt>file-length</tt></i>)</tt>.</p></li></ul></div>


<div class="variablelist"><dl><dt><a name="d39e13273"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> platforms only.</span></dt><dd><p>If the <tt>:circle</tt> argument is
 non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, the function avoids endless loops that may result from
 symbolic links.</p></dd></dl></div>
</p><p><b><tt>ext:dir</tt></b> <tt>(<tt>ext:dir</tt>
 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> <i><tt>pathname</tt></i>)</tt> is like
 <a href="http://www.lisp.org/HyperSpec/Body/fun_directory.html" target="_top"><tt>DIRECTORY</tt></a>, but displays the pathnames instead of returning them.
 <tt>(ext:dir)</tt> shows the contents of the
 current directory.</p><div class="variablelist"><p><b><tt>ext:cd</tt></b></p><dl><dt><a name="d39e13322"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><p><tt>(<tt>ext:cd</tt>
   [<i><tt>pathname</tt></i>])</tt>
   manages the current directory.</p></dd><dt><a name="d39e13345"></a><span class="term">Platform dependent: <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a> platforms only.</span></dt><dd><p><tt>(<tt>ext:cd</tt>
   [<i><tt>pathname</tt></i>])</tt>
   manages the current host, current device and the current directory.
   </p></dd><dt><a name="d39e13364"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
   platforms only.</span></dt><dd><p><tt>(<tt>ext:cd</tt>
   [<i><tt>pathname</tt></i>])</tt>
   manages the current device and the current directory.
   </p></dd></dl></div><p><b><tt>ext:cd</tt></b> <tt>(<tt>ext:cd</tt>
 <i><tt>pathname</tt></i>)</tt> sets it, <tt>(ext:cd)</tt> returns it.</p><p><b><tt>ext:default-directory</tt></b> <tt>(<tt>ext:default-directory</tt>)</tt> is
 equivalent to <tt>(<tt>ext:cd</tt>)</tt>.  <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (<tt>ext:default-directory</tt>)
 <i><tt>pathname</tt></i>)</tt> is equivalent to
 <tt>(<tt>ext:cd</tt>
 <i><tt>pathname</tt></i>)</tt>, except for the return
 value.</p><p><b><tt>ext:make-dir</tt></b> <tt>(<tt>ext:make-dir</tt>
 <i><tt>directory-pathname</tt></i>)</tt> creates a new
 subdirectory.</p><p><b><tt>ext:delete-dir</tt></b> <tt>(<tt>ext:delete-dir</tt>
 <i><tt>directory-pathname</tt></i>)</tt> removes an
 (empty) subdirectory.</p></div></div></div><div id="streams" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="streams"></a>Chapter 21. Streams
   <a href="http://www.lisp.org/HyperSpec/Body/chap-21.html" target="_top">[CLHS-21]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e13480">Interactive Streams
   <a href="http://www.lisp.org/HyperSpec/Body/sec_21-1-1-1-3.html" target="_top">[CLHS-21.1.1.1.3]</a></a></dt><dt> <a href="#terminal">terminal interaction.</a></dt><dt> <a href="#d39e13999">The Streams Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_streams_dictionary.html" target="_top">[CLHS-21.2.]</a></a></dt><dd><dl><dt> <a href="#d39e14004">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a></a></dt><dt> <a href="#d39e14091">Binary input, <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a>,
  <tt>ext:read-integer</tt> &amp;
  <tt>ext:read-float</tt></a></dt><dt> <a href="#d39e14290">Binary output, <a href="http://www.lisp.org/HyperSpec/Body/fun_write-byte.html" target="_top"><tt>WRITE-BYTE</tt></a>,
  <tt>ext:write-integer</tt> &amp;
  <tt>ext:write-float</tt></a></dt><dt> <a href="#d39e14467">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_read-sequence.html" target="_top"><tt>READ-SEQUENCE</tt></a></a></dt><dt> <a href="#d39e14656">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_write-sequence.html" target="_top"><tt>WRITE-SEQUENCE</tt></a></a></dt><dt> <a href="#d39e14828">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_file-position.html" target="_top"><tt>FILE-POSITION</tt></a></a></dt><dt> <a href="#open">Function  <a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a></a></dt><dt> <a href="#d39e15021">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><tt>CLOSE</tt></a></a></dt><dt> <a href="#d39e15035">Class <a href="http://www.lisp.org/HyperSpec/Body/syscla_broadcast-stream.html" target="_top"><tt>BROADCAST-STREAM</tt></a></a></dt></dl></dd></dl></div><div class="section"><a name="d39e13480"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e13480"></a>Interactive Streams
   <a href="http://www.lisp.org/HyperSpec/Body/sec_21-1-1-1-3.html" target="_top">[CLHS-21.1.1.1.3]</a></h2></div></div><p>Interactive streams are those whose next input might depend on a
 prompt one might output.</p></div><div class="section"><a name="terminal"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="terminal"></a>terminal interaction.</h2></div></div><div class="variablelist"><p><b><a href="http://www.gnu.org" target="_top">GNU</a> <a href="ftp://ftp.gnu.org/gnu/readline/" target="_top">readline</a></b></p><dl><dt><a name="d39e13498"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>
    platforms only, and only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built <i>without</i> compile-time
    flag <i><tt>NO_READLINE</tt></i>.</span></dt><dd><p>Input through <a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><tt>*TERMINAL-IO*</tt></a> uses the <a href="http://www.gnu.org" target="_top">GNU</a> <a href="ftp://ftp.gnu.org/gnu/readline/" target="_top">readline</a>
  library.  Arrow keys can be used to move within the input history. The
  Tab key completes the symbol's name that is being typed.  See
  <a href="clreadline.html" target="_top">clreadline.html</a> or
  <a href="clreadline.dvi" target="_top">clreadline.dvi</a> for a complete
  description of the key bindings.  The <a href="http://www.gnu.org" target="_top">GNU</a> <a href="ftp://ftp.gnu.org/gnu/readline/" target="_top">readline</a> library is not used
  if standard input and standard output do not both refer to the same
  terminal.</p></dd></dl></div><div class="variablelist"><p><b><a href="#terminal"><tt>ext:with-keyboard</tt></a></b></p><dl><dt><a name="d39e13556"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>,
  <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.</span></dt><dd><p><a name="d39e13583"></a><a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><tt>*TERMINAL-IO*</tt></a> is not the only stream that
 communicates directly with the user: During execution of the body of a
 <tt>(<a href="#terminal"><tt>ext:with-keyboard</tt></a>
 . <i><tt>body</tt></i>)</tt> form, <i><a href="#terminal"><tt>ext:*keyboard-input*</tt></a></i> is the stream that reads the
 keystrokes from the keyboard.
 It returns every keystroke in detail, as character or
 <tt>sys::input-character</tt> with the following bits:
<div class="variablelist"><dl><dt><a name="d39e13609"></a><span class="term"><tt>:hyper</tt></span></dt><dd><p><i>(Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>,
   <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.)</i>
   if a non-standard key.  These keys are:

   Function keys, cursor keypads, numeric keypad <i>(Platform
   dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only)</i>.


     Function keys, cursor keypad <i>(Platform dependent:
     <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only)</i>.

   </p></dd><dt><a name="d39e13665"></a><span class="term">slot <i><tt>key</tt></i></span></dt><dd><p><a name="d39e13670"></a>the key name, for non-standard keys:
      <div class="variablelist"><dl><dt><a name="d39e13675"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>
          platforms only.</span></dt><dd><p><b>key: </b>F1..F12</p><p><b>value: </b><tt>:F1</tt>..<tt>:F12</tt>
         </p><p><b>key: </b>Insert</p><p><b>value: </b><tt>:Insert</tt></p><p><b>key: </b>Delete</p><p><b>value: </b><tt>:Delete</tt></p><p><b>key: </b>Home</p><p><b>value: </b><tt>:Home</tt></p><p><b>key: </b>End</p><p><b>value: </b><tt>:End</tt></p><p><b>key: </b>PgUp</p><p><b>value: </b><tt>:PgUp</tt></p><p><b>key: </b>PgDn</p><p><b>value: </b><tt>:PgDn</tt></p><p><b>key: </b>Arrow keys</p><p><b>value: </b><tt>:Left</tt><tt>:Right</tt>
         <tt>:Up</tt><tt>:Down</tt></p></dd><dt><a name="d39e13763"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
         platforms only.</span></dt><dd><p><b>key: </b>F1..F12</p><p><b>value: </b><tt>:F1</tt>..<tt>:F12</tt>
         </p><p><b>key: </b>Insert</p><p><b>value: </b><tt>:Insert</tt></p><p><b>key: </b>Delete</p><p><b>value: </b><tt>:Delete</tt></p><p><b>key: </b>Home</p><p><b>value: </b><tt>:Home</tt></p><p><b>key: </b>End</p><p><b>value: </b><tt>:End</tt></p><p><b>key: </b>Center</p><p><b>value: </b><tt>:Center</tt></p><p><b>key: </b>PgUp</p><p><b>value: </b><tt>:PgUp</tt></p><p><b>key: </b>PgDn</p><p><b>value: </b><tt>:PgDn</tt></p><p><b>key: </b>Arrow keys</p><p><b>value: </b><tt>:Left</tt><tt>:Right</tt>
         <tt>:Up</tt><tt>:Down</tt></p></dd><dt><a name="d39e13858"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><p><b>key: </b>F1..F10</p><p><b>value: </b><tt>:F1</tt>..<tt>:F10</tt>
         </p><p><b>key: </b>Help</p><p><b>value: </b><tt>:Help</tt></p><p><b>key: </b>Arrow keys</p><p><b>value: </b><tt>:Left</tt><tt>:Right</tt>
         <tt>:Up</tt><tt>:Down</tt></p></dd></dl></div></p></dd><dt><a name="d39e13906"></a><span class="term">slot <i><tt>char</tt></i></span></dt><dd><p>the ASCII code for standard keys
    </p></dd><dt><a name="d39e13915"></a><span class="term"><tt>:super</tt></span></dt><dd><p><i>(Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>,
     <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.)</i>
  if pressed together with <b>Shift</b> key(s) and if the
  keystroke would have been an other without <b>Shift</b>.
  </p></dd><dt><a name="d39e13947"></a><span class="term"><tt>:control</tt></span></dt><dd><p>if pressed together with the
    <b>Control</b> key.
   </p></dd><dt><a name="d39e13958"></a><span class="term"><tt>:meta</tt></span></dt><dd><p><i>(Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
    platforms only.)</i>
  if pressed together with the <b>Alternate</b> key.
  </p></dd></dl></div>

 This keyboard input is not echoed on the screen.  During execution of a
 <tt>(<a href="#terminal"><tt>ext:with-keyboard</tt></a>
 . <i><tt>body</tt></i>)</tt> form, no input from
 <a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><tt>*TERMINAL-IO*</tt></a> or any synonymous stream should be requested.</p></dd></dl></div></div><div class="section"><a name="d39e13999"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e13999"></a>The Streams Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_streams_dictionary.html" target="_top">[CLHS-21.2.]</a></h2></div></div><div class="section"><a name="d39e14004"></a><div class="titlepage"><div><h3 class="title"><a name="d39e14004"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a> is <a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a>able. The element type of streams
  created by the functions <a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a>,
<a href="#pipe"><tt>ext:make-pipe-input-stream</tt></a>,
<a href="#pipe"><tt>ext:make-pipe-output-stream</tt></a>,
<a href="#pipe"><tt>ext:make-pipe-io-stream</tt></a>,
<a href="#socket"><tt>socket:socket-accept</tt></a>,
<a href="#socket"><tt>socket:socket-connect</tt></a>
  can be modified, if the old and the new element type are either
<div class="itemizedlist"><ul><li><a name="d39e14044"></a><p>both equivalent to <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a> or
      <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8)</tt> or
      <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a> 8)</tt>, or
    </p></li><li><a name="d39e14065"></a><p>both equivalent to
      <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a>
        <i><tt>n</tt></i>)</tt> or
      <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a>
        <i><tt>n</tt></i>)</tt>,
      with the same <i><tt>n</tt></i>.</p></li></ul></div></p></div><div class="section"><a name="d39e14091"></a><div class="titlepage"><div><h3 class="title"><a name="d39e14091"></a>Binary input, <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a>,
  <tt>ext:read-integer</tt> &amp;
  <tt>ext:read-float</tt></h3></div></div><p>The function <tt>(<tt>ext:read-integer</tt>
    <i><tt>stream</tt></i>
    <i><tt>element-type</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
    <a href="#endianness"><i><tt>endianness</tt></i></a> <i><tt>eof-error-p</tt></i>
    <i><tt>eof-value</tt></i>)</tt>
 reads a multi-byte integer from <i><tt>stream</tt></i>.
 <i><tt>stream</tt></i> should be a stream with element-type
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8)</tt>.
 <i><tt>element-type</tt></i> should be a type equivalent to
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a>
 <i><tt>n</tt></i>)</tt>, where
 <i><tt>n</tt></i> is a multiple of 8.</p><p><tt>(<tt>ext:read-integer</tt>
 <i><tt>stream</tt></i>
 <i><tt>element-type</tt></i>)</tt> is like <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a> <i><tt>stream</tt></i>)</tt>
 if <i><tt>stream</tt></i>'s element type were set to
 <i><tt>element-type</tt></i>, except that
 <i><tt>stream</tt></i>'s <a href="http://www.lisp.org/HyperSpec/Body/fun_file-position.html" target="_top"><tt>FILE-POSITION</tt></a> will increase by
 <sup><i><tt>n</tt></i></sup>/<sub>8</sub>
 instead of 1.</p><p><a name="endianness"></a><a href="#endianness"><i><tt>endianness</tt></i></a> can be <tt>:little</tt>
 or <tt>:big</tt>.  The default is
 <tt>:little</tt>, which corresponds to the <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a>
 behavior in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.</p><p>Together with <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a>
 <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a>)</tt>, this function permits mixed
 character/binary input from a stream.</p><p>The function <tt>(<tt>ext:read-float</tt>
    <i><tt>stream</tt></i>
    <i><tt>element-type</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
    <a href="#endianness"><i><tt>endianness</tt></i></a> <i><tt>eof-error-p</tt></i>
    <i><tt>eof-value</tt></i>)</tt>
 reads a floating-point number in IEEE binary representation from
 <i><tt>stream</tt></i>.  <i><tt>stream</tt></i>
 should be a stream with element-type <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8)</tt>.
 <i><tt>element-type</tt></i> should be a type equivalent to
 <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a>.</p></div><div class="section"><a name="d39e14290"></a><div class="titlepage"><div><h3 class="title"><a name="d39e14290"></a>Binary output, <a href="http://www.lisp.org/HyperSpec/Body/fun_write-byte.html" target="_top"><tt>WRITE-BYTE</tt></a>,
  <tt>ext:write-integer</tt> &amp;
  <tt>ext:write-float</tt></h3></div></div><p>The function <tt>(<tt>ext:write-integer</tt>
    <i><tt>integer</tt></i> <i><tt>stream</tt></i>
    <i><tt>element-type</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
    <a href="#endianness"><i><tt>endianness</tt></i></a>)</tt>
 writes a multi-byte integer to <i><tt>stream</tt></i>.
 <i><tt>stream</tt></i> should be a stream with element-type
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8)</tt>.
 <i><tt>element-type</tt></i> should be a type equivalent to
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a>
 <i><tt>n</tt></i>)</tt>, where
 <i><tt>n</tt></i> is a multiple of 8.</p><p><tt>(<tt>ext:write-integer</tt>
    <i><tt>integer</tt></i> <i><tt>stream</tt></i>
    <i><tt>element-type</tt></i>)</tt>
 is like <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_write-byte.html" target="_top"><tt>WRITE-BYTE</tt></a>
 <i><tt>integer</tt></i>
 <i><tt>stream</tt></i>)</tt> if
 <i><tt>stream</tt></i>'s element type were set to
 <i><tt>element-type</tt></i>, except that
 <i><tt>stream</tt></i>'s <a href="http://www.lisp.org/HyperSpec/Body/fun_file-position.html" target="_top"><tt>FILE-POSITION</tt></a> will increase by
 <sup><i><tt>n</tt></i></sup>/<sub>8</sub>
 instead of 1.</p><p>Together with <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a>
  <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a>)</tt>, this function permits mixed
  character/binary output to a stream.</p><p>The function <tt>(<tt>ext:write-float</tt>
    <i><tt>float</tt></i> <i><tt>stream</tt></i>
    <i><tt>element-type</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
    <a href="#endianness"><i><tt>endianness</tt></i></a>)</tt>
 writes a floating-point number in IEEE binary representation to
 <i><tt>stream</tt></i>.  <i><tt>stream</tt></i>
 should be a stream with element-type <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8)</tt>.
 <i><tt>element-type</tt></i> should be a type equivalent to
 <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a>.</p></div><div class="section"><a name="d39e14467"></a><div class="titlepage"><div><h3 class="title"><a name="d39e14467"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_read-sequence.html" target="_top"><tt>READ-SEQUENCE</tt></a></h3></div></div><p>In addition to <a href="http://www.lisp.org/HyperSpec/Body/fun_read-sequence.html" target="_top"><tt>READ-SEQUENCE</tt></a>, the following two
 functions are provided:</p><div class="variablelist"><dl><dt><a name="d39e14480"></a><span class="term"><i><tt>ext:read-byte-sequence</tt></i>
   performs multiple <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a> operations:</span></dt><dd><p><tt>(<tt>ext:read-byte-sequence</tt>
   <i><tt>sequence</tt></i> <i><tt>stream</tt></i>
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:start</tt> <tt>:end</tt>)</tt> fills the subsequence of
   <i><tt>sequence</tt></i> specified by <tt>:start</tt> and
   <tt>:end</tt> with integers consecutively read from
   <i><tt>stream</tt></i>.  It returns the index of the first
   element of <i><tt>sequence</tt></i> that was not updated
   (= <i><tt>end</tt></i> or &lt;
   <i><tt>end</tt></i> if the stream reached its end).</p><p>This function is especially efficient if
  <i><tt>sequence</tt></i> is a <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8))</tt> and
  <i><tt>stream</tt></i> is a <a href="#open">file</a>/<a href="#pipe">pipe</a>/<a href="#socket">socket</a> stream with
  element type <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a>
  8)</tt>.</p></dd><dt><a name="d39e14570"></a><span class="term"><i><tt>ext:read-char-sequence</tt></i>
   performs multiple <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char.html" target="_top"><tt>READ-CHAR</tt></a> operations:</span></dt><dd><p><tt>(<tt>read-char-sequence</tt>
  <i><tt>sequence</tt></i> <i><tt>stream</tt></i>
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:start</tt> <tt>:end</tt>)</tt> fills the subsequence of
  <i><tt>sequence</tt></i> specified by <tt>:start</tt> and <tt>:end</tt>
  with characters consecutively read from
  <i><tt>stream</tt></i>.  It returns the index of the first
  element of <i><tt>sequence</tt></i> that was not updated (=
  <i><tt>end</tt></i> or &lt; <i><tt>end</tt></i>
  if the stream reached its end).</p><p>This function is especially efficient if
  <i><tt>sequence</tt></i> is a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a> and
  <i><tt>stream</tt></i> is a <a href="#open">file</a>/<a href="#pipe">pipe</a>/<a href="#socket">socket</a> stream with
  element type <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a> or an <a href="http://www.lisp.org/HyperSpec/Body/glo_i.html#input" target="_top">input</a> <a href="http://www.lisp.org/HyperSpec/Body/glo_s.html#string_stream" target="_top">string stream</a>.
  </p></dd></dl></div></div><div class="section"><a name="d39e14656"></a><div class="titlepage"><div><h3 class="title"><a name="d39e14656"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_write-sequence.html" target="_top"><tt>WRITE-SEQUENCE</tt></a></h3></div></div><p>In addition to <a href="http://www.lisp.org/HyperSpec/Body/fun_write-sequence.html" target="_top"><tt>WRITE-SEQUENCE</tt></a>, the following two
functions are provided:</p><div class="variablelist"><dl><dt><a name="d39e14669"></a><span class="term"><i><tt>ext:write-byte-sequence</tt></i>
   performs multiple <a href="http://www.lisp.org/HyperSpec/Body/fun_write-byte.html" target="_top"><tt>WRITE-BYTE</tt></a> operations:</span></dt><dd><p><tt>(<tt>ext:write-byte-sequence</tt>
  <i><tt>sequence</tt></i> <i><tt>stream</tt></i>
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:start</tt> <tt>:end</tt>)</tt> outputs the integers of the
  subsequence of <i><tt>sequence</tt></i> specified by
  <tt>:start</tt> and <tt>:end</tt> to <i><tt>stream</tt></i>. It returns
  <i><tt>sequence</tt></i>.</p><p>This function is especially efficient if
 <i><tt>sequence</tt></i> is a <tt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8))</tt> and
 <i><tt>stream</tt></i> is a <a href="#open">file</a>/<a href="#pipe">pipe</a>/<a href="#socket">socket</a> stream with
 element type <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a>
 8)</tt>.</p></dd><dt><a name="d39e14753"></a><span class="term"><i><tt>ext:write-char-sequence</tt></i>
  performs multiple <a href="http://www.lisp.org/HyperSpec/Body/fun_write-char.html" target="_top"><tt>WRITE-CHAR</tt></a> operations:</span></dt><dd><p><tt>(<tt>ext:write-char-sequence</tt>
   <i><tt>sequence</tt></i> <i><tt>stream</tt></i>
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:start</tt> <tt>:end</tt>)</tt> outputs the characters of the
   subsequence of <i><tt>sequence</tt></i> specified by
   <tt>:start</tt> and <tt>:end</tt> to <i><tt>stream</tt></i>.  It
   returns <i><tt>sequence</tt></i>.</p><p>This function is especially efficient if
  <i><tt>sequence</tt></i> is a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a> and
  <i><tt>stream</tt></i> is a <a href="#open">file</a>/<a href="#pipe">pipe</a>/<a href="#socket">socket</a> stream with
  element type <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>.</p></dd></dl></div></div><div class="section"><a name="d39e14828"></a><div class="titlepage"><div><h3 class="title"><a name="d39e14828"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_file-position.html" target="_top"><tt>FILE-POSITION</tt></a></h3></div></div><div class="variablelist"><dl><dt><a name="d39e14835"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
    platforms only.</span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/fun_file-position.html" target="_top"><tt>FILE-POSITION</tt></a> works on any buffered file stream.
  When a #\Newline is output to (respectively input
  from) a file stream, its file position is increased by 2 since
  #\Newline is encoded as
  CR/LF in the file.
</p></dd></dl></div></div><div class="section"><a name="open"></a><div class="titlepage"><div><h3 class="title"><a name="open"></a>Function  <a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a> cannot handle files of size &#8805; 4 GB.</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a> accepts three additional keywords: <a href="#eltype"><tt>:element-type</tt></a>, <a href="#extfmt"><tt>:external-format</tt></a>,
   <a href="#buffered"><tt>:buffered</tt></a>.</p><div class="variablelist"><p><b>The acceptable values for the
   <a href="#open">file</a>/<a href="#pipe">pipe</a>/<a href="#socket">socket</a> functions</b></p><dl><dt><a name="eltype"></a><span class="term"><tt>:element-type</tt></span></dt><dd><p>types equivalent to <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a> or
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a>
   <i><tt>n</tt></i>)</tt>,
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a>
   <i><tt>n</tt></i>)</tt>; if the stream is to be
   unbuffered, <i><tt>n</tt></i> must be a multiple of 8.
   </p></dd><dt><a name="extfmt"></a><span class="term"><tt>:external-format</tt></span></dt><dd><p>encodings, (constant) symbols in the <a href="#encoding"><tt>CHARSET</tt></a> package,
   strings (denoting <a href="#iconv">iconv()</a> based
   encodings), the symbol <tt>:default</tt>, and the <a href="#newline">line terminator</a> keywords
   <tt>:unix</tt>, <tt>:mac</tt>,
   <tt>:dos</tt>.  The default encoding is
   <a href="#def-file-enc"><tt>custom:*default-file-encoding*</tt></a>.
  </p></dd><dt><a name="buffered"></a><span class="term"><tt>:buffered</tt></span></dt><dd><p><a name="d39e14980"></a><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, or <tt>:default</tt>.
  <div class="itemizedlist"><ul><li><a name="d39e14994"></a><p>for functions that create <a href="#socket"><tt>socket-stream</tt></a>s and
    <a href="#pipe">pipes</a>, <tt>:default</tt> is
    equivalent to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>;</p></li><li><a name="d39e15011"></a><p>for functions that <a href="#open">open</a> files, <tt>:default</tt>
    means that buffered file streams will be returned for regular files
    and (on Unix) block-devices, and unbuffered file streams for special
    files.</p></li></ul></div>
</p></dd></dl></div></div><div class="section"><a name="d39e15021"></a><div class="titlepage"><div><h3 class="title"><a name="d39e15021"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><tt>CLOSE</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><tt>CLOSE</tt></a> ignores its <tt>:abort</tt> argument.</p></div><div class="section"><a name="d39e15035"></a><div class="titlepage"><div><h3 class="title"><a name="d39e15035"></a>Class <a href="http://www.lisp.org/HyperSpec/Body/syscla_broadcast-stream.html" target="_top"><tt>BROADCAST-STREAM</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_input-str_put-stream-p.html" target="_top"><tt>INPUT-STREAM-P</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_interactive-stream-p.html" target="_top"><tt>INTERACTIVE-STREAM-P</tt></a> return false for
 <a href="http://www.lisp.org/HyperSpec/Body/glo_b.html#broadcast_stream" target="_top">broadcast
 streams</a>.</p></div></div></div><div id="printer" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="printer"></a>Chapter 22. Printer
   <a href="http://www.lisp.org/HyperSpec/Body/chap-22.html" target="_top">[CLHS-22]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e15058">Multiple Possible Textual Representations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-1-1.html" target="_top">[CLHS-22.1.1.1]</a></a></dt><dt> <a href="#d39e15138">Printing Other Vectors
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-3-7.html" target="_top">[CLHS-22.1.3.7]</a></a></dt><dt> <a href="#d39e15178">Printing Other Arrays
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-3-8.html" target="_top">[CLHS-22.1.3.8]</a></a></dt><dt> <a href="#d39e15213">The Lisp Pretty Printer
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-2.html" target="_top">[CLHS-22.2]</a></a></dt><dt> <a href="#d39e15220">The Printer Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_printer_dictionary.html" target="_top">[CLHS-22.4]</a></a></dt><dd><dl><dt> <a href="#d39e15251">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a></a></dt><dt> <a href="#pathprint">pathnames</a></dt><dt> <a href="#d39e15507">Miscellaneous Issues</a></dt></dl></dd></dl></div><div class="section"><a name="d39e15058"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e15058"></a>Multiple Possible Textual Representations
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-1-1.html" target="_top">[CLHS-22.1.1.1]</a></h2></div></div><p><a name="pr-closure"></a><b><a href="#pr-closure"><tt>custom:*print-closure*</tt></a></b> An additional variable <a href="#pr-closure"><tt>custom:*print-closure*</tt></a> controls whether compiled and
 interpreted functions (closures) are output in detailed form.
 If <a href="#pr-closure"><tt>custom:*print-closure*</tt></a> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, compiled closures are output in
 #Y syntax which the reader understands.
 <a href="#pr-closure"><tt>custom:*print-closure*</tt></a> is initially set to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p><p><a name="pr-rpars"></a><b><a href="#pr-rpars"><tt>custom:*print-rpars*</tt></a></b> An additional variable <a href="#pr-rpars"><tt>custom:*print-rpars*</tt></a> controls
 the output of the right (closing) parentheses.
 If <a href="#pr-rpars"><tt>custom:*print-rpars*</tt></a> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, closing parentheses which do not fit onto
 the same line as the the corresponding opening parenthesis are output
 just below their corresponding opening parenthesis, in the same column.
 <a href="#pr-rpars"><tt>custom:*print-rpars*</tt></a> is initially set to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p><p><a name="pr-indent"></a><b><a href="#pr-indent"><tt>custom:*print-indent-lists*</tt></a></b> An additional variable <a href="#pr-indent"><tt>custom:*print-indent-lists*</tt></a> controls the indentation of
 lists that span more than one line.
 It specifies by how many characters items within the list will be
 indented relative to the beginning of the list.
 <a href="#pr-indent"><tt>custom:*print-indent-lists*</tt></a> is initially set to <tt>1</tt>.</p></div><div class="section"><a name="d39e15138"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e15138"></a>Printing Other Vectors
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-3-7.html" target="_top">[CLHS-22.1.3.7]</a></h2></div></div><p>When <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> is true, other vectors are written as
 follows: if the element-type is <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><tt>T</tt></a>, the syntax <tt>#(<i><tt>x<sub>0</sub></tt></i>
 ... <i><tt>x<sub>n-1</sub></tt></i>)</tt>
 is used.  Otherwise, the syntax <tt>#A(<i><tt>element-type</tt></i>
 <i><tt>dimensions</tt></i>
 <i><tt>contents</tt></i>)</tt> is used.</p></div><div class="section"><a name="d39e15178"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e15178"></a>Printing Other Arrays
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-3-8.html" target="_top">[CLHS-22.1.3.8]</a></h2></div></div><p>When <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> is true, other arrays are written as
 follows: if the element-type is <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><tt>T</tt></a>, the syntax <tt>#<i><tt>rank</tt></i>A
 <i><tt>contents</tt></i></tt> is used.  Otherwise, the
 syntax <tt>#A(<i><tt>element-type</tt></i>
 <i><tt>dimensions</tt></i>
 <i><tt>contents</tt></i>)</tt> is used.</p></div><div class="section"><a name="d39e15213"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e15213"></a>The Lisp Pretty Printer
   <a href="http://www.lisp.org/HyperSpec/Body/sec_22-2.html" target="_top">[CLHS-22.2]</a></h2></div></div><p>The List Pretty Printer is not implemented yet.</p></div><div class="section"><a name="d39e15220"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e15220"></a>The Printer Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_printer_dictionary.html" target="_top">[CLHS-22.4]</a></h2></div></div><p><b><a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>WRITE</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_write-to-_nc-to-string.html" target="_top"><tt>WRITE-TO-STRING</tt></a></b> The functions <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>WRITE</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_write-to-_nc-to-string.html" target="_top"><tt>WRITE-TO-STRING</tt></a> have an additional
 keyword argument <tt>:closure</tt> which is used to bind
 <a href="#pr-closure"><tt>custom:*print-closure*</tt></a>.</p><div class="section"><a name="d39e15251"></a><div class="titlepage"><div><h3 class="title"><a name="d39e15251"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a></h3></div></div><p>The <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> instruction <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-3.html" target="_top"><tt>~W</tt></a> is similar to <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-1.html" target="_top"><tt>~A</tt></a> and
 <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-4-2.html" target="_top"><tt>~S</tt></a>, but avoids binding of <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-escapest.html" target="_top"><tt>*PRINT-ESCAPE*</tt></a>.
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <i><tt>stream</tt></i>
 "~W" <i><tt>object</tt></i>)</tt> is equivalent to
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>WRITE</tt></a>
 <i><tt>object</tt></i> :stream
 <i><tt>stream</tt></i>)</tt>.</p><p>The <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> instruction <i><tt>~!</tt></i> is similar to
 <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-5-4.html" target="_top"><tt>~/</tt></a>, but avoids putting a function name into a string.
 Thus, even if the function is not interned in the <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top">&#8220;COMMON-LISP-USER&#8221;</a> package,
 you might not need to specify the package.</p><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <i><tt>stream</tt></i>
 "~args!" <i><tt>function</tt></i>
 <i><tt>object</tt></i>)</tt> is equivalent to <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><tt>FUNCALL</tt></a> <i><tt>function</tt></i>
 <i><tt>stream</tt></i> <i><tt>object</tt></i>
 <i><tt>colon-modifier-p</tt></i>
 <i><tt>atsign-modifier-p</tt></i>
 <i><tt>args</tt></i>)</tt>.</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-1.html" target="_top"><tt>~R</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-2-1.html" target="_top"><tt>~:R</tt></a> can output only
 integers in the range <tt>|n| &lt;
 <i><tt>10<sup>66</sup></tt></i></tt>.
 The output is in English, according to the American conventions, and
 these conventions are identical to the British conventions only in the
 range <tt>|n| &lt;
 <i><tt>10<sup>9</sup></tt></i></tt>.</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-1-1.html" target="_top"><tt>~:@C</tt></a> does not output the character itself, only the
 instruction how to type the character.</p><p>For <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-2.html" target="_top"><tt>~E</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-3.html" target="_top"><tt>~G</tt></a>, the value of
 <a href="http://www.lisp.org/HyperSpec/Body/var_stread-de_oat-formatst.html" target="_top"><tt>*READ-DEFAULT-FLOAT-FORMAT*</tt></a> does not matter if <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a>
 is true.</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-6-1.html" target="_top"><tt>~T</tt></a> can determine the current column of any
 built-in stream.</p></div><div class="section"><a name="pathprint"></a><div class="titlepage"><div><h3 class="title"><a name="pathprint"></a>pathnames</h3></div></div><p>Pathnames are printed as follows: If <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-escapest.html" target="_top"><tt>*PRINT-ESCAPE*</tt></a> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>,
 only the namestring is printed; otherwise it is printed with
 <tt>#P""</tt> syntax, as per [<a href="#ansi-cl">ANSI CL standard</a>] Issue <a href="http://www.lisp.org/HyperSpec/Issues/iss276.html" target="_top">PRINT-READABLY-BEHAVIOR:CLARIFY</a>.
 But, if <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> is true, we are in trouble as
 <tt>#P""</tt> is ambiguous (which is verboten when
 <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> is true), while being mandated by the [<a href="#ansi-cl">ANSI CL standard</a>].
 Therefore, in this case, <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>'s behavior is determined by the value
 of <a href="#pathprint"><tt>custom:*print-pathnames-ansi*</tt></a>: when it is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, we print pathnames like this:
<tt>#-CLISP #P"" #+CLISP #S(PATHNAME ...)</tt>.
 Otherwise, when the variable <a href="#pathprint"><tt>custom:*print-pathnames-ansi*</tt></a> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, the
 <tt>#P""</tt> notation is used as per <a href="http://www.lisp.org/HyperSpec/Body/sec_1-5-1-4.html" target="_top">1.5.1.4.1 Resolution of Apparent
 Conflicts in Exceptional Situations</a>.</p></div><div class="section"><a name="d39e15507"></a><div class="titlepage"><div><h3 class="title"><a name="d39e15507"></a>Miscellaneous Issues</h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-casest.html" target="_top"><tt>*PRINT-CASE*</tt></a> controls the output not only of symbols, but also
 of characters and some <tt>#&lt;...&gt;</tt>
 objects.</p><p>In the absence of <i><tt>sys::write-float-decimal</tt></i>,
 floating point numbers are output in radix 2.  This function is defined
 in <tt>floatpri.lisp</tt> and is not available if you run
 <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> without a memory image (which you should never do anyway!)</p><p>If <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a> is true,
 <a href="http://www.lisp.org/HyperSpec/Body/var_stread-de_oat-formatst.html" target="_top"><tt>*READ-DEFAULT-FLOAT-FORMAT*</tt></a> has no influence on the way
 floating point numbers are printed.</p><div class="variablelist"><dl><dt><a name="d39e15543"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>,
   <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a> platforms only.</span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-prettyst.html" target="_top"><tt>*PRINT-PRETTY*</tt></a> is initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> but set to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>
 in <tt>config.lsp</tt>.  This makes screen output prettier.
 </p></dd><dt><a name="d39e15584"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-prettyst.html" target="_top"><tt>*PRINT-PRETTY*</tt></a> is initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> but set to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>
 in <tt>config.lsp</tt>.  This makes unbuffered screen output both much faster
 and prettier.
 </p></dd></dl></div><p><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-arrayst.html" target="_top"><tt>*PRINT-ARRAY*</tt></a> is initially set to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>.</p></div></div></div><div id="reader" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="reader"></a>Chapter 23. Reader
   <a href="http://www.lisp.org/HyperSpec/Body/chap-23.html" target="_top">[CLHS-23]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#chario">characters</a></dt><dt> <a href="#d39e15943">Additional read dispatch macros</a></dt><dt> <a href="#d39e16005">Function <a href="http://www.lisp.org/HyperSpec/Body/acc_readtable-case.html" target="_top"><tt>READTABLE-CASE</tt></a></a></dt><dt> <a href="#d39e16045">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_listen.html" target="_top"><tt>LISTEN</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char-no-hang.html" target="_top"><tt>READ-CHAR-NO-HANG</tt></a></a></dt><dt> <a href="#d39e16142">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a></a></dt></dl></div><p>This is the list of objects whose external representation can not
  be meaningfully read in:
<p><b>unreadable objects</b></p><p><b>format: </b><tt>#&lt;<i><tt>type</tt></i>
     ...&gt;</tt></p><p><b>meaning: </b>all structures lacking a keyword constructor</p><p><b>format: </b><tt>#&lt;ARRAY <i><tt>type</tt></i>
       <i><tt>dimensions</tt></i>&gt;</tt></p><p><b>meaning: </b>all arrays except strings, if <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-arrayst.html" target="_top"><tt>*PRINT-ARRAY*</tt></a> is
       <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>format: </b><tt>#&lt;SYSTEM-FUNCTION
       <i><tt>name</tt></i>&gt;</tt></p><p><b>meaning: </b>built-in function written in <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a></p><p><b>format: </b><tt>#&lt;ADD-ON-SYSTEM-FUNCTION
       <i><tt>name</tt></i>&gt;</tt></p><p><b>meaning: </b>other function written in <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a></p><p><b>format: </b><tt>#&lt;SPECIAL-OPERATOR
       <i><tt>name</tt></i>&gt;</tt></p><p><b>meaning: </b>special operator handler</p><p><b>format: </b><tt>#&lt;COMPILED-CLOSURE
       <i><tt>name</tt></i>&gt;</tt></p><p><b>meaning: </b>compiled function, if <a href="#pr-closure"><tt>custom:*print-closure*</tt></a> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>format: </b><tt>#&lt;CLOSURE <i><tt>name</tt></i>
       ...&gt;</tt></p><p><b>meaning: </b>interpreted function</p><p><b>format: </b><tt>#&lt;FRAME-POINTER #x...&gt;</tt></p><p><b>meaning: </b>pointer to a stack frame</p><p><b>format: </b><tt>#&lt;DISABLED POINTER&gt;</tt></p><p><b>meaning: </b>frame pointer which has become invalid on exit from the
       corresponding <a href="http://www.lisp.org/HyperSpec/Body/speope_block.html" target="_top"><tt>BLOCK</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/speope_tagbody.html" target="_top"><tt>TAGBODY</tt></a></p><p><b>format: </b><tt>#&lt;...-STREAM ...&gt;</tt></p><p><b>meaning: </b>stream</p><p><b>format: </b><tt>#&lt;PACKAGE
       <i><tt>name</tt></i>&gt;</tt></p><p><b>meaning: </b>package</p><p><b>format: </b><tt>#&lt;HASH-TABLE #x...&gt;</tt></p><p><b>meaning: </b>hash table, if <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-arrayst.html" target="_top"><tt>*PRINT-ARRAY*</tt></a> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>format: </b><tt>#&lt;READTABLE #x...&gt;</tt></p><p><b>meaning: </b>readtable</p><p><b>format: </b><tt>#&lt;SYMBOL-MACRO
       <i><tt>form</tt></i>&gt;</tt></p><p><b>meaning: </b><a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> handler</p><p><b>format: </b><tt>#&lt;FOREIGN-POINTER #x...&gt;</tt></p><p><b>meaning: </b>foreign pointer
      <i>(Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>
         platforms only.)</i>
     </p><p><b>format: </b><tt>#&lt;FOREIGN-ADDRESS #x...&gt;</tt></p><p><b>meaning: </b>foreign address
     <i>(Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.)</i>
    </p><p><b>format: </b><tt>#&lt;FOREIGN-VARIABLE
       <i><tt>name</tt></i> #x...&gt;</tt></p><p><b>meaning: </b>foreign variable
     <i>(Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.)</i>
    </p><p><b>format: </b><tt>#&lt;FOREIGN-FUNCTION
       <i><tt>name</tt></i> #x...&gt;</tt></p><p><b>meaning: </b>foreign function
     <i>(Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.)</i>
    </p><p><b>format: </b><tt>#&lt;UNBOUND&gt;</tt></p><p><b>meaning: </b>"value" of a symbol without value, "value" of an unsupplied
      optional or keyword argument</p><p><b>format: </b><tt>#&lt;SPECIAL REFERENCE&gt;</tt></p><p><b>meaning: </b>environment marker for variables declared <a href="http://www.lisp.org/HyperSpec/Body/dec_special.html" target="_top"><tt>SPECIAL</tt></a>
      </p><p><b>format: </b><tt>#&lt;DOT&gt;</tt></p><p><b>meaning: </b>internal <a href="http://www.lisp.org/HyperSpec/Body/fun_readcm_re_g-whitespace.html" target="_top"><tt>READ</tt></a> result for "."</p><p><b>format: </b><tt>#&lt;END OF FILE&gt;</tt></p><p><b>meaning: </b>internal <a href="http://www.lisp.org/HyperSpec/Body/fun_readcm_re_g-whitespace.html" target="_top"><tt>READ</tt></a> result, when the end of file is reached
      </p><p><b>format: </b><tt>#&lt;READ-LABEL ...&gt;</tt></p><p><b>meaning: </b>intermediate <a href="http://www.lisp.org/HyperSpec/Body/fun_readcm_re_g-whitespace.html" target="_top"><tt>READ</tt></a> result for <tt>#n#</tt>
      </p><p><b>format: </b><tt>#&lt;ADDRESS #x...&gt;</tt></p><p><b>meaning: </b>machine address, should not occur</p><p><b>format: </b><tt>#&lt;SYSTEM-POINTER #x...&gt;</tt></p><p><b>meaning: </b>should not occur</p></p><div class="section"><a name="chario"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="chario"></a>characters</h2></div></div><p>#\Code allows input of characters of arbitrary code:
 e.g., #\Code231 reads as the character
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a> 231.)</tt>.</p></div><div class="section"><a name="d39e15943"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e15943"></a>Additional read dispatch macros</h2></div></div><div class="itemizedlist"><ul><li><a name="d39e15947"></a><p>#Y is used to read compiled
  functions and to set the current input stream's encoding.
  </p></li><li><a name="d39e15952"></a><p><tt>#""</tt> is used to read pathnames:
  <tt>#"test.lisp"</tt> is the value of <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_pathname.html" target="_top"><tt>PATHNAME</tt></a> "test.lisp")</tt></p><div class="variablelist"><dl><dt><a name="d39e15968"></a><span class="term">Platform dependent: <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
   platforms only.</span></dt><dd><p>As in all strings, backslashes must be written twice
  here: <tt>#"A:\\programs\\test.lisp"</tt>
  </p></dd><dt><a name="d39e15991"></a><span class="term">Platform dependent: <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a> platforms only.</span></dt><dd><p> As in all strings, backslashes must be written twice
  here: <tt>#"\\.test.lisp"</tt>
  </p></dd></dl></div></li></ul></div></div><div class="section"><a name="d39e16005"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e16005"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/acc_readtable-case.html" target="_top"><tt>READTABLE-CASE</tt></a></h2></div></div><p>When the value of <tt>(<a href="http://www.lisp.org/HyperSpec/Body/acc_readtable-case.html" target="_top"><tt>READTABLE-CASE</tt></a>
 <i><tt>readtable</tt></i>)</tt> is
 <tt>:invert</tt>, it applies to the package name and the
 symbol name of a symbol separately (not to the entire token at once).
 An alternative to the use of <a href="http://www.lisp.org/HyperSpec/Body/acc_readtable-case.html" target="_top"><tt>READTABLE-CASE</tt></a> is the use of the
 <tt>:case-sensitive</tt> option to <a href="http://www.lisp.org/HyperSpec/Body/fun_make-package.html" target="_top"><tt>MAKE-PACKAGE</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/mac_in-package.html" target="_top"><tt>IN-PACKAGE</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_defpackage.html" target="_top"><tt>DEFPACKAGE</tt></a>.</p></div><div class="section"><a name="d39e16045"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e16045"></a>Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_listen.html" target="_top"><tt>LISTEN</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char-no-hang.html" target="_top"><tt>READ-CHAR-NO-HANG</tt></a></h2></div></div><div class="variablelist"><dl><dt><a name="d39e16056"></a><span class="term"><tt>(<tt>ext:read-char-will-hang-p</tt>
              <i><tt>stream</tt></i>)</tt></span></dt><dd><p><tt>ext:read-char-will-hang-p</tt>
  queries the stream's input status. It returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char.html" target="_top"><tt>READ-CHAR</tt></a> and
  <a href="http://www.lisp.org/HyperSpec/Body/fun_peek-char.html" target="_top"><tt>PEEK-CHAR</tt></a> with a <i><tt>peek-type</tt></i> of <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> will return
  immediately. Otherwise it returns true. (In the latter case the standard
  <a href="http://www.lisp.org/HyperSpec/Body/fun_listen.html" target="_top"><tt>LISTEN</tt></a> function would return <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.)</p><p>Note the difference with <tt>(not (listen
  <i><tt>stream</tt></i>))</tt>: When the <tt>end-of-stream</tt> is reached,
  <a href="http://www.lisp.org/HyperSpec/Body/fun_listen.html" target="_top"><tt>LISTEN</tt></a> returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, whereas
  <tt>ext:read-char-will-hang-p</tt> returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p><p>Note also that
  <tt>ext:read-char-will-hang-p</tt> is not a good mean to
  test for <tt>end-of-stream</tt>: If <tt>ext:read-char-will-hang-p</tt>
  returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, this does not mean that the stream will deliver more
  characters. It only means that it is not known at this moment whether
  the stream is already at <tt>end-of-stream</tt>, or will deliver more characters.
  </p></dd></dl></div></div><div class="section"><a name="d39e16142"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e16142"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a></h2></div></div><div class="variablelist"><dl><dt><a name="d39e16149"></a><span class="term"><tt>(<tt>ext:read-byte-lookahead</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>To be called only if
   <i><tt>stream</tt></i>'s element-type is
   <tt>(unsigned-byte 8)</tt> or
   <tt>(signed-byte 8)</tt>. Returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> if
   <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a> would return immediately with an integer result.
   Returns <tt>:eof</tt> if the <tt>end-of-stream</tt> is already known to be reached.
   If <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a>'s value is not available immediately, returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>
   instead of waiting.
  </p></dd><dt><a name="d39e16193"></a><span class="term"><tt>(<tt>ext:read-byte-will-hang-p</tt>
              <i><tt>stream</tt></i>)</tt></span></dt><dd><p>To be called only if
   <i><tt>stream</tt></i>'s element-type is
   <tt>(unsigned-byte 8)</tt> or
   <tt>(signed-byte 8)</tt>. Returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if
   <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a> will return immediately. Otherwise it returns true.
  </p></dd><dt><a name="d39e16223"></a><span class="term"><tt>(<tt>ext:read-byte-no-hang</tt>
                 <i><tt>stream</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
                 <i><tt>eof-error-p</tt></i>
                 <i><tt>eof-value</tt></i>)</tt></span></dt><dd><p>To be called only if
   <i><tt>stream</tt></i>'s element-type is
   <tt>(unsigned-byte 8)</tt> or
   <tt>(signed-byte 8)</tt>. Returns an integer or
   does <tt>end-of-stream</tt> handling, like <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a>, if that would return immediately.
   If <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a>'s value is not available immediately, returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>
   instead of waiting.
   </p></dd></dl></div></div></div><div id="system" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="system"></a>Chapter 24. System Construction
   <a href="http://www.lisp.org/HyperSpec/Body/chap-24.html" target="_top">[CLHS-24]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#d39e16275"><a href="http://www.lisp.org/HyperSpec/Body/sec_the_syste_n_dictionary.html" target="_top">
    24.2: The System Construction Dictionary</a></a></dt><dd><dl><dt> <a href="#compilefile">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><tt>COMPILE-FILE</tt></a></a></dt><dt> <a href="#d39e16508">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file-pathname.html" target="_top"><tt>COMPILE-FILE-PATHNAME</tt></a></a></dt><dt> <a href="#d39e16526">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><tt>REQUIRE</tt></a></a></dt><dt> <a href="#loadfile">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a></a></dt><dt> <a href="#features">Variable <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><tt>*FEATURES*</tt></a></a></dt></dl></dd></dl></div><div class="section"><a name="d39e16275"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e16275"></a><a href="http://www.lisp.org/HyperSpec/Body/sec_the_syste_n_dictionary.html" target="_top">
    24.2: The System Construction Dictionary</a></h2></div></div><p>The compiler can be called not only by the functions <a href="http://www.lisp.org/HyperSpec/Body/fun_compile.html" target="_top"><tt>COMPILE</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><tt>COMPILE-FILE</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_disassemble.html" target="_top"><tt>DISASSEMBLE</tt></a>, but also by the declaration <a href="#compile-decl"><tt>(compile)</tt></a>.</p><div class="section"><a name="compilefile"></a><div class="titlepage"><div><h3 class="title"><a name="compilefile"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><tt>COMPILE-FILE</tt></a></h3></div></div><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><tt>COMPILE-FILE</tt></a>
          <i><tt>input-file</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :output-file
          :listing <tt>:warnings</tt> <tt>:verbose</tt> <tt>:print</tt>)</tt>
compiles a file to platform-independent bytecode.</p><div class="variablelist"><dl><dt><a name="d39e16328"></a><span class="term"><i><tt>input-file</tt></i></span></dt><dd><p>should be a pathname/string/symbol.
 </p></dd><dt><a name="d39e16335"></a><span class="term"><tt>:output-file</tt></span></dt><dd><p>should be <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> or a pathname/string/symbol
 or an output-stream.  The default is <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>.
 </p></dd><dt><a name="d39e16354"></a><span class="term"><tt>:listing</tt></span></dt><dd><p>should be <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> or a pathname/string/symbol
 or an output-stream.  The default is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
 </p></dd><dt><a name="d39e16373"></a><span class="term"><tt>:warnings</tt></span></dt><dd><p>specifies whether warnings should also appear on the
 screen.</p></dd><dt><a name="d39e16380"></a><span class="term"><tt>:verbose</tt></span></dt><dd><p>specifies whether error messages should also appear
 on the screen.</p></dd><dt><a name="d39e16387"></a><span class="term"><tt>:print</tt></span></dt><dd><p>specifies whether an indication which forms are
 being compiled should appear on the screen.
 </p></dd></dl></div><p>The variables <i><tt>custom:*compile-warnings*</tt></i>,
 <a href="http://www.lisp.org/HyperSpec/Body/var_stcompile_le-verbosest.html" target="_top"><tt>*COMPILE-VERBOSE*</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/var_stcompile_le-verbosest.html" target="_top"><tt>*COMPILE-PRINT*</tt></a> provide defaults for the
 <tt>:warnings</tt>, <tt>:verbose</tt>, <tt>:print</tt> keyword arguments, respectively.
 For each input file (default file type: <tt>#p".lisp"</tt>)
 the following files are generated:</p><p><b>File: </b>output file</p><p><b>When: </b>only if <tt>:output-file</tt> is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Default file type: </b><tt>#p".fas"</tt></p><p><b>Contents: </b>can be loaded using the <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a> function</p><p><b>File: </b>auxiliary output file</p><p><b>When: </b>only if <tt>:output-file</tt> is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Default file type: </b><tt>#p".lib"</tt></p><p><b>Contents: </b>used by <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><tt>COMPILE-FILE</tt></a> when compiling a <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><tt>REQUIRE</tt></a> form referring
    to the input file</p><p><b>File: </b>listing file</p><p><b>When: </b>only if <tt>:listing</tt> is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Default file type: </b><tt>#p".lis"</tt></p><p><b>Contents: </b>disassembly of the output file</p><p><b>File: </b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> output file</p><p><b>When: </b>only if <tt>:output-file</tt> is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Default file type: </b><tt>#p".c"</tt></p><p><b>Contents: </b>foreign function interface; this file is deleted if it is
    empty</p></div><div class="section"><a name="d39e16508"></a><div class="titlepage"><div><h3 class="title"><a name="d39e16508"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file-pathname.html" target="_top"><tt>COMPILE-FILE-PATHNAME</tt></a></h3></div></div><p>The default for the <tt>:output-file</tt> argument is
 <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, which means <tt>#p".fas"</tt>.</p></div><div class="section"><a name="d39e16526"></a><div class="titlepage"><div><h3 class="title"><a name="d39e16526"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><tt>REQUIRE</tt></a></h3></div></div><p>The function <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><tt>REQUIRE</tt></a> receives as optional argument either a
 pathname or a list of pathnames: files to be loaded if the required
 module is not already in memory.</p></div><div class="section"><a name="loadfile"></a><div class="titlepage"><div><h3 class="title"><a name="loadfile"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a> has two additional keywords <tt>:echo</tt> and
 <tt>:compiling</tt>.</p><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a> <i><tt>filename</tt></i>
 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:verbose</tt> <tt>:print</tt> <tt>:echo</tt>
 <tt>:if-does-not-exist</tt> <tt>:compiling</tt>)</tt></p><div class="variablelist"><dl><dt><a name="d39e16585"></a><span class="term"><tt>:verbose</tt> <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a></span></dt><dd><p>causes <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a> to emit a short message that a file is
   being loaded.  The default is <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><tt>*LOAD-VERBOSE*</tt></a>, which is initially <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>.
  </p></dd><dt><a name="d39e16608"></a><span class="term"><tt>:print</tt> <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a></span></dt><dd><p>causes <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a> to print the value of each form.  The
  default is <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><tt>*LOAD-PRINT*</tt></a>, which is initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
  </p></dd><dt><a name="d39e16631"></a><span class="term"><tt>:echo</tt> <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a></span></dt><dd><p>causes the input from the file to be echoed to
  <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><tt>*STANDARD-OUTPUT*</tt></a> (normally to the screen).  Should
  there be an error in the file, you can see at one glance where it is.
  The default is <i><tt>custom:*load-echo*</tt></i>, which is
  initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p></dd><dt><a name="d39e16654"></a><span class="term"><tt>:compiling</tt> <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a></span></dt><dd><p>causes each form read to be compiled on the fly.
  The compiled code is executed at once and - in contrast to <a href="#compilefile"><tt>compile-file</tt></a> - not
  written to a file.  The default is <i><tt>custom:*load-compiling*</tt></i>,
  which is initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
</p></dd></dl></div><p>The variable <i><tt>custom:*load-paths*</tt></i> contains
 a list of directories where program files are searched - additionally
 to the specified or current directory - by <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><tt>REQUIRE</tt></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><tt>COMPILE-FILE</tt></a>.</p></div><div class="section"><a name="features"></a><div class="titlepage"><div><h3 class="title"><a name="features"></a>Variable <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><tt>*FEATURES*</tt></a></h3></div></div><p>The variable <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><tt>*FEATURES*</tt></a> initially contains the symbols
<p><b>keyword: </b><tt>:CLISP</tt></p><p><b>meaning: </b>the name of this implementation</p><p><b>keyword: </b><tt>:ANSI-CL</tt></p><p><b>meaning: </b></p><p><b>keyword: </b><tt>:COMMON-LISP</tt></p><p><b>meaning: </b></p><p><b>keyword: </b><tt>:INTERPRETER</tt></p><p><b>meaning: </b></p><p><b>keyword: </b><tt>:COMPILER</tt></p><p><b>meaning: </b></p><p><b>keyword: </b><tt>:SOCKETS</tt></p><p><b>meaning: </b>see <a href="#socket">Socket Streams</a></p><p><b>keyword: </b><tt>:GENERIC-STREAMS</tt></p><p><b>meaning: </b>see <a href="#clos-stream">Defining new kinds of
    Streams</a></p><p><b>keyword: </b><tt>:SYSCALLS</tt></p><p><b>meaning: </b>see <a href="#syscalls">System Calls</a></p><p><b>keyword: </b><tt>:DIR-KEY</tt></p><p><b>meaning: </b>see <a href="#dir-key">Directory Access</a></p><p><b>keyword: </b><tt>:LOGICAL-PATHNAMES</tt></p><p><b>meaning: </b></p><p><b>keyword: </b><tt>:FFI</tt></p><p><b>meaning: </b>if a foreign function interface is supported <i>(Platform
     dependent: many <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only)</i>
    </p><p><b>keyword: </b><tt>:GETTEXT</tt></p><p><b>meaning: </b>if internationalization using the <a href="http://www.gnu.org" target="_top">GNU</a> gettext package is
     supported <i>(Platform dependent: most <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> platforms
     only)</i></p><p><b>keyword: </b><tt>:UNICODE</tt></p><p><b>meaning: </b>if Unicode (ISO 10646) characters are supported</p><p><b>keyword: </b><tt>:LOOP</tt></p><p><b>meaning: </b></p><p><b>keyword: </b><tt>:CLOS</tt></p><p><b>meaning: </b></p><p><b>keyword: </b><tt>:AMIGA</tt></p><p><b>meaning: </b>if <i><tt>hardware</tt></i> = Amiga and
     <i><tt>operating system</tt></i> =
     Exec/AmigaDOS</p><p><b>keyword: </b><tt>:DOS</tt></p><p><b>meaning: </b>if <i><tt>hardware</tt></i> = PC (clone) and
     <i><tt>operating system</tt></i> =
     DOS</p><p><b>keyword: </b><tt>:OS/2</tt></p><p><b>meaning: </b>if <i><tt>hardware</tt></i> = PC (clone) and
     <i><tt>operating system</tt></i> =
     OS/2</p><p><b>keyword: </b><tt>:WIN32</tt></p><p><b>meaning: </b>if <i><tt>hardware</tt></i> = PC (clone) and
     <i><tt>operating system</tt></i> = Win32 (Windows
     95/98/NT)</p><p><b>keyword: </b><tt>:PC386</tt></p><p><b>meaning: </b>if <i><tt>hardware</tt></i> = PC (clone) with a
   386/486/586/686 CPU</p><p><b>keyword: </b><tt>:UNIX</tt></p><p><b>meaning: </b>if <i><tt>operating system</tt></i> = Unix
     (yes, in this case the hardware is irrelevant!)</p></p></div></div></div><div id="environment" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="environment"></a>Chapter 25. Environment
   <a href="http://www.lisp.org/HyperSpec/Body/chap-25.html" target="_top">[CLHS-25]</a></h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#debugger">Debugging Utilities
   <a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-2.html" target="_top">[CLHS-25.1.2]</a></a></dt><dt> <a href="#d39e17373">The Environment Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_envir_t_dictionary.html" target="_top">[CLHS-25.2]</a></a></dt><dd><dl><dt> <a href="#d39e17379">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_disassemble.html" target="_top"><tt>DISASSEMBLE</tt></a></a></dt><dt> <a href="#d39e17409">Function <tt>EXT:UNCOMPILE</tt></a></dt><dt> <a href="#d39e17433">Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><tt>DOCUMENTATION</tt></a></a></dt><dt> <a href="#d39e17479">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_tracecm_untrace.html" target="_top"><tt>TRACE</tt></a></a></dt><dt> <a href="#d39e17712">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a></a></dt><dt> <a href="#space">EXT:SPACE</a></dt><dt> <a href="#gc">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_room.html" target="_top"><tt>ROOM</tt></a></a></dt><dt> <a href="#time">Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_time.html" target="_top"><tt>TIME</tt></a></a></dt><dt> <a href="#d39e17877">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_ed.html" target="_top"><tt>ED</tt></a></a></dt><dt> <a href="#d39e17896">Clock Time</a></dt><dt> <a href="#d39e17992">Machine</a></dt><dt> <a href="#d39e18069">Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS-LIST</tt></a></a></dt><dt> <a href="#d39e18089">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_dribble.html" target="_top"><tt>DRIBBLE</tt></a></a></dt><dt> <a href="#d39e18101">Function <a href="http://www.lisp.org/HyperSpec/Body/fun_lisp-impl_tion-version.html" target="_top"><tt>LISP-IMPLEMENTATION-VERSION</tt></a></a></dt></dl></dd></dl></div><div class="section"><a name="debugger"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="debugger"></a>Debugging Utilities
   <a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-2.html" target="_top">[CLHS-25.1.2]</a></h2></div></div><p>The debugger may be invoked through the functions
 <a href="http://www.lisp.org/HyperSpec/Body/fun_invoke-debugger.html" target="_top"><tt>INVOKE-DEBUGGER</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_break.html" target="_top"><tt>BREAK</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><tt>SIGNAL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_error.html" target="_top"><tt>ERROR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_cerror.html" target="_top"><tt>CERROR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_warn.html" target="_top"><tt>WARN</tt></a>. The
 stepper is invoked through the macro <a href="http://www.lisp.org/HyperSpec/Body/mac_step.html" target="_top"><tt>STEP</tt></a> .  Debugger and stepper
 execute subordinate <a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-1.html" target="_top">read-eval-print loop</a> (called "break loops") which are similar to
 the main <a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-1.html" target="_top">read-eval-print loop</a> except for the prompt and the set of available
 commands.  Commands must be typed literally, without surrounding quotes
 or white space.  Each command has a keyword abbreviation, indicated in
 the second column.</p><p><b>Commands common to the main loop, the debugger and
 the stepper</b></p><p><b>command: </b><b>Help</b></p><p><b>abbreviation: </b><b>:h</b></p><p><b>operation: </b>prints a list of available commands</p><p><b>Commands common to the debugger and the
 stepper</b></p><p><b>command: </b><b>Abort</b></p><p><b>abbreviation: </b><b>:a</b></p><p><b>operation: </b>abort to the next most recent <a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-1.html" target="_top">read-eval-print loop</a></p><p><b>command: </b><b>Unwind</b></p><p><b>abbreviation: </b><b>:uw</b></p><p><b>operation: </b>abort to the next most recent <a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-1.html" target="_top">read-eval-print loop</a></p><p>The stack is organized into frames and other stack elements.
 Usually every invocation of an interpreted function and every
 evaluation of an interpreted form corresponds to one stack frame.
 Special forms such as <a href="http://www.lisp.org/HyperSpec/Body/speope_letcm_letst.html" target="_top"><tt>LET</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/speope_letcm_letst.html" target="_top"><tt>LET*</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/speope_unwind-protect.html" target="_top"><tt>UNWIND-PROTECT</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/speope_catch.html" target="_top"><tt>CATCH</tt></a>
 produce special kinds of stack frames.</p><p>In a break loop there is a current stack frame, which is initially
 the most recent stack frame but can be moved using the debugger commands
 <b>Up</b> and <b>Down</b>.</p><p>Evaluation of forms in a break loop occurs in the lexical environment
 of the current stack frame but in the dynamic environment of the
 debugger's caller.  This means that to inspect or modify a lexical
 variable all you have to do is to move to the current stack frame just
 below the frame that corresponds to the form or the function call that
 binds that variable.</p><p>There is a current "stack mode" which defines in how much
 detail the stack is shown by the stack related debugger commands.</p><p><b>Commands common to the debugger and the
 stepper</b></p><p><b>command: </b><b>Error</b></p><p><b>abbreviation: </b><b>:e</b></p><p><b>operation: </b>print the last error message.</p><p><b>command: </b><b>Mode-1</b></p><p><b>abbreviation: </b><b>:m1</b></p><p><b>operation: </b>sets the current mode to 1: all the stack elements are
         considered.  This mode is fine for debugging compiled
         functions.</p><p><b>command: </b><b>Mode-2</b></p><p><b>abbreviation: </b><b>:m2</b></p><p><b>operation: </b>sets the current mode to 2: all the frames are considered.
     </p><p><b>command: </b><b>Mode-3</b></p><p><b>abbreviation: </b><b>:m3</b></p><p><b>operation: </b>sets the current mode to 3: only lexical frames (frames that
         correspond to special forms that modify the lexical environment)
         are considered.</p><p><b>command: </b><b>Mode-4</b></p><p><b>abbreviation: </b><b>:m4</b></p><p><b>operation: </b>sets the current mode to 4 (the default): only <a href="http://www.lisp.org/HyperSpec/Body/fun_eval.html" target="_top"><tt>EVAL</tt></a>
         and <a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><tt>APPLY</tt></a> frames are considered. Every evaluation
         of a form in the interpreter corresponds to an EVAL frame.
     </p><p><b>command: </b><b>Mode-5</b></p><p><b>abbreviation: </b><b>:m5</b></p><p><b>operation: </b>sets the current mode to 5: only <a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><tt>APPLY</tt></a> frames are
         considered. Every invocation of an interpreted function
         corresponds to one <a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><tt>APPLY</tt></a> frame.</p><p><b>command: </b><b>Where</b></p><p><b>abbreviation: </b><b>:w</b></p><p><b>operation: </b>shows the current stack frame.</p><p><b>command: </b><b>Up</b></p><p><b>abbreviation: </b><b>:u</b></p><p><b>operation: </b>goes up one frame, i.e., to the caller if in mode-5
    </p><p><b>command: </b><b>Down</b></p><p><b>abbreviation: </b><b>:d</b></p><p><b>operation: </b>does down one frame, i.e., to the callee if in mode-5
    </p><p><b>command: </b><b>Top</b></p><p><b>abbreviation: </b><b>:t</b></p><p><b>operation: </b>goes to top frame, i.e., to the top-level form if in mode-4
    </p><p><b>command: </b><b>Bottom</b></p><p><b>abbreviation: </b><b>:b</b></p><p><b>operation: </b>goes to bottom (most recent) frame, i.e., most probably to the
         form or function that caused the debugger to be entered.
    </p><p><b>command: </b><b>Backtrace</b></p><p><b>abbreviation: </b><b>:bt</b></p><p><b>operation: </b>lists the stack in current mode, bottom frame first, top frame
     last.</p><p><b>command: </b><b>Backtrace-1</b></p><p><b>abbreviation: </b><b>:bt1</b></p><p><b>operation: </b>lists the stack in mode 1.</p><p><b>command: </b><b>Backtrace-2</b></p><p><b>abbreviation: </b><b>:bt2</b></p><p><b>operation: </b>lists the stack in mode 2.</p><p><b>command: </b><b>Backtrace-3</b></p><p><b>abbreviation: </b><b>:bt3</b></p><p><b>operation: </b>lists the stack in mode 3.</p><p><b>command: </b><b>Backtrace-4</b></p><p><b>abbreviation: </b><b>:bt4</b></p><p><b>operation: </b>lists the stack in mode 4.</p><p><b>command: </b><b>Backtrace-5</b></p><p><b>abbreviation: </b><b>:bt5</b></p><p><b>operation: </b>lists the stack in mode 5.</p><p><b>command: </b><b>Frame-limit</b></p><p><b>abbreviation: </b><b>:fl</b></p><p><b>operation: </b>set the frame-limit: this many frames will be printed in a
     backtrace at most.</p><p><b>command: </b><b>Backtrace-l</b></p><p><b>abbreviation: </b><b>:bl</b></p><p><b>operation: </b>limit of frames to print will be prompted for.</p><p>If the current stack frame is an <a href="http://www.lisp.org/HyperSpec/Body/fun_eval.html" target="_top"><tt>EVAL</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><tt>APPLY</tt></a> frame, the
  following commands are available as well:</p><p><b>command: </b><b>Break+</b></p><p><b>abbreviation: </b><b>:br+</b></p><p><b>operation: </b>sets a breakpoint in the current frame.  When the corresponding
     form or function will be left, the debugger will be entered again,
     with the variable <a href="#trace-val"><tt>*trace-values*</tt></a>
     containing a list of its values.</p><p><b>command: </b><b>Break-</b></p><p><b>abbreviation: </b><b>:br-</b></p><p><b>operation: </b>removes a breakpoint from the current frame.</p><p><b>command: </b><b>Redo</b></p><p><b>abbreviation: </b><b>:rd</b></p><p><b>operation: </b>re-evaluates the corresponding form or function call. This
     command can be used to restart parts of a computation without
     aborting it entirely.</p><p><b>command: </b><b>Return</b></p><p><b>abbreviation: </b><b>:rt</b></p><p><b>operation: </b>leaves the current frame.  You will be prompted for the return
     values.</p><p><b>Commands specific to the debugger</b></p><p><b>command: </b><b>Continue</b></p><p><b>abbreviation: </b><b>:c</b></p><p><b>operation: </b>continues evaluation of the program.</p><p><b>Commands specific to the stepper</b></p><p><b>command: </b><b>Step</b></p><p><b>abbreviation: </b><b>:s</b></p><p><b>operation: </b>step into a form: evaluate this form in single step mode
   </p><p><b>command: </b><b>Next</b></p><p><b>abbreviation: </b><b>:n</b></p><p><b>operation: </b>step over a form: evaluate this form at once
   </p><p><b>command: </b><b>Over</b></p><p><b>abbreviation: </b><b>:o</b></p><p><b>operation: </b>step over this level: evaluate at once up to the next return
   </p><p><b>command: </b><b>Continue</b></p><p><b>abbreviation: </b><b>:c</b></p><p><b>operation: </b>switch off single step mode, continue evaluation
   </p><p>The stepper is usually used like this: If some form returns a
 strange value or results in an error, call <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_step.html" target="_top"><tt>STEP</tt></a>
 <i><tt>form</tt></i>)</tt> and navigate using the
 commands <b>Step</b> and <b>Next</b> until you
 reach the form you regard as responsible.  If you are too fast (execute
 <b>Next</b> once and get the error), there is no way back;
 you have to restart the entire stepper session.  If you are too slow
 (stepped into a function or a form which certainly is OK), a couple of
 <b>Next</b> commands or one <b>Over</b> command
 will help.</p></div><div class="section"><a name="d39e17373"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="d39e17373"></a>The Environment Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_envir_t_dictionary.html" target="_top">[CLHS-25.2]</a></h2></div></div><div class="section"><a name="d39e17379"></a><div class="titlepage"><div><h3 class="title"><a name="d39e17379"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_disassemble.html" target="_top"><tt>DISASSEMBLE</tt></a></h3></div></div><div class="variablelist"><dl><dt><a name="d39e17386"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> platforms only.</span></dt><dd><p><a href="http://www.lisp.org/HyperSpec/Body/fun_disassemble.html" target="_top"><tt>DISASSEMBLE</tt></a> can disassemble to machine code,
 provided that <a href="http://www.gnu.org" target="_top">GNU</a> gdb is present.  In that case the argument may be a
 <tt>system-function</tt>, a
 <tt>foreign-function</tt>, a special operator indicator,
 a symbol denoting one of these, a number, or a string.
 </p></dd></dl></div></div><div class="section"><a name="d39e17409"></a><div class="titlepage"><div><h3 class="title"><a name="d39e17409"></a>Function <tt>EXT:UNCOMPILE</tt></h3></div></div><p>The function <i><tt>ext:uncompile</tt></i> does the
 converse of <a href="http://www.lisp.org/HyperSpec/Body/fun_compile.html" target="_top"><tt>COMPILE</tt></a>: <tt>(<tt>ext:uncompile</tt>
 <i><tt>function-name</tt></i>)</tt> reverts an
 interpreted function that has been entered or loaded in the same
 session and then compiled back to its interpreted form.</p></div><div class="section"><a name="d39e17433"></a><div class="titlepage"><div><h3 class="title"><a name="d39e17433"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><tt>DOCUMENTATION</tt></a></h3></div></div><p>No on-line documentation is available for the system functions
 (yet).  <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><tt>DOCUMENTATION</tt></a> still has the CLtL1 implementation.</p><p><a name="browser"></a><b><tt>ext:clhs</tt></b> [<a href="#CLHS">Common Lisp HyperSpec</a>] access is provided via <tt>(<tt>ext:clhs</tt>
  <i><tt>symbol</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a>
  <tt>:browser</tt>
  <i><tt>browser</tt></i>)</tt> function which uses
  your web browser.  <i><tt>browser</tt></i> should be a
  valid keyword in the <tt>custom:*browsers*</tt> alist.
</p></div><div class="section"><a name="d39e17479"></a><div class="titlepage"><div><h3 class="title"><a name="d39e17479"></a>Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_tracecm_untrace.html" target="_top"><tt>TRACE</tt></a></h3></div></div><p><tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_tracecm_untrace.html" target="_top"><tt>TRACE</tt></a> <i><tt>fun</tt></i>
 ...)</tt> makes the functions <i><tt>fun</tt></i>,
 ... traced.  <i><tt>fun</tt></i> should be either a symbol
 or a list <tt>(<i><tt>symbol</tt></i>
 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:suppress-if</tt> <tt>:step-if</tt>
 <tt>:pre</tt> <tt>:post</tt>
 <tt>:pre-break-if</tt> <tt>:post-break-if</tt>
 <tt>:pre-print</tt> <tt>:post-print</tt>
 <tt>:print</tt>)</tt>, where</p><div class="variablelist"><dl><dt><a name="d39e17540"></a><span class="term"><tt>:suppress-if</tt>
   <i><tt>form</tt></i></span></dt><dd><p>no trace output as long as
   <i><tt>form</tt></i> is true</p></dd><dt><a name="d39e17553"></a><span class="term"><tt>:step-if</tt>
   <i><tt>form</tt></i></span></dt><dd><p>invokes the stepper as soon as
   <i><tt>form</tt></i> is true</p></dd><dt><a name="d39e17566"></a><span class="term"><tt>:pre</tt>
   <i><tt>form</tt></i></span></dt><dd><p>evaluates <i><tt>form</tt></i> before
   calling the function </p></dd><dt><a name="d39e17579"></a><span class="term"><tt>:post</tt>
   <i><tt>form</tt></i></span></dt><dd><p>evaluates <i><tt>form</tt></i> after
   return from the function </p></dd><dt><a name="d39e17592"></a><span class="term"><tt>:pre-break-if</tt>
   <i><tt>form</tt></i></span></dt><dd><p>goes into the break loop before calling the
   function if <i><tt>form</tt></i> is true
   </p></dd><dt><a name="d39e17605"></a><span class="term"><tt>:post-break-if</tt>
   <i><tt>form</tt></i></span></dt><dd><p>goes into the break loop after return from the
   function if <i><tt>form</tt></i> is true
   </p></dd><dt><a name="d39e17618"></a><span class="term"><tt>:pre-print</tt>
   <i><tt>form</tt></i></span></dt><dd><p>prints the values of
   <i><tt>form</tt></i> before calling the function
   </p></dd><dt><a name="d39e17631"></a><span class="term"><tt>:post-print</tt>
   <i><tt>form</tt></i></span></dt><dd><p>prints the values of
   <i><tt>form</tt></i> after return from the function
   </p></dd><dt><a name="d39e17644"></a><span class="term"><tt>:print</tt> <i><tt>form</tt></i></span></dt><dd><p>prints the values of
   <i><tt>form</tt></i> both before calling and after return
   from the function</p></dd></dl></div><p>In all these forms you can access the following variables:
<div class="variablelist"><dl><dt><a name="d39e17660"></a><span class="term"><tt>ext:*trace-function*</tt></span></dt><dd><p>the function itself
  </p></dd><dt><a name="d39e17667"></a><span class="term"><tt>ext:*trace-args*</tt></span></dt><dd><p>the arguments to the function
  </p></dd><dt><a name="d39e17674"></a><span class="term"><tt>ext:*trace-form*</tt></span></dt><dd><p>the function/macro call as form
  </p></dd><dt><a name="trace-val"></a><span class="term"><tt>ext:*trace-values*</tt></span></dt><dd><p>after return from the function: the list of return
  values from the function call
  </p></dd></dl></div>
and you can leave the function call with specified values by using
<a href="http://www.lisp.org/HyperSpec/Body/mac_return.html" target="_top"><tt>RETURN</tt></a>.</p><p><a href="http://www.lisp.org/HyperSpec/Body/mac_tracecm_untrace.html" target="_top"><tt>TRACE</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_tracecm_untrace.html" target="_top"><tt>UNTRACE</tt></a> are also applicable to functions <tt>(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> <i><tt>symbol</tt></i>)</tt> and to
 macros, but not to locally defined functions and macros.</p></div><div class="section"><a name="d39e17712"></a><div class="titlepage"><div><h3 class="title"><a name="d39e17712"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a></h3></div></div><p>The function <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a> takes a keyword argument
 <tt>:frontend</tt>, which specifies the way <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> will
 interact with the user.</p><div class="variablelist"><p><b>Available <tt>:frontend</tt>s for
   <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a> in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a></b></p><dl><dt><a name="d39e17744"></a><span class="term"><tt>:tty</tt></span></dt><dd><p>The interaction is conducted via the <a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><tt>*TERMINAL-IO*</tt></a>
   stream.  Please use the <b><tt>:h</tt></b> command to get the
   list of all available commands.</p></dd><dt><a name="d39e17758"></a><span class="term"><tt>:http</tt></span></dt><dd><p>A window in your Web browser (specified by the
   <a href="#browser"><tt>:browser</tt></a> keyword argument) is opened and it is controlled by
   <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> via a <a href="#socket"><tt>socket-stream</tt></a>, using the HTTP protocol.  You should be
   able to use all the standard browser features.</p><p>Since <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> is not multitasking at this time, you will not
   be able to do anything else during an <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a> session.  Please click on
   the <b><tt>quit</tt></b> link to terminate the session.</p><p>Please be aware though, that once you terminate an <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a>
   session, all links in all <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a> windows in your browser will become
   obsolete and using them in a new <a href="http://www.lisp.org/HyperSpec/Body/fun_inspect.html" target="_top"><tt>INSPECT</tt></a> session will result in
   unpredictable behavior.</p></dd></dl></div></div><div class="section"><a name="space"></a><div class="titlepage"><div><h3 class="title"><a name="space"></a>EXT:SPACE</h3></div></div><p>The macro <i><tt>ext:space</tt></i> is like the
 macro <a href="http://www.lisp.org/HyperSpec/Body/mac_time.html" target="_top"><tt>TIME</tt></a>: <tt>(<tt>ext:space</tt>
 <i><tt>form</tt></i>)</tt> evaluates the
 <i><tt>form</tt></i>, and, as a side effect, outputs
 information about the memory allocations caused by this evaluation.  It
 also prints everything printed by <a href="#time"><tt>time</tt></a>.</p></div><div class="section"><a name="gc"></a><div class="titlepage"><div><h3 class="title"><a name="gc"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_room.html" target="_top"><tt>ROOM</tt></a></h3></div></div><p>The function <a href="http://www.lisp.org/HyperSpec/Body/fun_room.html" target="_top"><tt>ROOM</tt></a> returns two values: the number of bytes
 currently occupied by Lisp objects, and the number of bytes that can be
 allocated before the next regular <a href="#gc">garbage-collect</a>ion occurs.</p><p>The function <i><tt>ext:gc</tt></i> starts a
 global <a href="#gc">garbage-collect</a>ion and its return value has the same meaning as the
 second value of <a href="http://www.lisp.org/HyperSpec/Body/fun_room.html" target="_top"><tt>ROOM</tt></a>.</p></div><div class="section"><a name="time"></a><div class="titlepage"><div><h3 class="title"><a name="time"></a>Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_time.html" target="_top"><tt>TIME</tt></a></h3></div></div><p>The timing data printed by the macro <a href="http://www.lisp.org/HyperSpec/Body/mac_time.html" target="_top"><tt>TIME</tt></a> includes: The real
 time (elapsed time), the run time (processor time for this process),
 the number of bytes allocated (use the <a href="#space"><tt>ext:space</tt></a> macro for more
 detailed analysis), and the number of GCs performed, if any.</p></div><div class="section"><a name="d39e17877"></a><div class="titlepage"><div><h3 class="title"><a name="d39e17877"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_ed.html" target="_top"><tt>ED</tt></a></h3></div></div><p>The function <a href="http://www.lisp.org/HyperSpec/Body/fun_ed.html" target="_top"><tt>ED</tt></a> calls the external editor specified by the
 variable <i><tt>custom:*editor*</tt></i> (see
 <tt>config.lsp</tt>).  If the argument is a function name which was defined
 in the current session (not loaded from a file), the program text to be
 edited is a pretty-printed version (without comments) of the text which
 was used to define the function.</p></div><div class="section"><a name="d39e17896"></a><div class="titlepage"><div><h3 class="title"><a name="d39e17896"></a>Clock Time</h3></div></div><div class="variablelist"><dl><dt><a name="d39e17901"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>
   platforms only.</span></dt><dd><p>The variable <i><tt>custom:*default-time-zone*</tt></i>
   contains the default time zone used by <a href="http://www.lisp.org/HyperSpec/Body/fun_encode-universal-time.html" target="_top"><tt>ENCODE-UNIVERSAL-TIME</tt></a> and
   <a href="http://www.lisp.org/HyperSpec/Body/fun_decode-universal-time.html" target="_top"><tt>DECODE-UNIVERSAL-TIME</tt></a>.  It is initially set to -1 (which
   means 1 hour east of Greenwich, i.e., Mid European Time).
   </p></dd></dl></div><p>The timezone in a decoded time must not necessarily be an integer,
 but (as float or rational number) it should be a multiple of
 <tt>1/3600</tt>.</p><p><b>Platform dependent</b></p><p><b>platform: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_intern_s-per-second.html" target="_top"><tt>INTERNAL-TIME-UNITS-PER-SECOND</tt></a></p><p><b><a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>: </b>100</p><p><b><a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>: </b>50</p><p><b><a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>: </b>1,000,000</p><p><b><a href="http://www.willows.com/" target="_top"><i>Win32</i></a>: </b>10,000,000</p><p><a href="http://www.lisp.org/HyperSpec/Body/fun_get-internal-run-time.html" target="_top"><tt>GET-INTERNAL-RUN-TIME</tt></a> returns the amount of run time
 consumed by the current <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> process since its startup.</p></div><div class="section"><a name="d39e17992"></a><div class="titlepage"><div><h3 class="title"><a name="d39e17992"></a>Machine</h3></div></div><div class="variablelist"><dl><dt><a name="d39e17997"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.</span></dt><dd><p>The functions <a href="http://www.lisp.org/HyperSpec/Body/fun_short-sit_ng-site-name.html" target="_top"><tt>SHORT-SITE-NAME</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_short-sit_ng-site-name.html" target="_top"><tt>LONG-SITE-NAME</tt></a>
  should be defined in a site-specific <tt>config.lsp</tt> file.
  </p></dd><dt><a name="d39e18023"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>
    platforms only.</span></dt><dd><p>The functions <a href="http://www.lisp.org/HyperSpec/Body/fun_machine-type.html" target="_top"><tt>MACHINE-TYPE</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_machine-version.html" target="_top"><tt>MACHINE-VERSION</tt></a>,
  <a href="http://www.lisp.org/HyperSpec/Body/fun_machine-instance.html" target="_top"><tt>MACHINE-INSTANCE</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_short-sit_ng-site-name.html" target="_top"><tt>SHORT-SITE-NAME</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_short-sit_ng-site-name.html" target="_top"><tt>LONG-SITE-NAME</tt></a> should be
  defined by every user in his site-specific <tt>config.lsp</tt> file.
  </p></dd></dl></div></div><div class="section"><a name="d39e18069"></a><div class="titlepage"><div><h3 class="title"><a name="d39e18069"></a>Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS</tt></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS-LIST</tt></a></h3></div></div><p>The search performed by <a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS-LIST</tt></a> is
 case-insensitive.</p></div><div class="section"><a name="d39e18089"></a><div class="titlepage"><div><h3 class="title"><a name="d39e18089"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_dribble.html" target="_top"><tt>DRIBBLE</tt></a></h3></div></div><p>If <a href="http://www.lisp.org/HyperSpec/Body/fun_dribble.html" target="_top"><tt>DRIBBLE</tt></a> is called with an argument, and dribbling is already
 enabled, a warning is printed, and the new dribbling request is
 ignored.</p></div><div class="section"><a name="d39e18101"></a><div class="titlepage"><div><h3 class="title"><a name="d39e18101"></a>Function <a href="http://www.lisp.org/HyperSpec/Body/fun_lisp-impl_tion-version.html" target="_top"><tt>LISP-IMPLEMENTATION-VERSION</tt></a></h3></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_lisp-impl_tion-version.html" target="_top"><tt>LISP-IMPLEMENTATION-VERSION</tt></a> returns
 the numeric version (like <tt>3.14</tt>), and
 the release date (like <tt>"1999-07-21"</tt>).
 When running on the same machine on which <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> was built, it appends
  the binary build and memory image dump date in universal time
  (like <tt>3141592654</tt>).
 When running on a different machine, it appends the <a href="http://www.lisp.org/HyperSpec/Body/fun_machine-instance.html" target="_top"><tt>MACHINE-INSTANCE</tt></a>
  of the machine on which it was built.</p></div></div></div><div id="glossary" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="glossary"></a>Chapter 26. Glossary
   <a href="http://www.lisp.org/HyperSpec/Body/chap-26.html" target="_top">[CLHS-26]</a></h2></div></div><p>No notes.</p></div><div id="appendix" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="appendix"></a>Chapter 27. Appendix
   <a href="http://www.lisp.org/HyperSpec/Body/chap-a.html" target="_top">[CLHS-a]</a></h2></div></div><p>No notes.</p></div><div id="issues" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="issues"></a>Chapter 28. X3J13 Issue Index
   <a href="http://www.lisp.org/HyperSpec/Issues/Issues-Categorized.html" target="_top">[CLHS-ic]</a></h2></div></div><p>This is the list of ANSI CL issues and their current status in
 <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>, i.e., whether <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> supports code that makes use of the
 functionality specified by the vote.</p><div class="variablelist"><dl><dt><a name="d39e18159"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss001.html" target="_top">&amp;ENVIRONMENT-BINDING-ORDER:FIRST</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18166"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss002.html" target="_top">ACCESS-ERROR-NAME</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18173"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss003.html" target="_top">ADJUST-ARRAY-DISPLACEMENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18180"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss004.html" target="_top">ADJUST-ARRAY-FILL-POINTER</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18187"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss005.html" target="_top">ADJUST-ARRAY-NOT-ADJUSTABLE:IMPLICIT-COPY</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18194"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss006.html" target="_top">ALLOCATE-INSTANCE:ADD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18201"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss007.html" target="_top">ALLOW-LOCAL-INLINE:INLINE-NOTINLINE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18208"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss008.html" target="_top">ALLOW-OTHER-KEYS-NIL:PERMIT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18215"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss009.html" target="_top">AREF-1D</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18222"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss010.html" target="_top">ARGUMENT-MISMATCH-ERROR-AGAIN:CONSISTENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18229"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss011.html" target="_top">ARGUMENT-MISMATCH-ERROR-MOON:FIX</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18236"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss012.html" target="_top">ARGUMENT-MISMATCH-ERROR:MORE-CLARIFICATIONS</a></span></dt><dd><p>yes, except for argument list checking in
     <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><tt>CALL-NEXT-METHOD</tt></a> in compiled code (items 11,12)
     </p></dd><dt><a name="d39e18247"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss013.html" target="_top">ARGUMENTS-UNDERSPECIFIED:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18254"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss014.html" target="_top">ARRAY-DIMENSION-LIMIT-IMPLICATIONS:ALL-FIXNUM</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18261"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss015.html" target="_top">ARRAY-TYPE-ELEMENT-TYPE-SEMANTICS:UNIFY-UPGRADING</a></span></dt><dd><p>yes for arrays, no for complex numbers
     </p></dd><dt><a name="d39e18268"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss016.html" target="_top">ASSERT-ERROR-TYPE:ERROR</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18275"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss017.html" target="_top">ASSOC-RASSOC-IF-KEY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18282"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss018.html" target="_top">ASSOC-RASSOC-IF-KEY:YES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18289"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss019.html" target="_top">BOA-AUX-INITIALIZATION:ERROR-ON-READ</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18296"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss020.html" target="_top">BREAK-ON-WARNINGS-OBSOLETE:REMOVE</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18303"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss021.html" target="_top">BROADCAST-STREAM-RETURN-VALUES:CLARIFY-MINIMALLY</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18310"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss022.html" target="_top">BUTLAST-NEGATIVE:SHOULD-SIGNAL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18317"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss023.html" target="_top">CHANGE-CLASS-INITARGS:PERMIT</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18324"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss024.html" target="_top">CHAR-NAME-CASE:X3J13-MAR-91</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18331"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss025.html" target="_top">CHARACTER-LOOSE-ENDS:FIX</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18338"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss026.html" target="_top">CHARACTER-PROPOSAL:2</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18345"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss027.html" target="_top">CHARACTER-PROPOSAL:2-1-1</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18352"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss028.html" target="_top">CHARACTER-PROPOSAL:2-1-2</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18359"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss029.html" target="_top">CHARACTER-PROPOSAL:2-2-1</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18366"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss030.html" target="_top">CHARACTER-PROPOSAL:2-3-1</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18373"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss031.html" target="_top">CHARACTER-PROPOSAL:2-3-2</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18380"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss032.html" target="_top">CHARACTER-PROPOSAL:2-3-3</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18387"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss033.html" target="_top">CHARACTER-PROPOSAL:2-3-4</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18394"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss034.html" target="_top">CHARACTER-PROPOSAL:2-3-5</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18401"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss035.html" target="_top">CHARACTER-PROPOSAL:2-3-6</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18408"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss036.html" target="_top">CHARACTER-PROPOSAL:2-4-1</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18415"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss037.html" target="_top">CHARACTER-PROPOSAL:2-4-2</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18422"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss038.html" target="_top">CHARACTER-PROPOSAL:2-4-3</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18429"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss039.html" target="_top">CHARACTER-PROPOSAL:2-5-2</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18436"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss040.html" target="_top">CHARACTER-PROPOSAL:2-5-6</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18443"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss041.html" target="_top">CHARACTER-PROPOSAL:2-5-7</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18450"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss042.html" target="_top">CHARACTER-PROPOSAL:2-6-1</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18457"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss043.html" target="_top">CHARACTER-PROPOSAL:2-6-2</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18464"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss044.html" target="_top">CHARACTER-PROPOSAL:2-6-3</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18471"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss045.html" target="_top">CHARACTER-PROPOSAL:2-6-5</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18478"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss046.html" target="_top">CHARACTER-VS-CHAR:LESS-INCONSISTENT-SHORT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18485"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss047.html" target="_top">CLASS-OBJECT-SPECIALIZER:AFFIRM</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18492"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss048.html" target="_top">CLOS-CONDITIONS-AGAIN:ALLOW-SUBSET</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18499"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss049.html" target="_top">CLOS-CONDITIONS:INTEGRATE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18506"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss050.html" target="_top">CLOS-ERROR-CHECKING-ORDER:NO-APPLICABLE-METHOD-FIRST</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18513"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss051.html" target="_top">CLOS-MACRO-COMPILATION:MINIMAL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18520"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss052.html" target="_top">CLOSE-CONSTRUCTED-STREAM:ARGUMENT-STREAM-ONLY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18527"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss053.html" target="_top">CLOSED-STREAM-OPERATIONS:ALLOW-INQUIRY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18534"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss054.html" target="_top">COERCING-SETF-NAME-TO-FUNCTION:ALL-FUNCTION-NAMES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18541"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss055.html" target="_top">COLON-NUMBER</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18548"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss056.html" target="_top">COMMON-FEATURES:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18555"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss057.html" target="_top">COMMON-TYPE:REMOVE</a></span></dt><dd><p>yes, still present in package LISP
    </p></dd><dt><a name="d39e18562"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss058.html" target="_top">COMPILE-ARGUMENT-PROBLEMS-AGAIN:FIX</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18569"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss059.html" target="_top">COMPILE-FILE-HANDLING-OF-TOP-LEVEL-FORMS:CLARIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18576"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss060.html" target="_top">COMPILE-FILE-OUTPUT-FILE-DEFAULTS:INPUT-FILE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18583"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss061.html" target="_top">COMPILE-FILE-PACKAGE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18590"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss062.html" target="_top">COMPILE-FILE-PATHNAME-ARGUMENTS:MAKE-CONSISTENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18597"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss063.html" target="_top">COMPILE-FILE-SYMBOL-HANDLING:NEW-REQUIRE-CONSISTENCY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18604"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss064.html" target="_top">COMPILED-FUNCTION-REQUIREMENTS:TIGHTEN</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18611"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss065.html" target="_top">COMPILER-DIAGNOSTICS:USE-HANDLER</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18618"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss066.html" target="_top">COMPILER-LET-CONFUSION:ELIMINATE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18625"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss067.html" target="_top">COMPILER-VERBOSITY:LIKE-LOAD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18632"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss068.html" target="_top">COMPILER-WARNING-STREAM</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18639"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss069.html" target="_top">COMPLEX-ATAN-BRANCH-CUT:TWEAK</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18646"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss070.html" target="_top">COMPLEX-ATANH-BOGUS-FORMULA:TWEAK-MORE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18653"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss071.html" target="_top">COMPLEX-RATIONAL-RESULT:EXTEND</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18660"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss072.html" target="_top">COMPUTE-APPLICABLE-METHODS:GENERIC</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18667"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss073.html" target="_top">CONCATENATE-SEQUENCE:SIGNAL-ERROR</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18674"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss074.html" target="_top">CONDITION-ACCESSORS-SETFABLE:NO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18681"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss075.html" target="_top">CONDITION-RESTARTS:BUGGY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18688"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss076.html" target="_top">CONDITION-RESTARTS:PERMIT-ASSOCIATION</a></span></dt><dd><p>yes, except for (6)</p></dd><dt><a name="d39e18695"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss077.html" target="_top">CONDITION-SLOTS:HIDDEN</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18702"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss078.html" target="_top">CONS-TYPE-SPECIFIER:ADD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18709"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss079.html" target="_top">CONSTANT-CIRCULAR-COMPILATION:YES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18716"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss080.html" target="_top">CONSTANT-COLLAPSING:GENERALIZE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18723"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss081.html" target="_top">CONSTANT-COMPILABLE-TYPES:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18730"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss082.html" target="_top">CONSTANT-FUNCTION-COMPILATION:NO</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18737"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss083.html" target="_top">CONSTANT-MODIFICATION:DISALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18744"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss084.html" target="_top">CONSTANTP-DEFINITION:INTENTIONAL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18751"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss085.html" target="_top">CONSTANTP-ENVIRONMENT:ADD-ARG</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18758"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss086.html" target="_top">CONTAGION-ON-NUMERICAL-COMPARISONS:TRANSITIVE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18765"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss087.html" target="_top">COPY-SYMBOL-COPY-PLIST:COPY-LIST</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18772"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss088.html" target="_top">COPY-SYMBOL-PRINT-NAME:EQUAL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18779"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss089.html" target="_top">DATA-IO:ADD-SUPPORT</a></span></dt><dd><p>yes for <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><tt>*PRINT-READABLY*</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/var_stread-evalst.html" target="_top"><tt>*READ-EVAL*</tt></a> and
         <a href="http://www.lisp.org/HyperSpec/Body/mac_with-stan_rd-io-syntax.html" target="_top"><tt>WITH-STANDARD-IO-SYNTAX</tt></a>, no for everything else
     </p></dd><dt><a name="d39e18798"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss090.html" target="_top">DATA-TYPES-HIERARCHY-UNDERSPECIFIED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18805"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss091.html" target="_top">DEBUGGER-HOOK-VS-BREAK:CLARIFY</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18812"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss092.html" target="_top">DECLARATION-SCOPE:NO-HOISTING</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18819"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss093.html" target="_top">DECLARE-ARRAY-TYPE-ELEMENT-REFERENCES:RESTRICTIVE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18826"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss094.html" target="_top">DECLARE-FUNCTION-AMBIGUITY:DELETE-FTYPE-ABBREVIATION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18833"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss095.html" target="_top">DECLARE-MACROS:FLUSH</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18840"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss096.html" target="_top">DECLARE-TYPE-FREE:LEXICAL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18847"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss097.html" target="_top">DECLS-AND-DOC</a></span></dt><dd><p>??</p></dd><dt><a name="d39e18854"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss098.html" target="_top">DECODE-UNIVERSAL-TIME-DAYLIGHT:LIKE-ENCODE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18861"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss099.html" target="_top">DEFCONSTANT-SPECIAL:NO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18868"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss100.html" target="_top">DEFGENERIC-DECLARE:ALLOW-MULTIPLE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18875"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss101.html" target="_top">DEFINE-COMPILER-MACRO:X3J13-NOV89</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18882"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss102.html" target="_top">DEFINE-CONDITION-SYNTAX:INCOMPATIBLY-MORE-LIKE-DEFCLASS+EMPHASIZE-READ-ONLY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18889"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss103.html" target="_top">DEFINE-METHOD-COMBINATION-BEHAVIOR:CLARIFY</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18896"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss104.html" target="_top">DEFINING-MACROS-NON-TOP-LEVEL:ALLOW</a></span></dt><dd><p>no</p></dd><dt><a name="d39e18903"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss105.html" target="_top">DEFMACRO-BLOCK-SCOPE:EXCLUDES-BINDINGS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18910"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss106.html" target="_top">DEFMACRO-LAMBDA-LIST:TIGHTEN-DESCRIPTION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18917"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss107.html" target="_top">DEFMETHOD-DECLARATION-SCOPE:CORRESPONDS-TO-BINDINGS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18924"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss108.html" target="_top">DEFPACKAGE:ADDITION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18931"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss109.html" target="_top">DEFSTRUCT-CONSTRUCTOR-KEY-MIXTURE:ALLOW-KEY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18938"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss110.html" target="_top">DEFSTRUCT-CONSTRUCTOR-OPTIONS:EXPLICIT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18945"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss111.html" target="_top">DEFSTRUCT-CONSTRUCTOR-SLOT-VARIABLES:NOT-BOUND</a></span></dt><dd><p>no (furthermore it gets hairy when applied to
     <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-6.html" target="_top">BOA constructors</a>)
     </p></dd><dt><a name="d39e18955"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss112.html" target="_top">DEFSTRUCT-COPIER-ARGUMENT-TYPE:RESTRICT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18962"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss113.html" target="_top">DEFSTRUCT-COPIER:ARGUMENT-TYPE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18969"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss114.html" target="_top">DEFSTRUCT-DEFAULT-VALUE-EVALUATION:IFF-NEEDED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18976"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss115.html" target="_top">DEFSTRUCT-INCLUDE-DEFTYPE:EXPLICITLY-UNDEFINED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18983"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss116.html" target="_top">DEFSTRUCT-PRINT-FUNCTION-AGAIN:X3J13-MAR-93</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18990"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss117.html" target="_top">DEFSTRUCT-PRINT-FUNCTION-INHERITANCE:YES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e18997"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss118.html" target="_top">DEFSTRUCT-REDEFINITION:ERROR</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19004"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss119.html" target="_top">DEFSTRUCT-SLOTS-CONSTRAINTS-NAME:DUPLICATES-ERROR</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19011"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss120.html" target="_top">DEFSTRUCT-SLOTS-CONSTRAINTS-NUMBER</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19018"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss121.html" target="_top">DEFTYPE-DESTRUCTURING:YES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19025"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss122.html" target="_top">DEFTYPE-KEY:ALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19032"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss123.html" target="_top">DEFVAR-DOCUMENTATION:UNEVALUATED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19039"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss124.html" target="_top">DEFVAR-INIT-TIME:NOT-DELAYED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19046"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss125.html" target="_top">DEFVAR-INITIALIZATION:CONSERVATIVE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19053"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss126.html" target="_top">DEPRECATION-POSITION:LIMITED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19060"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss127.html" target="_top">DESCRIBE-INTERACTIVE:NO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19067"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss128.html" target="_top">DESCRIBE-UNDERSPECIFIED:DESCRIBE-OBJECT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19074"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss129.html" target="_top">DESTRUCTIVE-OPERATIONS:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19081"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss130.html" target="_top">DESTRUCTURING-BIND:NEW-MACRO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19088"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss131.html" target="_top">DISASSEMBLE-SIDE-EFFECT:DO-NOT-INSTALL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19095"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss132.html" target="_top">DISPLACED-ARRAY-PREDICATE:ADD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19102"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss133.html" target="_top">DO-SYMBOLS-BLOCK-SCOPE:ENTIRE-FORM</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19109"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss134.html" target="_top">DO-SYMBOLS-DUPLICATES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19116"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss135.html" target="_top">DOCUMENTATION-FUNCTION-BUGS:FIX</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19123"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss136.html" target="_top">DOCUMENTATION-FUNCTION-TANGLED:REQUIRE-ARGUMENT</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19130"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss137.html" target="_top">DOTIMES-IGNORE:X3J13-MAR91</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19137"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss138.html" target="_top">DOTTED-LIST-ARGUMENTS:CLARIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19144"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss139.html" target="_top">DOTTED-MACRO-FORMS:ALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19151"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss140.html" target="_top">DRIBBLE-TECHNIQUE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19158"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss141.html" target="_top">DYNAMIC-EXTENT-FUNCTION:EXTEND</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19165"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss142.html" target="_top">DYNAMIC-EXTENT:NEW-DECLARATION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19172"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss143.html" target="_top">EQUAL-STRUCTURE:MAYBE-STATUS-QUO</a></span></dt><dd><p>no for <a href="http://www.lisp.org/HyperSpec/Body/fun_equalp.html" target="_top"><tt>EQUALP</tt></a> on <a href="#hash">hash
     tables</a>, yes for everything else</p></dd><dt><a name="d39e19186"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss144.html" target="_top">ERROR-TERMINOLOGY-WARNING:MIGHT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19193"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss145.html" target="_top">EVAL-OTHER:SELF-EVALUATE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19200"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss146.html" target="_top">EVAL-TOP-LEVEL:LOAD-LIKE-COMPILE-FILE</a></span></dt><dd><p>yes, except maybe if <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a>
     <a href="#loadfile"><tt>:compiling</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>
     </p></dd><dt><a name="d39e19219"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss147.html" target="_top">EVAL-WHEN-NON-TOP-LEVEL:GENERALIZE-EVAL-NEW-KEYWORDS</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19226"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss148.html" target="_top">EVAL-WHEN-OBSOLETE-KEYWORDS:X3J13-MAR-1993</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19233"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss149.html" target="_top">EVALHOOK-STEP-CONFUSION:FIX</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19240"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss150.html" target="_top">EVALHOOK-STEP-CONFUSION:X3J13-NOV-89</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19247"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss151.html" target="_top">EXIT-EXTENT-AND-CONDITION-SYSTEM:LIKE-DYNAMIC-BINDINGS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19254"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss152.html" target="_top">EXIT-EXTENT:MINIMAL</a></span></dt><dd><p>yes, actually implement MEDIUM
    </p></dd><dt><a name="d39e19261"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss153.html" target="_top">EXPT-RATIO:P.211</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19268"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss154.html" target="_top">EXTENSIONS-POSITION:DOCUMENTATION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19275"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss155.html" target="_top">EXTERNAL-FORMAT-FOR-EVERY-FILE-CONNECTION:MINIMUM</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19282"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss156.html" target="_top">EXTRA-RETURN-VALUES:NO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19289"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss157.html" target="_top">FILE-OPEN-ERROR:SIGNAL-FILE-ERROR</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19296"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss158.html" target="_top">FIXNUM-NON-PORTABLE:TIGHTEN-DEFINITION</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19303"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss159.html" target="_top">FLET-DECLARATIONS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19310"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss160.html" target="_top">FLET-DECLARATIONS:ALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19317"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss161.html" target="_top">FLET-IMPLICIT-BLOCK:YES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19324"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss162.html" target="_top">FLOAT-UNDERFLOW:ADD-VARIABLES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19331"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss163.html" target="_top">FLOATING-POINT-CONDITION-NAMES:X3J13-NOV-89</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19338"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss164.html" target="_top">FORMAT-ATSIGN-COLON</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19345"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss165.html" target="_top">FORMAT-COLON-UPARROW-SCOPE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19352"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss166.html" target="_top">FORMAT-COMMA-INTERVAL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19359"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss167.html" target="_top">FORMAT-E-EXPONENT-SIGN:FORCE-SIGN</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19366"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss168.html" target="_top">FORMAT-OP-C</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19373"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss169.html" target="_top">FORMAT-PRETTY-PRINT:YES</a></span></dt><dd><p>yes, except that <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-1.html" target="_top"><tt>~F</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-2.html" target="_top"><tt>~E</tt></a>,
     <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-3.html" target="_top"><tt>~G</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/sec_22-3-3-4.html" target="_top"><tt>~$</tt></a> also bind <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-b_rint-radixst.html" target="_top"><tt>*PRINT-BASE*</tt></a> to 10 and
     <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-b_rint-radixst.html" target="_top"><tt>*PRINT-RADIX*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p></dd><dt><a name="d39e19407"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss170.html" target="_top">FORMAT-STRING-ARGUMENTS:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19414"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss171.html" target="_top">FUNCTION-CALL-EVALUATION-ORDER:MORE-UNSPECIFIED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19421"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss172.html" target="_top">FUNCTION-COMPOSITION:JAN89-X3J13</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19428"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss173.html" target="_top">FUNCTION-DEFINITION:JAN89-X3J13</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19435"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss174.html" target="_top">FUNCTION-NAME:LARGE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19442"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss175.html" target="_top">FUNCTION-TYPE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19449"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss176.html" target="_top">FUNCTION-TYPE-ARGUMENT-TYPE-SEMANTICS:RESTRICTIVE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19456"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss177.html" target="_top">FUNCTION-TYPE-KEY-NAME:SPECIFY-KEYWORD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19463"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss178.html" target="_top">FUNCTION-TYPE-REST-LIST-ELEMENT:USE-ACTUAL-ARGUMENT-TYPE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19470"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss179.html" target="_top">FUNCTION-TYPE:X3J13-MARCH-88</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19477"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss180.html" target="_top">GENERALIZE-PRETTY-PRINTER:UNIFY</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19484"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss181.html" target="_top">GENERIC-FLET-POORLY-DESIGNED:DELETE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19491"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss182.html" target="_top">GENSYM-NAME-STICKINESS:LIKE-TEFLON</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19498"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss183.html" target="_top">GENTEMP-BAD-IDEA:DEPRECATE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19505"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss184.html" target="_top">GET-MACRO-CHARACTER-READTABLE:NIL-STANDARD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19512"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss185.html" target="_top">GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19519"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss186.html" target="_top">HASH-TABLE-ACCESS:X3J13-MAR-89</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19526"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss187.html" target="_top">HASH-TABLE-KEY-MODIFICATION:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19533"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss188.html" target="_top">HASH-TABLE-PACKAGE-GENERATORS:ADD-WITH-WRAPPER</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19540"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss189.html" target="_top">HASH-TABLE-REHASH-SIZE-INTEGER</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19547"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss190.html" target="_top">HASH-TABLE-SIZE:INTENDED-ENTRIES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19554"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss191.html" target="_top">HASH-TABLE-TESTS:ADD-EQUALP</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19561"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss192.html" target="_top">IEEE-ATAN-BRANCH-CUT:SPLIT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19568"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss193.html" target="_top">IGNORE-USE-TERMINOLOGY:VALUE-ONLY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19575"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss194.html" target="_top">IMPORT-SETF-SYMBOL-PACKAGE</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19582"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss195.html" target="_top">IN-PACKAGE-FUNCTIONALITY:MAR89-X3J13</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19589"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss196.html" target="_top">IN-SYNTAX:MINIMAL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19596"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss197.html" target="_top">INITIALIZATION-FUNCTION-KEYWORD-CHECKING</a></span></dt><dd><p>??</p></dd><dt><a name="d39e19603"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss198.html" target="_top">ISO-COMPATIBILITY:ADD-SUBSTRATE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19610"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss199.html" target="_top">JUN90-TRIVIAL-ISSUES:11</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19617"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss200.html" target="_top">JUN90-TRIVIAL-ISSUES:14</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19624"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss201.html" target="_top">JUN90-TRIVIAL-ISSUES:24</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19631"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss202.html" target="_top">JUN90-TRIVIAL-ISSUES:25</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19638"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss203.html" target="_top">JUN90-TRIVIAL-ISSUES:27</a></span></dt><dd><p>yes for <a href="http://www.lisp.org/HyperSpec/Body/speope_the.html" target="_top"><tt>THE</tt></a>, no for <a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><tt>APPLY</tt></a> (spec not clear)
     </p></dd><dt><a name="d39e19653"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss204.html" target="_top">JUN90-TRIVIAL-ISSUES:3</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19660"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss205.html" target="_top">JUN90-TRIVIAL-ISSUES:4</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19667"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss206.html" target="_top">JUN90-TRIVIAL-ISSUES:5</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19674"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss207.html" target="_top">JUN90-TRIVIAL-ISSUES:9</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19681"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss208.html" target="_top">KEYWORD-ARGUMENT-NAME-PACKAGE:ANY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19688"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss209.html" target="_top">LAST-N</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19695"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss210.html" target="_top">LCM-NO-ARGUMENTS:1</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19702"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss211.html" target="_top">LEXICAL-CONSTRUCT-GLOBAL-DEFINITION:UNDEFINED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19709"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss212.html" target="_top">LISP-PACKAGE-NAME:COMMON-LISP</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19716"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss213.html" target="_top">LISP-SYMBOL-REDEFINITION-AGAIN:MORE-FIXES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19723"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss214.html" target="_top">LISP-SYMBOL-REDEFINITION:MAR89-X3J13</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19730"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss215.html" target="_top">LOAD-OBJECTS:MAKE-LOAD-FORM</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19737"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss216.html" target="_top">LOAD-TIME-EVAL:R**2-NEW-SPECIAL-FORM</a></span></dt><dd><p>obsolete</p></dd><dt><a name="d39e19744"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss217.html" target="_top">LOAD-TIME-EVAL:R**3-NEW-SPECIAL-FORM</a></span></dt><dd><p>yes, except for macro expansion at compile time
     </p></dd><dt><a name="d39e19751"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss218.html" target="_top">LOAD-TRUENAME:NEW-PATHNAME-VARIABLES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19758"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss219.html" target="_top">LOCALLY-TOP-LEVEL:SPECIAL-FORM</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19765"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss220.html" target="_top">LOOP-AND-DISCREPANCY:NO-REITERATION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19772"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss221.html" target="_top">LOOP-FOR-AS-ON-TYPO:FIX-TYPO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19779"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss222.html" target="_top">LOOP-INITFORM-ENVIRONMENT:PARTIAL-INTERLEAVING-VAGUE</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19786"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss223.html" target="_top">LOOP-MISCELLANEOUS-REPAIRS:FIX</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19793"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss224.html" target="_top">LOOP-NAMED-BLOCK-NIL:OVERRIDE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19800"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss225.html" target="_top">LOOP-PRESENT-SYMBOLS-TYPO:FLUSH-WRONG-WORDS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19807"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss226.html" target="_top">LOOP-SYNTAX-OVERHAUL:REPAIR</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19814"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss227.html" target="_top">MACRO-AS-FUNCTION:DISALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19821"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss228.html" target="_top">MACRO-DECLARATIONS:MAKE-EXPLICIT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19828"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss229.html" target="_top">MACRO-ENVIRONMENT-EXTENT:DYNAMIC</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19835"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss230.html" target="_top">MACRO-FUNCTION-ENVIRONMENT</a></span></dt><dd><p>obsolete</p></dd><dt><a name="d39e19842"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss231.html" target="_top">MACRO-FUNCTION-ENVIRONMENT:YES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19849"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss232.html" target="_top">MACRO-SUBFORMS-TOP-LEVEL-P:ADD-CONSTRAINTS</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19856"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss233.html" target="_top">MACROEXPAND-HOOK-DEFAULT:EXPLICITLY-VAGUE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19863"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss234.html" target="_top">MACROEXPAND-HOOK-INITIAL-VALUE:IMPLEMENTATION-DEPENDENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19870"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss235.html" target="_top">MACROEXPAND-RETURN-VALUE:TRUE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19877"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss236.html" target="_top">MAKE-LOAD-FORM-CONFUSION:REWRITE</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19884"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss237.html" target="_top">MAKE-LOAD-FORM-SAVING-SLOTS:NO-INITFORMS</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19891"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss238.html" target="_top">MAKE-PACKAGE-USE-DEFAULT:IMPLEMENTATION-DEPENDENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19898"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss239.html" target="_top">MAP-INTO:ADD-FUNCTION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19905"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss240.html" target="_top">MAPPING-DESTRUCTIVE-INTERACTION:EXPLICITLY-VAGUE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19912"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss241.html" target="_top">METACLASS-OF-SYSTEM-CLASS:UNSPECIFIED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19919"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss242.html" target="_top">METHOD-COMBINATION-ARGUMENTS:CLARIFY</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19926"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss243.html" target="_top">METHOD-INITFORM:FORBID-CALL-NEXT-METHOD</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19933"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss244.html" target="_top">MUFFLE-WARNING-CONDITION-ARGUMENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19940"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss245.html" target="_top">MULTIPLE-VALUE-SETQ-ORDER:LIKE-SETF-OF-VALUES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19947"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss246.html" target="_top">MULTIPLE-VALUES-LIMIT-ON-VARIABLES:UNDEFINED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19954"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss247.html" target="_top">NINTERSECTION-DESTRUCTION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19961"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss248.html" target="_top">NINTERSECTION-DESTRUCTION:REVERT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19968"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss249.html" target="_top">NOT-AND-NULL-RETURN-VALUE:X3J13-MAR-93</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19975"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss250.html" target="_top">NTH-VALUE:ADD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19982"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss251.html" target="_top">OPTIMIZE-DEBUG-INFO:NEW-QUALITY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e19989"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss252.html" target="_top">PACKAGE-CLUTTER:REDUCE</a></span></dt><dd><p>no</p></dd><dt><a name="d39e19996"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss253.html" target="_top">PACKAGE-DELETION:NEW-FUNCTION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20003"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss254.html" target="_top">PACKAGE-FUNCTION-CONSISTENCY:MORE-PERMISSIVE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20010"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss255.html" target="_top">PARSE-ERROR-STREAM:SPLIT-TYPES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20017"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss256.html" target="_top">PATHNAME-COMPONENT-CASE:KEYWORD-ARGUMENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20024"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss257.html" target="_top">PATHNAME-COMPONENT-VALUE:SPECIFY</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20031"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss258.html" target="_top">PATHNAME-HOST-PARSING:RECOGNIZE-LOGICAL-HOST-NAMES</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20038"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss259.html" target="_top">PATHNAME-LOGICAL:ADD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20045"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss260.html" target="_top">PATHNAME-PRINT-READ:SHARPSIGN-P</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20052"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss261.html" target="_top">PATHNAME-STREAM</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20059"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss262.html" target="_top">PATHNAME-STREAM:FILES-OR-SYNONYM</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20066"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss263.html" target="_top">PATHNAME-SUBDIRECTORY-LIST:NEW-REPRESENTATION</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20073"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss264.html" target="_top">PATHNAME-SYMBOL</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20080"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss265.html" target="_top">PATHNAME-SYNTAX-ERROR-TIME:EXPLICITLY-VAGUE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20087"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss266.html" target="_top">PATHNAME-UNSPECIFIC-COMPONENT:NEW-TOKEN</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20094"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss267.html" target="_top">PATHNAME-WILD:NEW-FUNCTIONS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20101"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss268.html" target="_top">PEEK-CHAR-READ-CHAR-ECHO:FIRST-READ-CHAR</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20108"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss269.html" target="_top">PLIST-DUPLICATES:ALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20115"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss270.html" target="_top">PRETTY-PRINT-INTERFACE</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20122"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss271.html" target="_top">PRINC-READABLY:X3J13-DEC-91</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20129"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss272.html" target="_top">PRINT-CASE-BEHAVIOR:CLARIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20136"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss273.html" target="_top">PRINT-CASE-PRINT-ESCAPE-INTERACTION:VERTICAL-BAR-RULE-NO-UPCASE</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20143"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss274.html" target="_top">PRINT-CIRCLE-SHARED:RESPECT-PRINT-CIRCLE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20150"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss275.html" target="_top">PRINT-CIRCLE-STRUCTURE:USER-FUNCTIONS-WORK</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20157"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss276.html" target="_top">PRINT-READABLY-BEHAVIOR:CLARIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20164"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss277.html" target="_top">PRINTER-WHITESPACE:JUST-ONE-SPACE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20171"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss278.html" target="_top">PROCLAIM-ETC-IN-COMPILE-FILE:NEW-MACRO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20178"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss279.html" target="_top">PUSH-EVALUATION-ORDER:FIRST-ITEM</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20185"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss280.html" target="_top">PUSH-EVALUATION-ORDER:ITEM-FIRST</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20192"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss281.html" target="_top">PUSHNEW-STORE-REQUIRED:UNSPECIFIED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20199"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss282.html" target="_top">QUOTE-SEMANTICS:NO-COPYING</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20206"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss283.html" target="_top">RANGE-OF-COUNT-KEYWORD:NIL-OR-INTEGER</a></span></dt><dd><p>yes, when <a href="#count-ansi"><tt>custom:*sequence-count-ansi*</tt></a> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>;
     otherwise negative <tt>:count</tt> values are not allowed.
     </p></dd><dt><a name="d39e20224"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss284.html" target="_top">RANGE-OF-START-AND-END-PARAMETERS:INTEGER-AND-INTEGER-NIL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20231"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss285.html" target="_top">READ-AND-WRITE-BYTES:NEW-FUNCTIONS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20238"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss286.html" target="_top">READ-CASE-SENSITIVITY:READTABLE-KEYWORDS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20245"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss287.html" target="_top">READ-MODIFY-WRITE-EVALUATION-ORDER:DELAYED-ACCESS-STORES</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20252"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss288.html" target="_top">READ-SUPPRESS-CONFUSING:GENERALIZE</a></span></dt><dd><p>yes, except that <a href="http://www.lisp.org/HyperSpec/Body/fun_read-delimited-list.html" target="_top"><tt>READ-DELIMITED-LIST</tt></a> still
     constructs a list</p></dd><dt><a name="d39e20263"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss289.html" target="_top">READER-ERROR:NEW-TYPE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20270"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss290.html" target="_top">REAL-NUMBER-TYPE:X3J13-MAR-89</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20277"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss291.html" target="_top">RECURSIVE-DEFTYPE:EXPLICITLY-VAGUE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20284"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss292.html" target="_top">REDUCE-ARGUMENT-EXTRACTION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20291"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss293.html" target="_top">REMF-DESTRUCTION-UNSPECIFIED:X3J13-MAR-89</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20298"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss294.html" target="_top">REQUIRE-PATHNAME-DEFAULTS-AGAIN:X3J13-DEC-91</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20305"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss295.html" target="_top">REQUIRE-PATHNAME-DEFAULTS-YET-AGAIN:RESTORE-ARGUMENT</a></span></dt><dd><p>yes, except that <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><tt>REQUIRE</tt></a> wants a pathname, not
     a list of pathnames</p></dd><dt><a name="d39e20316"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss296.html" target="_top">REQUIRE-PATHNAME-DEFAULTS:ELIMINATE</a></span></dt><dd><p>superseded by <a href="http://www.lisp.org/HyperSpec/Issues/iss294.html" target="_top">REQUIRE-PATHNAME-DEFAULTS-AGAIN:X3J13-DEC-91</a></p></dd><dt><a name="d39e20325"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss297.html" target="_top">REST-LIST-ALLOCATION:MAY-SHARE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20332"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss298.html" target="_top">RESULT-LISTS-SHARED:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20339"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss299.html" target="_top">RETURN-VALUES-UNSPECIFIED:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20346"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss300.html" target="_top">ROOM-DEFAULT-ARGUMENT:NEW-VALUE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20353"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss301.html" target="_top">SELF-MODIFYING-CODE:FORBID</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20360"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss302.html" target="_top">SEQUENCE-TYPE-LENGTH:MUST-MATCH</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20367"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss303.html" target="_top">SETF-APPLY-EXPANSION:IGNORE-EXPANDER</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20374"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss304.html" target="_top">SETF-FIND-CLASS:ALLOW-NIL</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20381"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss305.html" target="_top">SETF-FUNCTIONS-AGAIN:MINIMAL-CHANGES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20388"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss306.html" target="_top">SETF-GET-DEFAULT:EVALUATED-BUT-IGNORED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20395"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss307.html" target="_top">SETF-MACRO-EXPANSION:LAST</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20402"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss308.html" target="_top">SETF-METHOD-VS-SETF-METHOD:RENAME-OLD-TERMS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20409"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss309.html" target="_top">SETF-MULTIPLE-STORE-VARIABLES:ALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20416"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss310.html" target="_top">SETF-OF-APPLY:ONLY-AREF-AND-FRIENDS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20423"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss311.html" target="_top">SETF-OF-VALUES:ADD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20430"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss312.html" target="_top">SETF-SUB-METHODS:DELAYED-ACCESS-STORES</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20437"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss313.html" target="_top">SHADOW-ALREADY-PRESENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20444"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss314.html" target="_top">SHADOW-ALREADY-PRESENT:WORKS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20451"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss315.html" target="_top">SHARP-COMMA-CONFUSION:REMOVE</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20458"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss316.html" target="_top">SHARP-O-FOOBAR:CONSEQUENCES-UNDEFINED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20465"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss317.html" target="_top">SHARP-STAR-DELIMITER:NORMAL-DELIMITER</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20472"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss318.html" target="_top">SHARPSIGN-PLUS-MINUS-PACKAGE:KEYWORD</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20479"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss319.html" target="_top">SLOT-MISSING-VALUES:SPECIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20486"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss320.html" target="_top">SLOT-VALUE-METACLASSES:LESS-MINIMAL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20493"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss321.html" target="_top">SPECIAL-FORM-P-MISNOMER:RENAME</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20500"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss322.html" target="_top">SPECIAL-TYPE-SHADOWING:CLARIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20507"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss323.html" target="_top">STANDARD-INPUT-INITIAL-BINDING:DEFINED-CONTRACTS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20514"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss324.html" target="_top">STANDARD-REPERTOIRE-GRATUITOUS:RENAME</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20521"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss325.html" target="_top">STEP-ENVIRONMENT:CURRENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20528"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss326.html" target="_top">STEP-MINIMAL:PERMIT-PROGN</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20535"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss327.html" target="_top">STREAM-ACCESS:ADD-TYPES-ACCESSORS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20542"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss328.html" target="_top">STREAM-CAPABILITIES:INTERACTIVE-STREAM-P</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20549"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss329.html" target="_top">STRING-COERCION:MAKE-CONSISTENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20556"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss330.html" target="_top">STRING-OUTPUT-STREAM-BASHING:UNDEFINED</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20563"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss331.html" target="_top">STRUCTURE-READ-PRINT-SYNTAX:KEYWORDS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20570"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss332.html" target="_top">SUBSEQ-OUT-OF-BOUNDS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20577"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss333.html" target="_top">SUBSEQ-OUT-OF-BOUNDS:IS-AN-ERROR</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20584"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss334.html" target="_top">SUBSETTING-POSITION:NONE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20591"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss335.html" target="_top">SUBTYPEP-ENVIRONMENT:ADD-ARG</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20598"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss336.html" target="_top">SUBTYPEP-TOO-VAGUE:CLARIFY-MORE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20605"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss337.html" target="_top">SXHASH-DEFINITION:SIMILAR-FOR-SXHASH</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20612"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss338.html" target="_top">SYMBOL-MACROLET-DECLARE:ALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20619"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss339.html" target="_top">SYMBOL-MACROLET-SEMANTICS:SPECIAL-FORM</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20626"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss340.html" target="_top">SYMBOL-MACROLET-TYPE-DECLARATION:NO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20633"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss341.html" target="_top">SYMBOL-MACROS-AND-PROCLAIMED-SPECIALS:SIGNALS-AN-ERROR</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20640"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss342.html" target="_top">SYMBOL-PRINT-ESCAPE-BEHAVIOR:CLARIFY</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20647"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss343.html" target="_top">SYNTACTIC-ENVIRONMENT-ACCESS:RETRACTED-MAR91</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20654"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss344.html" target="_top">TAGBODY-TAG-EXPANSION:NO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20661"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss345.html" target="_top">TAILP-NIL:T</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20668"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss346.html" target="_top">TEST-NOT-IF-NOT:FLUSH-ALL</a></span></dt><dd><p>yes, but no warning</p></dd><dt><a name="d39e20675"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss347.html" target="_top">THE-AMBIGUITY:FOR-DECLARATION</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20682"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss348.html" target="_top">THE-VALUES:RETURN-NUMBER-RECEIVED</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20689"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss349.html" target="_top">TIME-ZONE-NON-INTEGER:ALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20696"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss350.html" target="_top">TYPE-DECLARATION-ABBREVIATION:ALLOW-ALL</a></span></dt><dd><p>no</p></dd><dt><a name="d39e20703"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss351.html" target="_top">TYPE-OF-AND-PREDEFINED-CLASSES:TYPE-OF-HANDLES-FLOATS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20710"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss352.html" target="_top">TYPE-OF-AND-PREDEFINED-CLASSES:UNIFY-AND-EXTEND</a></span></dt><dd><p>yes, except for class <a href="http://www.lisp.org/HyperSpec/Body/syscla_method-combination.html" target="_top"><tt>METHOD-COMBINATION</tt></a>
     </p></dd><dt><a name="d39e20721"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss353.html" target="_top">TYPE-OF-UNDERCONSTRAINED:ADD-CONSTRAINTS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20728"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss354.html" target="_top">TYPE-SPECIFIER-ABBREVIATION:X3J13-JUN90-GUESS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20735"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss355.html" target="_top">UNDEFINED-VARIABLES-AND-FUNCTIONS:COMPROMISE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20742"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss356.html" target="_top">UNINITIALIZED-ELEMENTS:CONSEQUENCES-UNDEFINED</a></span></dt><dd><p>yes, could add error checking
     </p></dd><dt><a name="d39e20749"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss357.html" target="_top">UNREAD-CHAR-AFTER-PEEK-CHAR:DONT-ALLOW</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20756"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss358.html" target="_top">UNSOLICITED-MESSAGES:NOT-TO-SYSTEM-USER-STREAMS</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20763"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss359.html" target="_top">VARIABLE-LIST-ASYMMETRY:SYMMETRIZE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20770"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss360.html" target="_top">WITH-ADDED-METHODS:DELETE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20777"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss361.html" target="_top">WITH-COMPILATION-UNIT:NEW-MACRO</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20784"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss362.html" target="_top">WITH-OPEN-FILE-DOES-NOT-EXIST:STREAM-IS-NIL</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20791"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss363.html" target="_top">WITH-OPEN-FILE-SETQ:EXPLICITLY-VAGUE</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20798"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss364.html" target="_top">WITH-OPEN-FILE-STREAM-EXTENT:DYNAMIC-EXTENT</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20805"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss365.html" target="_top">WITH-OUTPUT-TO-STRING-APPEND-STYLE:VECTOR-PUSH-EXTEND</a></span></dt><dd><p>yes</p></dd><dt><a name="d39e20812"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Issues/iss366.html" target="_top">WITH-STANDARD-IO-SYNTAX-READTABLE:X3J13-MAR-91</a></span></dt><dd><p>yes</p></dd></dl></div></div><div id="extensions" class="chapter"><div class="titlepage"><div><h2 class="title"><a name="extensions"></a>Chapter 29. Extensions</h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="#p-indep">Extensions-1: Platform independent Extensions</a></dt><dd><dl><dt> <a href="#image">Extensions-1.1. Saving an Image</a></dt><dt> <a href="#quit">Extensions-1.2. Quitting Lisp</a></dt><dt> <a href="#language">Extensions-1.3. The Language</a></dt><dt> <a href="#encoding">Extensions-1.4. Encodings</a></dt><dt> <a href="#clos-stream">Extensions-1.5. Defining new kinds of Streams</a></dt><dt> <a href="#weak">Extensions-1.6. Weak Pointers</a></dt><dt> <a href="#final">Extensions-1.7. Finalization</a></dt><dt> <a href="#prompt">Extensions-1.8. The Prompt</a></dt><dt> <a href="#ansi">Extensions-1.9. Maximum ANSI CL compliance</a></dt><dt> <a href="#macros3">Extensions-1.10. Additional Fancy Macros</a></dt><dt> <a href="#customize">Extensions-1.11. Customizing <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> behavior.</a></dt></dl></dd><dt> <a href="#platform">Extensions-2: Platform specific Extensions</a></dt><dd><dl><dt> <a href="#screen">Extensions-2.1. Random Screen Access</a></dt><dt> <a href="#modules">Extensions-2.2. External Modules</a></dt><dt> <a href="#dffi">Extensions-2.3. The Foreign Function Call Facility</a></dt><dt> <a href="#affi">Extensions-2.4. The Amiga Foreign Function Call Facility</a></dt><dt> <a href="#rexx">Extensions-2.5. ARexx</a></dt><dt> <a href="#socket">Extensions-2.6. Socket Streams</a></dt><dt> <a href="#syscalls">Extensions-2.7. System Calls</a></dt><dt> <a href="#quickstart">Extensions-2.8. Quickstarting delivery with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a></a></dt><dt> <a href="#app-dev">Extensions-2.9. Application delivery with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a></a></dt><dt> <a href="#shell">Extensions-2.10. Shell, Pipes and Printing</a></dt><dt> <a href="#dir-key">Extensions-2.11. Directory Access</a></dt><dt> <a href="#other">Extensions-2.12. Other</a></dt></dl></dd></dl></div><div class="section"><a name="p-indep"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="p-indep"></a>Extensions-1: Platform independent Extensions</h2></div></div><div class="section"><a name="image"></a><div class="titlepage"><div><h3 class="title"><a name="image"></a>Extensions-1.1. Saving an Image</h3></div></div><p>The function
  <tt>(<tt>ext:saveinitmem</tt>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> (<i><tt>filename</tt></i> "lispinit.mem")
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :quiet :init-function)</tt>
 saves the running <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>'s memory to a file.  If the
 <tt>:quiet</tt> argument is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, the startup banner
 and the good-bye message will be suppressed.  The
 <tt>:init-function</tt> argument specifies a function that
 will be executed at startup of the saved image.  The starting package
 of the new image is the one in which you were when you invoked
 <tt>ext:saveinitmem</tt>.</p></div><div class="section"><a name="quit"></a><div class="titlepage"><div><h3 class="title"><a name="quit"></a>Extensions-1.2. Quitting Lisp</h3></div></div><p>The functions <tt>(<tt>ext:exit</tt>
 [<i><tt>errorp</tt></i>])</tt>, <tt>(<tt>ext:quit</tt>
 [<i><tt>errorp</tt></i>])</tt> and <tt>(<tt>ext:bye</tt>
 [<i><tt>errorp</tt></i>])</tt> - all synonymous -
 terminate <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.  If <i><tt>errorp</tt></i> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>,
 <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> aborts with error status, i.e., the environment is informed
 that the <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> session did not succeed.</p></div><div class="section"><a name="language"></a><div class="titlepage"><div><h3 class="title"><a name="language"></a>Extensions-1.3. The Language</h3></div></div><p>The language <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> uses to communicate with the user can be
 either <tt>ENGLISH</tt> or <tt>DEUTSCH</tt>
 (i.e., German) or <tt>FRANCAIS</tt> (i.e., French) or
 <tt>ESPA&Ntilde;OL</tt> (i.e.  Spanish).  More languages
 can be defined through the macro <i><tt>i18n:deflanguage</tt></i>:
 <tt>(<tt>i18n:deflanguage</tt>
 <i><tt>lang</tt></i>)</tt>.  For such an additional
 language to take effect, you must install the corresponding message
 catalog, or translate the messages yourself, using <a href="http://www.gnu.org" target="_top">GNU</a> gettext and
 Emacs po-mode.</p><p>The macros <tt>ENGLISH</tt>,
 <tt>DEUTSCH</tt>, <tt>FRANCAIS</tt> produce
 strings that depends on the language: <tt>(ENGLISH
 <i><tt>english-string</tt></i> DEUTSCH
 <i><tt>deutsch-string</tt></i> FRANCAIS
 <i><tt>francais-string</tt></i>)</tt> -
 and all permutations of this - evaluates all of
 <i><tt>english-string</tt></i>,
 <i><tt>deutsch-string</tt></i>,
 <i><tt>francais-string</tt></i>
 in no particular order and returns the evaluation result corresponding
 to the user language, be it among these three or not.</p><p>This works only for strings.  For arbitrary language-dependent
 Lisp objects, you define one through the macro <i><tt>i18n:definternational</tt></i>:
 <tt>(<tt>i18n:definternational</tt>
 <i><tt>symbol</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
 (<i><tt>default-language</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>))</tt> and add
 language-dependent values through the macro <i><tt>i18n:deflocalized</tt></i>:
 <tt>(<tt>i18n:deflocalized</tt>
 <i><tt>symbol</tt></i> <i><tt>language</tt></i>
 <i><tt>value-form</tt></i>)</tt></p><p>(One such form for each language.  Languages without an assigned
 value will be treated like the default-language.)  You can then access
 the localized value by calling <i><tt>i18n:localized</tt></i>: <tt>(<tt>i18n:localized</tt>
 <i><tt>symbol</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
 <i><tt>language</tt></i>)</tt></p></div><div class="section"><a name="encoding"></a><div class="titlepage"><div><h3 class="title"><a name="encoding"></a>Extensions-1.4. Encodings</h3></div></div><div class="section"><a name="d39e21052"></a><div class="titlepage"><div><h4 class="title"><a name="d39e21052"></a>Introduction</h4></div></div><p>An <i>encoding</i> describes the correspondence
 between characters and raw bytes during input/output via streams with
 element-type <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>.</p><p>An encoding is an object composed of the following facets:
<div class="itemizedlist"><ul><li><a name="d39e21067"></a><p>A <a href="#charset"><i>character
   set</i></a>.  This denotes both the set of characters that
   can be represented and passed through the I/O channel, and the way
   these characters translate into raw bytes.  In this context, for
   example, "UTF-8" and "UCS-4" are considered different, although they
   can represent the same set of characters.</p></li><li><a name="d39e21074"></a><p>A <a href="#newline"><i>line terminator
   mode</i></a>.  This denotes the way newline characters are
   represented.</p></li></ul></div></p></div><div class="section"><a name="charset"></a><div class="titlepage"><div><h4 class="title"><a name="charset"></a>Character Sets</h4></div></div><div class="variablelist"><dl><dt><a name="d39e21086"></a><span class="term">Platform dependent: Only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built
  <i>without</i> compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><p>Only one character set is understood: the platform's
 native (8-bit) character set.  See <a href="#characters">Chapter
 13</a>.</p></dd><dt><a name="d39e21107"></a><span class="term">Platform dependent: Only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built
  <i>with</i> compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><p><a name="d39e21121"></a>The following character sets are supported, as values
 of the corresponding (constant) symbol in the &#8220;CHARSET&#8221;
 package:
<div class="itemizedlist"><ul><li><a name="d39e21128"></a><p><tt>UCS-2</tt> = <tt>UNICODE-16</tt>
      = <tt>UNICODE-16-BIG-ENDIAN</tt>,
      the 16-bit Unicode character set. Every character is represented as
      two bytes.</p></li><li><a name="d39e21139"></a><p><tt>UNICODE-16-LITTLE-ENDIAN</tt>
    </p></li><li><a name="d39e21144"></a><p><tt>UCS-4</tt> = <tt>UNICODE-32</tt>
      = <tt>UNICODE-32-BIG-ENDIAN</tt>,
      the 32-bit Unicode character set. Every character is represented as
      four bytes. Note that <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> understands only those characters which
      are already contained in the 16-bit Unicode character set.
    </p></li><li><a name="d39e21159"></a><p><tt>UNICODE-32-LITTLE-ENDIAN</tt>
    </p></li><li><a name="d39e21164"></a><p><tt>UTF-8</tt>,
      the 16-bit Unicode character set. Every character is represented as
      one to three bytes. ASCII characters represent themselves and need
      one byte per character. Most Latin/Greek/Cyrillic/Hebrew characters
      need two bytes per character, and the remaining characters need three
      bytes per character. This is therefore, in general, the most
      space-efficient encoding of all of Unicode-16.
    </p></li><li><a name="d39e21170"></a><p><tt>UTF-16</tt>,
      the 16-bit Unicode character set. Every character is represented as
      two bytes.
    </p></li><li><a name="d39e21175"></a><p><tt>UTF-7</tt>,
      the 16-bit Unicode character set. This is a stateful 7-bit encoding.
      Not all ASCII characters represent themselves.
    </p></li><li><a name="d39e21181"></a><p><tt>JAVA</tt>,
      the 16-bit Unicode character set.  ASCII characters represent themselves
      and need one byte per character.  All other characters are represented
      by <tt>\u<i><tt>nnnn</tt></i></tt> sequences
      (<i><tt>nnnn</tt></i> a hexadecimal number)
      and need 6 bytes per character. While this encoding is very comfortable
      for editing Unicode files using only ASCII aware tools and editors, it
      cannot faithfully represent all Unicode text. Only text which does not
      contain <tt>\u</tt> (backslash followed by lowercase
      Latin u) can be faithfully represented by this encoding.
    </p></li><li><a name="d39e21197"></a><p><tt>ASCII</tt>,
      the well-known US-centric 7-bit character set (American Standard
      Code for Information Interchange).
    </p></li><li><a name="d39e21202"></a><p><tt>ISO-8859-1</tt>,
      an extension of the ASCII character set, suitable for the
      Afrikaans, Albanian, Basque, Breton, Catalan, Cornish, Danish, Dutch,
      English, Faeroese, Finnish, French, Frisian, Galician, German,
      Greenlandic, Icelandic, Irish, Italian, Latin, Luxemburgish, Norwegian,
      Portuguese, Raeto-Romanic, Scottish, Spanish, and Swedish languages.
    </p></li><li><a name="d39e21207"></a><p><tt>ISO-8859-2</tt>,
      an extension of the ASCII character set, suitable for the Croatian,
      Czech, German, Hungarian, Polish, Slovak, Slovenian, and Sorbian
      languages.
    </p></li><li><a name="d39e21212"></a><p><tt>ISO-8859-3</tt>,
      an extension of the ASCII character set, suitable for the
      Esperanto and Maltese languages.
    </p></li><li><a name="d39e21217"></a><p><tt>ISO-8859-4</tt>,
      an extension of the ASCII character set, suitable for the
      Estonian, Latvian, Lithuanian and Sami (Lappish) languages.
    </p></li><li><a name="d39e21222"></a><p><tt>ISO-8859-5</tt>,
      an extension of the ASCII character set, suitable for the Bulgarian,
      Byelorussian, Macedonian, Russian, Serbian, and Ukrainian languages.
    </p></li><li><a name="d39e21227"></a><p><tt>ISO-8859-6</tt>,
      suitable for the Arabic language.
    </p></li><li><a name="d39e21232"></a><p><tt>ISO-8859-7</tt>,
      an extension of the ASCII character set, suitable for the Greek
      language.
    </p></li><li><a name="d39e21237"></a><p><tt>ISO-8859-8</tt>,
      an extension of the ASCII character set, suitable for the Hebrew
      language (without punctuation).
    </p></li><li><a name="d39e21242"></a><p><tt>ISO-8859-9</tt>,
      an extension of the ASCII character set, suitable for the Turkish
      language.
    </p></li><li><a name="d39e21247"></a><p><tt>ISO-8859-10</tt>,
      an extension of the ASCII character set, suitable for the Estonian,
      Icelandic, Inuit (Greenlandic), Latvian, Lithuanian, and Sami (Lappish)
      languages.
    </p></li><li><a name="d39e21252"></a><p><tt>ISO-8859-13</tt>,
      an extension of the ASCII character set, suitable for the Estonian,
      Latvian, Lithuanian, Polish and Sami (Lappish) languages.
    </p></li><li><a name="d39e21257"></a><p><tt>ISO-8859-14</tt>,
      an extension of the ASCII character set, suitable for Irish Gaelic,
      Manx Gaelic, Scottish Gaelic, and Welsh languages.
    </p></li><li><a name="d39e21262"></a><p><tt>ISO-8859-15</tt>,
      an extension of the ASCII character set, suitable for the ISO-8859-1
      languages, with improvements for French, Finnish and the Euro.
    </p></li><li><a name="d39e21267"></a><p><tt>ISO-8859-16</tt>
      an extension of the ASCII character set, suitable for the Rumanian
      language.
    </p></li><li><a name="d39e21272"></a><p><tt>KOI8-R</tt>,
      an extension of the ASCII character set,
      a popular character set for the Russian language.
    </p></li><li><a name="d39e21277"></a><p><tt>KOI8-U</tt>,
      an extension of the ASCII character set,
      a popular character set for the Ukrainian language.
    </p></li><li><a name="d39e21283"></a><p><tt>KOI8-RU</tt>,
      an extension of the ASCII character set, suitable for Russian
      (this is the standard Russian encoding on the Internet)
    </p></li><li><a name="d39e21289"></a><p><tt>JIS_X0201</tt>,
      a character set for the Japanese language.
    </p></li><li><a name="d39e21294"></a><p><tt>MAC-ARABIC</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21299"></a><p><tt>MAC-CENTRAL-EUROPE</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21304"></a><p><tt>MAC-CROATIAN</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21309"></a><p><tt>MAC-CYRILLIC</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21314"></a><p><tt>MAC-DINGBAT</tt>,
      a platform specific character set.
    </p></li><li><a name="d39e21319"></a><p><tt>MAC-GREEK</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21324"></a><p><tt>MAC-HEBREW</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21329"></a><p><tt>MAC-ICELAND</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21334"></a><p><tt>MAC-ROMAN</tt>
   = <tt>MACINTOSH</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21342"></a><p><tt>MAC-ROMANIA</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21347"></a><p><tt>MAC-SYMBOL</tt>,
      a platform specific character set.
    </p></li><li><a name="d39e21352"></a><p><tt>MAC-THAI</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21357"></a><p><tt>MAC-TURKISH</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21362"></a><p><tt>MAC-UKRAINE</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21367"></a><p><tt>CP437</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21372"></a><p><tt>CP437-IBM</tt>,
     an IBM variant of <tt>CP437</tt>.
    </p></li><li><a name="d39e21380"></a><p><tt>CP737</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Greek language.
    </p></li><li><a name="d39e21385"></a><p><tt>CP775</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for some Baltic languages.
    </p></li><li><a name="d39e21390"></a><p><tt>CP850</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21395"></a><p><tt>CP852</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21400"></a><p><tt>CP852-IBM</tt>,
   an IBM variant of <tt>CP852</tt>.
    </p></li><li><a name="d39e21408"></a><p><tt>CP855</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Russian language.
    </p></li><li><a name="d39e21413"></a><p><tt>CP857</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Turkish language.
    </p></li><li><a name="d39e21418"></a><p><tt>CP860</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Portuguese language.
    </p></li><li><a name="d39e21423"></a><p><tt>CP860-IBM</tt>,
   an IBM variant of <tt>CP860</tt>.
    </p></li><li><a name="d39e21431"></a><p><tt>CP861</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Icelandic language.
    </p></li><li><a name="d39e21436"></a><p><tt>CP861-IBM</tt>,
   an IBM variant of <tt>CP861</tt>.
    </p></li><li><a name="d39e21444"></a><p><tt>CP862</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Hebrew language.
    </p></li><li><a name="d39e21449"></a><p><tt>CP862-IBM</tt>,
   an IBM variant of <tt>CP862</tt>.
    </p></li><li><a name="d39e21457"></a><p><tt>CP863</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21462"></a><p><tt>CP863-IBM</tt>,
   an IBM variant of <tt>CP863</tt>.
    </p></li><li><a name="d39e21470"></a><p><tt>CP864</tt>, a DOS oldie,
      meant to be suitable for the Arabic language.
    </p></li><li><a name="d39e21475"></a><p><tt>CP864-IBM</tt>,
   an IBM variant of <tt>CP864</tt>.
    </p></li><li><a name="d39e21483"></a><p><tt>CP865</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for some Nordic languages.
    </p></li><li><a name="d39e21488"></a><p><tt>CP865-IBM</tt>,
   an IBM variant of <tt>CP865</tt>.
    </p></li><li><a name="d39e21496"></a><p><tt>CP866</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Russian language.
    </p></li><li><a name="d39e21501"></a><p><tt>CP869</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Greek language.
    </p></li><li><a name="d39e21506"></a><p><tt>CP869-IBM</tt>,
   an IBM variant of <tt>CP869</tt>.
    </p></li><li><a name="d39e21514"></a><p><tt>CP874</tt>, a DOS oldie,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Thai language.
    </p></li><li><a name="d39e21519"></a><p><tt>CP874-IBM</tt>,
   an IBM variant of <tt>CP874</tt>.
    </p></li><li><a name="d39e21527"></a><p><tt>WINDOWS-1250</tt>
   = <tt>CP1250</tt>,
      a platform specific extension of the ASCII character set,
      heavily incompatible with ISO-8859-2.
    </p></li><li><a name="d39e21535"></a><p><tt>WINDOWS-1251</tt>
   = <tt>CP1251</tt>,
      a platform specific extension of the ASCII character set,
      heavily incompatible with ISO-8859-5,
      meant to be suitable for the Russian language.
    </p></li><li><a name="d39e21543"></a><p><tt>WINDOWS-1252</tt>
   = <tt>CP1252</tt>,
      a platform specific extension of the ISO-8859-1 character set.
    </p></li><li><a name="d39e21551"></a><p><tt>WINDOWS-1253</tt>
   = <tt>CP1253</tt>,
      a platform specific extension of the ASCII character set,
      gratuitously incompatible with ISO-8859-7,
      meant to be suitable for the Greek language.
    </p></li><li><a name="d39e21559"></a><p><tt>WINDOWS-1254</tt>
   = <tt>CP1254</tt>,
      a platform specific extension of the ISO-8859-9 character set.
    </p></li><li><a name="d39e21567"></a><p><tt>WINDOWS-1255</tt>
   = <tt>CP1255</tt>,
      a platform specific extension of the ASCII character set,
      gratuitously incompatible with ISO-8859-8,
      suitable for the Hebrew language.
    </p></li><li><a name="d39e21575"></a><p><tt>WINDOWS-1256</tt>
   = <tt>CP1256</tt>,
      a platform specific extension of the ASCII character set,
      meant to be suitable for the Arabic language.
    </p></li><li><a name="d39e21583"></a><p><tt>WINDOWS-1257</tt>
   = <tt>CP1257</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21591"></a><p><tt>WINDOWS-1258</tt>
   = <tt>CP1258</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21599"></a><p><tt>HP-ROMAN8</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21604"></a><p><tt>NEXTSTEP</tt>,
      a platform specific extension of the ASCII character set.
    </p></li><li><a name="d39e21610"></a><p><tt>EUC-JP</tt>,
      a multibyte character set for the Japanese language.
    </p></li><li><a name="d39e21615"></a><p><tt>SHIFT-JIS</tt>,
      a multibyte character set for the Japanese language.
    </p></li><li><a name="d39e21620"></a><p><tt>CP932</tt>,
      a Microsoft variant of <tt>SHIFT-JIS</tt>.
    </p></li><li><a name="d39e21628"></a><p><tt>ISO-2022-JP</tt>,
      a stateful 7-bit multibyte character set for the Japanese language.
    </p></li><li><a name="d39e21633"></a><p><tt>ISO-2022-JP-2</tt>,
      a stateful 7-bit multibyte character set for the Japanese language.
    </p></li><li><a name="d39e21638"></a><p><tt>ISO-2022-JP-1</tt>,
      a stateful 7-bit multibyte character set for the Japanese language.
    </p></li><li><a name="d39e21643"></a><p><tt>EUC-CN</tt>,
      a multibyte character set for simplified Chinese.
    </p></li><li><a name="d39e21648"></a><p><tt>HZ</tt>,
      a stateful 7-bit multibyte character set for simplified Chinese.
    </p></li><li><a name="d39e21653"></a><p><tt>GBK</tt>,
      a multibyte character set for Chinese,
    </p></li><li><a name="d39e21658"></a><p><tt>CP936</tt>,
      a Microsoft variant of <tt>GBK</tt>.
    </p></li><li><a name="d39e21666"></a><p><tt>GB18030</tt>,
      a multibyte character set for Chinese,
    </p></li><li><a name="d39e21671"></a><p><tt>EUC-TW</tt>,
      a multibyte character set for traditional Chinese.
    </p></li><li><a name="d39e21676"></a><p><tt>BIG5</tt>,
      a multibyte character set for traditional Chinese.
    </p></li><li><a name="d39e21681"></a><p><tt>CP950</tt>,
      a Microsoft variant of <tt>BIG5</tt>.
    </p></li><li><a name="d39e21689"></a><p><tt>BIG5HKSCS</tt>,
      a multibyte character set for traditional Chinese.
    </p></li><li><a name="d39e21694"></a><p><tt>ISO-2022-CN</tt>,
      a stateful 7-bit multibyte character set for Chinese.
    </p></li><li><a name="d39e21699"></a><p><tt>ISO-2022-CN-EXT</tt>,
      a stateful 7-bit multibyte character set for Chinese.
    </p></li><li><a name="d39e21704"></a><p><tt>EUC-KR</tt>,
      a multibyte character set for Korean.
    </p></li><li><a name="d39e21709"></a><p><tt>CP949</tt>,
      a Microsoft variant of <tt>EUC-KR</tt>.
    </p></li><li><a name="d39e21717"></a><p><tt>ISO-2022-KR</tt>,
      a stateful 7-bit multibyte character set for Korean.
    </p></li><li><a name="d39e21722"></a><p><tt>ARMSCII-8</tt>,
      an extension of the ASCII character set, suitable for Armenian.
    </p></li><li><a name="d39e21727"></a><p><tt>GEORGIAN-ACADEMY</tt>,
      an extension of the ASCII character set, suitable for Georgian.
    </p></li><li><a name="d39e21732"></a><p><tt>GEORGIAN-PS</tt>,
      an extension of the ASCII character set, suitable for Georgian.
    </p></li><li><a name="d39e21737"></a><p><tt>TIS-620</tt>,
      an extension of the ASCII character set, suitable for Thai.
    </p></li><li><a name="d39e21742"></a><p><tt>MULELAO-1</tt>,
      an extension of the ASCII character set, suitable for Laotian.
    </p></li><li><a name="d39e21747"></a><p><tt>CP1133</tt>,
      an extension of the ASCII character set, suitable for Laotian.
    </p></li><li><a name="d39e21752"></a><p><tt>VISCII</tt>,
      an extension of the ASCII character set, suitable for Vietnamese.
    </p></li><li><a name="d39e21757"></a><p><tt>TCVN</tt>,
      an extension of the ASCII character set, suitable for Vietnamese.
    </p></li></ul></div>


<div class="variablelist"><dl><dt><a name="iconv"></a><span class="term">
   <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> comes with it own implementation of
   <tt>iconv()</tt>, so the following is more or less
   obsolete now.
    (Platform dependent: Only on <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> systems having the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
    library function <i>iconv()</i>).</span></dt><dd><p>The character sets provided by the library function
 iconv() can also be used as encodings.  To create such an encoding,
 call <tt>make-encoding</tt> with the character set name (a
 string) as <tt>:charset</tt> argument.</p><p>These encodings are not assigned to global variables, since
 there is no portable way to get the list of all character sets
 supported by <tt>iconv()</tt>.</p><p>On Linux and <a href="http://www.gnu.org" target="_top">GNU</a> systems, you get this list by calling the
 <i>program</i> iconv: <b>iconv --list</b>.
 <a href="http://www.gnu.org" target="_top">GNU</a> glibc-2.1 supports in particular, among others:</p><div class="itemizedlist"><ul><li><a name="d39e21817"></a><p><tt>EUC-JP</tt> and
  <tt>SHIFT-JIS</tt>, for the Japanese language,</p></li><li><a name="d39e21825"></a><p><tt>EUC-CN</tt>,
  <tt>EUC-TW</tt>, <tt>BIG5</tt> and
  <tt>GB</tt>, for the Chinese language,</p></li><li><a name="d39e21839"></a><p><tt>EUC-KR</tt> and
  <tt>ISO-2022-KR</tt>, for the Korean language.</p></li></ul></div><p>HP-UX systems support in particular, among others:</p><div class="itemizedlist"><ul><li><a name="d39e21850"></a><p><tt>eucJP</tt> and
  <tt>sjis</tt>, for the Japanese language,</p></li><li><a name="d39e21858"></a><p><tt>eucTW</tt>, <tt>big5</tt>
  and <tt>chinese-gb</tt>, for the Chinese
  language,</p></li><li><a name="d39e21869"></a><p><tt>eucKR</tt>, for the Korean
  language.</p></li></ul></div><p>AIX 4.2 systems support in particular, among others:</p><div class="itemizedlist"><ul><li><a name="d39e21877"></a><p><tt>IBM-eucJP</tt>, for the Japanese
  language,</p></li><li><a name="d39e21882"></a><p><tt>IBM-eucTW</tt>, for the Chinese
  language,</p></li><li><a name="d39e21887"></a><p><tt>IBM-eucKR</tt>, for the Korean
  language.</p></li></ul></div><p>On Solaris systems, you can forget about iconv-based encodings,
 because all the possible encodings are already built-in.  (Solaris
 knows about Japanese, Chinese and Korean encodings, but can convert
 them only to/from UTF-8, not to/from UCS-2, which is <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>'s internal
 encoding.)</p><p>On IRIX systems, you can forget about iconv-based encodings as
 well, because all the interesting possible encodings are already
 built-in.</p><p>On OSF/1 systems, iconv-based encodings are not usable at
 all.</p><p>When an encoding is available as a built-in (see the list
 above) and through iconv(), the built-in is preferred, because it is
 more efficient and available across platforms.</p></dd></dl></div>

</p></dd></dl></div></div><div class="section"><a name="newline"></a><div class="titlepage"><div><h4 class="title"><a name="newline"></a>Line Terminators</h4></div></div><p><b>The line terminator mode can be one of the
 following three keywords</b></p><p><b>keyword: </b><tt>:unix</tt></p><p><b>newline representation: </b>Newline is represented by the ASCII LF
     character (U000A).</p><p><b>keyword: </b><tt>:mac</tt></p><p><b>newline representation: </b>Newline is represented by the ASCII CR
     character (U000D).</p><p><b>keyword: </b><tt>:dos</tt></p><p><b>newline representation: </b>Newline is represented by ASCII CR followed
     by ASCII LF.</p><p>Windows programs typically use the <tt>:dos</tt> line
 terminator, sometimes they also accept <tt>:unix</tt> line
 terminators or produce <tt>:mac</tt> line
 terminators.</p><p>The line terminator mode is relevant only for output (writing to a
 <a href="#open">file</a>/<a href="#pipe">pipe</a>/<a href="#socket">socket</a>).  During input, all three kinds of line
 terminators are recognized.  If you do not want this, i.e., if you
 really want to distinguish LF, CR
 and CR/LF, you have to resort to
 binary input (function <a href="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html" target="_top"><tt>READ-BYTE</tt></a>).</p><p>See also <a href="#clhs-newline">13.1.8 Treatment of Newline
 during Input and Output</a>.</p></div><div class="section"><a name="d39e21997"></a><div class="titlepage"><div><h4 class="title"><a name="d39e21997"></a>ext:make-encoding</h4></div></div><p>The function
  <tt>(<tt>ext:make-encoding</tt>
     <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :charset :line-terminator :input-error-action
     :output-error-action)</tt>
 returns an encoding. The <tt>:charset</tt> argument may be
 an encoding, a string, or <tt>:default</tt>.  The possible
 values for the <tt>:line-terminator</tt> argument are the
 keywords <tt>:unix</tt>, <tt>:mac</tt>,
 <tt>:dos</tt>.</p><p>The <tt>:input-error-action</tt> specifies what
 happens when an invalid byte sequence is encountered while converting
 bytes to characters.  Its value can be <tt>:error</tt>, <tt>:ignore</tt> or a
 character to be used instead.  The Unicode character
 #\uFFFD is typically used to indicate an error in the
 input sequence.</p><p>The <tt>:output-error-action</tt> specifies what
 happens when an invalid character is encountered while converting
 characters to bytes.  Its value can be <tt>:error</tt>, <tt>:ignore</tt>, a byte to
 be used instead, or a character to be used instead.  The Unicode
 character #\uFFFD can be used here only if it is
 encodable in the character set.</p><p>Encodings are types.  As such, they represent the set of
 characters encodable in the character set.  In this context, the way
 characters are translated into raw bytes is ignored, and the line
 terminator mode is ignored as well.  <a href="http://www.lisp.org/HyperSpec/Body/fun_typep.html" target="_top"><tt>TYPEP</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_subtypep.html" target="_top"><tt>SUBTYPEP</tt></a> can be used
 on encodings.</p><p>Besides every <a href="#open">file</a>/<a href="#pipe">pipe</a>/<a href="#socket">socket</a> stream containing an encoding,
 the following <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> places contain global encodings:</p><p><a name="def-file-enc"></a><i><tt>custom:*default-file-encoding*</tt></i>
 is the encoding used for new <a href="#open">file</a>/<a href="#pipe">pipe</a>/<a href="#socket">socket</a> streams, when no
 <a href="#extfmt"><tt>:external-format</tt></a> argument was specified.</p><div class="variablelist"><dl><dt><a name="d39e22103"></a><span class="term">Platform dependent: Only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built
  <i>with</i> compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><div class="variablelist"><dl><dt><a name="d39e22119"></a><span class="term"><tt>custom:*pathname-encoding*</tt></span></dt><dd><p>is the encoding used for pathnames in the file
 system. Normally, this is a 1:1 encoding.  Its <a href="#newline">line terminator</a> mode is ignored.
 </p></dd><dt><a name="d39e22129"></a><span class="term"><tt>custom:*terminal-encoding*</tt></span></dt><dd><p>is the encoding used for communication with the
  terminal, in particular by <a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><tt>*TERMINAL-IO*</tt></a>.
 </p></dd><dt><a name="d39e22140"></a><span class="term"><tt>custom:*misc-encoding*</tt></span></dt><dd><p>is the encoding used for access to environment
 variables, command line options, and the like.
 Its <a href="#newline">line terminator</a> mode is ignored.
 </p></dd></dl></div></dd></dl></div></div><div class="section"><a name="d39e22151"></a><div class="titlepage"><div><h4 class="title"><a name="d39e22151"></a>Converting between strings and byte vectors</h4></div></div><p>Encodings can also be used to convert directly between strings and
their corresponding byte vector representation according to that encoding.
</p><div class="variablelist"><dl><dt><a name="d39e22157"></a><span class="term"><tt>
 (<tt>ext:convert-string-from-bytes</tt>
  <i><tt>byte-vector</tt></i> <i><tt>encoding</tt></i>
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :start :end)</tt></span></dt><dd><p>converts the subsequence of
  <i><tt>byte-vector</tt></i> from <i><tt>start</tt></i>
  to <i><tt>end</tt></i> to a string, according to the given
  <i><tt>encoding</tt></i>, and returns the resulting string.
  </p></dd><dt><a name="d39e22189"></a><span class="term"><tt>
 (<tt>ext:convert-string-to-bytes</tt>
  <i><tt>string</tt></i> <i><tt>encoding</tt></i>
  <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :start :end)</tt></span></dt><dd><p>converts the subsequence of
  <i><tt>string</tt></i> from <i><tt>start</tt></i>
  to <i><tt>end</tt></i> to a vector of
  <tt>(unsigned-byte 8)</tt>, according to the given
  <i><tt>encoding</tt></i>, and returns the resulting byte vector.
  </p></dd></dl></div></div></div><div class="section"><a name="clos-stream"></a><div class="titlepage"><div><h3 class="title"><a name="clos-stream"></a>Extensions-1.5. Defining new kinds of Streams</h3></div></div><p>Two mechanisms are supported for creating new streams with
user-defined behavior:
<div class="itemizedlist"><ul><li><a name="d39e22230"></a><p>You can create a new subclass of
    <tt>gray:fundamental-stream</tt> and define methods for
    the elementary stream operations on it.  These generic functions all
    have a name starting with the prefix "stream-".</p></li><li><a name="d39e22236"></a><p>You can create a new subclass of
    <tt>gstream:generic-stream-controller</tt> and define
    methods for the elementary stream operations on it.  These generic
    functions all have a name starting with the prefix
    "generic-stream-".  The stream itself is a different object, created
    using the function <tt>gstream:make-generic-stream</tt>.
    </p></li></ul></div></p><p>The <tt>fundamental-stream</tt> API is based on the
 <a href="ftp://parcftp.xerox.com/pub/cl/cleanup/mail/stream-definition-by-user.mail" target="_top">STREAM-DEFINITION-BY-USER:GENERIC-FUNCTIONS</a> proposal by David N. Gray and is supported by most <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a>
 implementations currently in use.
 The <tt>generic-stream-controller</tt>
 API is <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> specific and is now obsolete.</p><div class="section"><a name="gray"></a><div class="titlepage"><div><h4 class="title"><a name="gray"></a>Gray streams</h4></div></div><p>This interface permits the definition of new classes of streams,
and programming their behavior by defining methods for the elementary
stream operations.  It is based on the proposal <a href="ftp://parcftp.xerox.com/pub/cl/cleanup/mail/stream-definition-by-user.mail" target="_top">STREAM-DEFINITION-BY-USER:GENERIC-FUNCTIONS</a> of David
N. Gray to X3J13.</p><p>All symbols defined by this interface, starting with the prefix
 "fundamental-" or "stream-", are exported from the package
 <a href="#gray">&#8220;GRAY&#8221;</a> and re-exported from <a href="#ext-pac">&#8220;EXT&#8221;</a>.</p><div class="variablelist"><p><b>Defined classes</b></p><dl><dt><a name="d39e22285"></a><span class="term"><tt>gray:fundamental-stream</tt></span></dt><dd><p>This is a superclass of all user-defined streams.
   It is a subclass of <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><tt>STREAM</tt></a> and of <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><tt>STANDARD-OBJECT</tt></a>.
   Its metaclass is <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><tt>STANDARD-CLASS</tt></a>.</p></dd><dt><a name="d39e22304"></a><span class="term"><tt>gray:fundamental-input-stream</tt></span></dt><dd><p>This is a superclass of all user-defined input streams.
   It is a subclass of <tt>gray:fundamental-stream</tt>.
   The built-in function <a href="http://www.lisp.org/HyperSpec/Body/fun_input-str_put-stream-p.html" target="_top"><tt>INPUT-STREAM-P</tt></a> returns true on instances of
   this class.  This means that when you define a new stream class
   capable of doing input, you have to make it a subclass of
   <tt>gray:fundamental-input-stream</tt>.
  </p></dd><dt><a name="d39e22321"></a><span class="term"><tt>gray:fundamental-output-stream</tt></span></dt><dd><p>This is a superclass of all user-defined output streams.
   It is a subclass of <tt>gray:fundamental-stream</tt>.
   The built-in function <a href="http://www.lisp.org/HyperSpec/Body/fun_input-str_put-stream-p.html" target="_top"><tt>OUTPUT-STREAM-P</tt></a> returns true on instances of
   this class.  This means that when you define a new stream class
   capable of doing output, you have to make it a subclass of
   <tt>gray:fundamental-output-stream</tt>.
  </p></dd><dt><a name="d39e22338"></a><span class="term"><tt>gray:fundamental-character-stream</tt></span></dt><dd><p>This is a superclass of all user-defined streams
   whose element-type is <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>.  It is a subclass of
   <tt>gray:fundamental-stream</tt>.  It defines a method on
   <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a> that returns <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>.
  </p></dd><dt><a name="d39e22360"></a><span class="term"><tt>gray:fundamental-binary-stream</tt></span></dt><dd><p>This is a superclass of all user-defined streams
   whose element-type is a subtype of <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a>.  It is a subclass
   of <tt>gray:fundamental-stream</tt>.  When you define a
   subclass of <tt>gray:fundamental-binary-stream</tt>,
   you have to provide a method on <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a>.
  </p></dd><dt><a name="d39e22381"></a><span class="term"><tt>gray:fundamental-character-input-stream</tt></span></dt><dd><p>This is a convenience class inheriting from both
   <tt>gray:fundamental-character-stream</tt> and
   <tt>gray:fundamental-input-stream</tt>.
  </p></dd><dt><a name="d39e22394"></a><span class="term"><tt>gray:fundamental-character-output-stream</tt></span></dt><dd><p>This is a convenience class inheriting from both
   <tt>gray:fundamental-character-stream</tt> and
   <tt>gray:fundamental-output-stream</tt>.
  </p></dd><dt><a name="d39e22407"></a><span class="term"><tt>gray:fundamental-binary-input-stream</tt></span></dt><dd><p>This is a convenience class inheriting from both
   <tt>gray:fundamental-binary-stream</tt> and
   <tt>gray:fundamental-input-stream</tt>.
  </p></dd><dt><a name="d39e22420"></a><span class="term"><tt>gray:fundamental-binary-output-stream</tt></span></dt><dd><p>This is a convenience class inheriting from both
   <tt>gray:fundamental-binary-stream</tt> and
   <tt>gray:fundamental-output-stream</tt>.
  </p></dd></dl></div><div class="variablelist"><p><b>general generic functions defined on streams</b></p><dl><dt><a name="d39e22436"></a><span class="term"><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a>
    <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Returns the stream's element type, normally a
   subtype of <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a>.
   </p><p>The method for
   <tt>gray:fundamental-character-stream</tt>
   returns <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>.
  </p></dd><dt><a name="d39e22467"></a><span class="term"><tt>((<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><tt>STREAM-ELEMENT-TYPE</tt></a>)
    <i><tt>new-element-type</tt></i>
    <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Changes the stream's element type.
    </p><p>The default method signals an error.
    </p><p>This function is a <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> extension.
  </p></dd><dt><a name="d39e22496"></a><span class="term"><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><tt>CLOSE</tt></a>
    <i><tt>stream</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:abort</tt>)</tt></span></dt><dd><p>Closes the stream and flushes any associated buffers.
    </p><p>When you define a primary method on this
    function, do not forget to <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><tt>CALL-NEXT-METHOD</tt></a>.
  </p></dd><dt><a name="d39e22523"></a><span class="term"><tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_open-stream-p.html" target="_top"><tt>OPEN-STREAM-P</tt></a>
    <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Returns true before the stream has been closed, and
    <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> after the stream has been closed.
    </p><p>You do not need to add methods to this function.
   </p></dd></dl></div><div class="variablelist"><p><b>generic functions for character input</b></p><dl><dt><a name="d39e22546"></a><span class="term"><tt>(<tt>gray:stream-read-char</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>If a character was pushed back using
   <tt>gray:stream-unread-char</tt>, returns and consumes it.
   Otherwise returns and consumes the next character from the stream.
   Returns <tt>:eof</tt> if the <tt>end-of-stream</tt> is reached.
   </p><p>You must define a method for this function.
  </p></dd><dt><a name="d39e22570"></a><span class="term"><tt>(<tt>gray:stream-unread-char</tt>
                 <i><tt>stream</tt></i>
                 <i><tt>character</tt></i>)</tt></span></dt><dd><p>Pushes <i><tt>character</tt></i>, which
   must be the last character read from the stream, back onto the front
   of the stream.
   </p><p>You must define a method for this function.
  </p></dd><dt><a name="d39e22591"></a><span class="term"><tt>(<tt>stream-read-char-no-hang</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Returns a character or <tt>:eof</tt>, like
   <tt>gray:stream-read-char</tt>, if that would return
   immediately.  If <tt>gray:stream-read-char</tt>'s value
   is not available immediately, returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> instead of waiting.
   </p><p>The default method simply calls
   <tt>gray:stream-read-char</tt>; this is sufficient for
   streams whose <tt>gray:stream-read-char</tt> method never
   blocks.
  </p></dd><dt><a name="d39e22625"></a><span class="term"><tt>(<tt>gray:stream-peek-char</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>If a character was pushed back using
   <tt>gray:stream-unread-char</tt>, returns it.  Otherwise
   returns the next character from the stream, avoiding any side effects
   <tt>gray:stream-read-char</tt> would do.
   Returns <tt>:eof</tt> if the <tt>end-of-stream</tt> is reached.
   </p><p>The default method calls
   <tt>gray:stream-read-char</tt> and
   <tt>gray:stream-unread-char</tt>; this is sufficient for
   streams whose <tt>gray:stream-read-char</tt> method has
   no side-effects.
  </p></dd><dt><a name="d39e22661"></a><span class="term"><tt>(<tt>gray:stream-listen</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>If a character was pushed back using
   <tt>gray:stream-unread-char</tt>, returns it.  Otherwise
   returns the next character from the stream, if already available.  If
   no character is available immediately, or if <tt>end-of-stream</tt> is reached,
   returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
   </p><p>The default method calls
   <tt>gray:stream-read-char-no-hang</tt> and
   <tt>gray:stream-unread-char</tt>; this is sufficient for
   streams whose <tt>gray:stream-read-char</tt> method has
   no side-effects.
  </p></dd><dt><a name="d39e22695"></a><span class="term"><tt>(<tt>gray:stream-read-char-will-hang-p</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if
   <tt>gray:stream-read-char</tt> will return immediately.
   Otherwise it returns true.
   </p><p>The default method calls
   <tt>gray:stream-read-char-no-hang</tt> and
   <tt>gray:stream-unread-char</tt>; this is sufficient for
   streams whose <tt>gray:stream-read-char</tt> method has no
   side-effects.
   </p><p>This function is a <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> extension.
  </p></dd><dt><a name="d39e22732"></a><span class="term"><tt>(<tt>gray:stream-read-char-sequence</tt>
                  <i><tt>stream</tt></i>
                  <i><tt>sequence</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
                  [<i><tt>start</tt></i>
                  [<i><tt>end</tt></i>]])</tt></span></dt><dd><p>Fills the subsequence of
   <i><tt>sequence</tt></i> specified by <tt>:start</tt> and <tt>:end</tt>
   with characters consecutively read from
   <i><tt>stream</tt></i>.  Returns the index of the first
   element of <i><tt>sequence</tt></i> that was not updated (=
   <i><tt>end</tt></i> or &lt; <i><tt>end</tt></i>
   if the stream reached its end).
   </p><p><i><tt>sequence</tt></i> is an array of
   characters, i.e. a string.  <i><tt>start</tt></i> is a
   nonnegative integer and default to 0.  <i><tt>end</tt></i>
   is a nonnegative integer or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> and defaults to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, which stands
   for <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a>
   <i><tt>sequence</tt></i>)</tt>.
   </p><p>The default method repeatedly calls
   <tt>gray:stream-read-char</tt>;
   this is always sufficient if speed does not matter.
   </p><p>This function is a <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> extension.
  </p></dd><dt><a name="d39e22818"></a><span class="term"><tt>(<tt>gray:stream-read-line</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Reads a line of characters, and return two values:
   the line (a string, without the terminating
   #\Newline character), and a boolean value which is
   true if the line was terminated by <tt>end-of-stream</tt> instead of
   #\Newline.
   </p><p>The default method repeatedly calls
   <tt>gray:stream-read-char</tt>;
   this is always sufficient.
  </p></dd><dt><a name="d39e22845"></a><span class="term"><tt>(<tt>gray:stream-clear-input</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Clears all pending interactive input from the
   stream, and returns true if some pending input was removed.
   </p><p>The default method does nothing and returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>;
   this is sufficient for non-interactive streams.
  </p></dd></dl></div><div class="variablelist"><p><b>generic functions for character output</b></p><dl><dt><a name="d39e22867"></a><span class="term"><tt>(<tt>gray:stream-write-char</tt>
                 <i><tt>stream</tt></i>
                 <i><tt>character</tt></i>)</tt></span></dt><dd><p>Writes <i><tt>character</tt></i>.
   </p><p>You must define a method for this function.
  </p></dd><dt><a name="d39e22888"></a><span class="term"><tt>(<tt>gray:stream-line-column</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Returns the column number where the next character
   would be written (0 stands for the first column), or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if that is
   not meaningful for this stream.
   </p><p>You must define a method for this function.
  </p></dd><dt><a name="d39e22907"></a><span class="term"><tt>(<tt>gray:stream-start-line-p</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Returns true if the next character would be
   written at the start of a new line.
   </p><p>The default method calls
   <tt>gray:stream-line-column</tt> and compares its
   result with 0; this is sufficient for streams whose
   <tt>gray:stream-line-column</tt> never returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
  </p></dd><dt><a name="d39e22932"></a><span class="term"><tt>(<tt>gray:stream-write-char-sequence</tt>
                 <i><tt>stream</tt></i>
                 <i><tt>sequence</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
                 [<i><tt>start</tt></i>
                 [<i><tt>end</tt></i>]])</tt></span></dt><dd><p>Outputs the subsequence of
   <i><tt>sequence</tt></i> specified by <tt>:start</tt> and
   <tt>:end</tt> to <i><tt>stream</tt></i>.
   </p><p><i><tt>sequence</tt></i> is an array of
   characters, i.e. a string.  <i><tt>start</tt></i> is a
   nonnegative integer and default to 0.  <i><tt>end</tt></i>
   is a nonnegative integer or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> and defaults to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, which stands
   for <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a>
   <i><tt>sequence</tt></i>)</tt>.
   </p><p>The default method repeatedly calls
   <tt>gray:stream-write-char</tt>;
   this is always sufficient if speed does not matter.
   </p><p>This function is a <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> extension.
  </p></dd><dt><a name="d39e23009"></a><span class="term"><tt>(<tt>gray:stream-write-string</tt>
                 <i><tt>stream</tt></i>
                 <i><tt>string</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
                 [<i><tt>start</tt></i>
                 [<i><tt>end</tt></i>]])</tt></span></dt><dd><p>Outputs the subsequence of
   <i><tt>string</tt></i> specified by <tt>:start</tt> and <tt>:end</tt>
   to <i><tt>stream</tt></i>.  Returns
   <i><tt>string</tt></i>.
   </p><p><i><tt>string</tt></i> is a string.
   <i><tt>start</tt></i> is a nonnegative integer and default
   to 0.  <i><tt>end</tt></i> is a nonnegative integer or
   <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> and defaults to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, which stands for <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a> <i><tt>string</tt></i>)</tt>.
   </p><p>The default method calls
   <tt>gray:stream-write-char-sequence</tt>;
   this is always sufficient.
  </p></dd><dt><a name="d39e23083"></a><span class="term"><tt>(<tt>gray:stream-terpri</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Outputs a #\Newline character.
   </p><p>The default method calls
   <tt>gray:stream-write-char</tt>;
   this is always sufficient.
  </p></dd><dt><a name="d39e23104"></a><span class="term"><tt>(<tt>gray:stream-fresh-line</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Possibly outputs a #\Newline
   character, so as to ensure that the next character would be written
   at the start of a new line.  Returns true if it did output a
   #\Newline character.
   </p><p>The default method calls
   <tt>gray:stream-start-line-p</tt> and then
   <tt>gray:stream-terpri</tt> if necessary;
   this is always sufficient.
  </p></dd><dt><a name="d39e23131"></a><span class="term"><tt>(<tt>gray:stream-finish-output</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Ensures that any buffered output has reached its
   destination, and then returns.
   </p><p>The default method does nothing.
  </p></dd><dt><a name="d39e23146"></a><span class="term"><tt>(<tt>gray:stream-force-output</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Brings any buffered output on its way towards its
   destination, and returns without waiting until it has reached its
   destination.
   </p><p>The default method does nothing.
  </p></dd><dt><a name="d39e23161"></a><span class="term"><tt>(<tt>gray:stream-clear-output</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Attempts to discard any buffered output which has
   not yet reached its destination.
   </p><p>The default method does nothing.
  </p></dd><dt><a name="d39e23176"></a><span class="term"><tt>(<tt>gray:stream-advance-to-column</tt>
                 <i><tt>stream</tt></i>
                 <i><tt>column</tt></i>)</tt></span></dt><dd><p>Ensures that the next character will be written at
   <i><tt>column</tt></i> at least.
   </p><p>The default method outputs an appropriate amount
   of space characters; this is sufficient for non-proportional output.
  </p></dd></dl></div><div class="variablelist"><p><b>generic functions for binary input</b></p><dl><dt><a name="d39e23200"></a><span class="term"><tt>(<tt>gray:stream-read-byte</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>Returns and consumes the next integer from the
   stream. Returns <tt>:eof</tt> if the <tt>end-of-stream</tt> is reached.
   </p><p>You must define a method for this function.
  </p></dd><dt><a name="d39e23221"></a><span class="term"><tt>(<tt>stream-read-byte-lookahead</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>To be called only if
   <i><tt>stream</tt></i>'s element-type is
   <tt>(unsigned-byte 8)</tt> or
   <tt>(signed-byte 8)</tt>. Returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> if
   <tt>gray:stream-read-byte</tt> would return immediately
   with an integer result. Returns <tt>:eof</tt> if the <tt>end-of-stream</tt> is already known
   to be reached. If <tt>gray:stream-read-byte</tt>'s value
   is not available immediately, returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> instead of waiting.
   </p><p>You must define a method for this function.
  </p></dd><dt><a name="d39e23265"></a><span class="term"><tt>(<tt>stream-read-byte-will-hang-p</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>To be called only if
   <i><tt>stream</tt></i>'s element-type is
   <tt>(unsigned-byte 8)</tt> or
   <tt>(signed-byte 8)</tt>. Returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if
   <tt>gray:stream-read-byte</tt> will return immediately.
   Otherwise it returns true.
   </p><p>The default method calls
   <tt>gray:stream-read-byte-lookahead</tt>;
   this is always sufficient.
  </p></dd><dt><a name="d39e23299"></a><span class="term"><tt>(<tt>stream-read-byte-no-hang</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>To be called only if
   <i><tt>stream</tt></i>'s element-type is
   <tt>(unsigned-byte 8)</tt> or
   <tt>(signed-byte 8)</tt>. Returns an integer or
   <tt>:eof</tt>, like <tt>gray:stream-read-byte</tt>, if that
   would return immediately.  If
   <tt>gray:stream-read-byte</tt>'s value
   is not available immediately, returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> instead of waiting.
   </p><p>The default method calls
   <tt>gray:stream-read-byte</tt> if
   <tt>gray:stream-read-byte-lookahead</tt> returns true;
   this is always sufficient.
  </p></dd><dt><a name="d39e23342"></a><span class="term"><tt>(<tt>gray:stream-read-byte-sequence</tt>
                 <i><tt>stream</tt></i>
                 <i><tt>sequence</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
                 [<i><tt>start</tt></i>
                 [<i><tt>end</tt></i>]])</tt></span></dt><dd><p>Fills the subsequence of
   <i><tt>sequence</tt></i> specified by <tt>:start</tt> and
   <tt>:end</tt> with integers consecutively read from
   <i><tt>stream</tt></i>.  Returns the index of the first
   element of <i><tt>sequence</tt></i> that was not updated
   (= <i><tt>end</tt></i> or &lt;
   <i><tt>end</tt></i> if the stream reached its end).
   </p><p><i><tt>sequence</tt></i> is an array of
   integers.  <i><tt>start</tt></i> is a nonnegative integer
   and default to 0.  <i><tt>end</tt></i> is a nonnegative
   integer or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> and defaults to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, which stands for <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a>
   <i><tt>sequence</tt></i>)</tt>.
   </p><p>The default method repeatedly calls
   <tt>gray:stream-read-byte</tt>;
   this is always sufficient if speed does not matter.
   </p><p>This function is a <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> extension.
  </p></dd></dl></div><div class="variablelist"><p><b>generic functions for binary output</b></p><dl><dt><a name="d39e23431"></a><span class="term"><tt>(<tt>gray:stream-write-byte</tt>
                 <i><tt>stream</tt></i>
                 <i><tt>integer</tt></i>)</tt></span></dt><dd><p>Writes <i><tt>integer</tt></i>.
   </p><p>You must define a method for this function.
  </p></dd><dt><a name="d39e23452"></a><span class="term"><tt>(<tt>gray:stream-write-byte-sequence</tt>
                 <i><tt>stream</tt></i>
                 <i><tt>sequence</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
                 [<i><tt>start</tt></i>
                 [<i><tt>end</tt></i>]])</tt></span></dt><dd><p>Outputs the subsequence of
   <i><tt>sequence</tt></i> specified by <tt>:start</tt> and <tt>:end</tt>
   to <i><tt>stream</tt></i>.
   </p><p><i><tt>sequence</tt></i> is an array of
   integers.  <i><tt>start</tt></i> is a nonnegative integer
   and default to 0.  <i><tt>end</tt></i> is a nonnegative
   integer or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> and defaults to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, which stands for <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a>
   <i><tt>sequence</tt></i>)</tt>.
   </p><p>The default method repeatedly calls
   <tt>gray:stream-write-byte</tt>;
   this is always sufficient if speed does not matter.
   </p><p>This function is a <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> extension.
  </p></dd></dl></div></div><div class="section"><a name="gstream"></a><div class="titlepage"><div><h4 class="title"><a name="gstream"></a>Generic streams</h4></div></div><p>This interface is <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> specific and now obsolete.  Please use
 the Gray streams interface instead.</p><p>Generic streams are user programmable streams.
 The programmer interface:</p><div class="variablelist"><dl><dt><a name="d39e23542"></a><span class="term"><tt>(<tt>gstream:make-generic-stream</tt>
                 <i><tt>controller</tt></i>)</tt></span></dt><dd><p>returns a generic stream.
  </p></dd><dt><a name="d39e23555"></a><span class="term"><tt>(<tt>gstream:generic-stream-controller</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>returns a private object to which generic stream
   methods dispatch.  The typical usage is to retrieve the object
   originally provided by the user in
   <tt>gstream:make-generic-stream</tt>.
  </p></dd><dt><a name="d39e23571"></a><span class="term"><tt>(<tt>gstream:generic-stream-p</tt>
                 <i><tt>stream</tt></i>)</tt></span></dt><dd><p>determines whether a stream is a generic stream,
   returning <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> if it is, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> otherwise.
  </p></dd></dl></div><p>In order to specify the behavior of a generic stream, the user
 must define <b>CLOS</b> methods on the following <b>CLOS</b> generic
 functions.  The function
 <tt>gstream:generic-stream-<i><tt>xyz</tt></i></tt>
 corresponds to the <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a> function
 <tt><i><tt>xyz</tt></i></tt>.  They all take a
 controller and some number of arguments.</p><div class="variablelist"><dl><dt><a name="d39e23614"></a><span class="term"><tt>(<tt>gstream:generic-stream-read-char</tt>
                 <i><tt>controller</tt></i>)</tt></span></dt><dd><p> Returns and consumes the next character, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> at
    end of file.  Takes one argument, the controller object.
  </p></dd><dt><a name="d39e23631"></a><span class="term"><tt>(<tt>gstream:generic-stream-peek-char</tt>
                 <i><tt>controller</tt></i>)</tt></span></dt><dd><p> Returns the next character, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> at end of file.  A
   second value indicates whether the side effects associated with
   consuming the character were executed: <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> means that a full
   <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char.html" target="_top"><tt>READ-CHAR</tt></a> was done, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> means that no side effects were done.
   Takes one argument, the controller object.
  </p></dd><dt><a name="d39e23660"></a><span class="term"><tt>(<tt>gstream:generic-stream-read-byte</tt>
                 <i><tt>controller</tt></i>)</tt></span></dt><dd><p>Returns and consumes the next integer, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> at end
   of file.  Takes one argument, the controller object.
  </p></dd><dt><a name="d39e23677"></a><span class="term"><tt>(<tt>gstream:generic-stream-read-char-will-hang-p</tt>
     <i><tt>controller</tt></i>)</tt></span></dt><dd><p>This generic function is used to query the stream's
   input status.  It returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if
   <tt>gstream:generic-stream-read-char</tt> and
   <tt>gstream:generic-stream-peek-char</tt> will certainly
   return immediately.  Otherwise it returns true.
  </p></dd><dt><a name="d39e23700"></a><span class="term"><tt>(<tt>gstream:generic-stream-write-char</tt>
                 <i><tt>controller</tt></i>
                 <i><tt>ch</tt></i>)</tt></span></dt><dd><p>The first argument is the controller object.
   The second argument is the character to be written.
  </p></dd><dt><a name="d39e23716"></a><span class="term"><tt>(<tt>gstream:generic-stream-write-byte</tt>
                 <i><tt>controller</tt></i>
                 <i><tt>by</tt></i>)</tt></span></dt><dd><p>The first argument is the controller object.
   The second argument is the integer to be written.
  </p></dd><dt><a name="d39e23732"></a><span class="term"><tt>(<tt>gstream:generic-stream-write-string</tt>
                 <i><tt>controller</tt></i>
                 <i><tt>string</tt></i>
                 <i><tt>start</tt></i>
                 <i><tt>len</tt></i>)</tt></span></dt><dd><p>Writes the subsequence of
   <i><tt>string</tt></i> starting from
   <i><tt>start</tt></i> of length
   <i><tt>len</tt></i>.
   The first argument is the controller object.
  </p></dd><dt><a name="d39e23763"></a><span class="term"><tt>(<tt>gstream:generic-stream-clear-input</tt>
                 <i><tt>controller</tt></i>)</tt>
  <tt>(<tt>gstream:generic-stream-clear-output</tt>
     <i><tt>controller</tt></i>)</tt>
  <tt>(<tt>gstream:generic-stream-finish-output</tt>
     <i><tt>controller</tt></i>)</tt>
  <tt>(<tt>gstream:generic-stream-force-output</tt>
     <i><tt>controller</tt></i>)</tt>
  <tt>(<tt>gstream:generic-stream-close</tt>
     <i><tt>controller</tt></i>)</tt></span></dt><dd><p>Take one argument, the controller object.
 </p></dd></dl></div></div></div><div class="section"><a name="weak"></a><div class="titlepage"><div><h3 class="title"><a name="weak"></a>Extensions-1.6. Weak Pointers</h3></div></div><p>A weak pointer is an object holding a reference to a given object,
 without keeping the latter from being <a href="#gc">garbage-collect</a>ed.</p><div class="variablelist"><dl><dt><a name="d39e23822"></a><span class="term"><tt>(<tt>ext:make-weak-pointer</tt>
   <i><tt>value</tt></i>)</tt></span></dt><dd><p>returns a fresh weak pointer referring to
  <i><tt>value</tt></i>.</p></dd><dt><a name="d39e23838"></a><span class="term"><tt>(<tt>ext:weak-pointer-p</tt>
   <i><tt>object</tt></i>)</tt></span></dt><dd><p>returns true if the
   <i><tt>object</tt></i> is of type <i><tt>weak-pointer</tt></i>.
 </p></dd><dt><a name="d39e23858"></a><span class="term"><tt>(<tt>ext:weak-pointer-value</tt>
    <i><tt>weak-pointer</tt></i>)</tt></span></dt><dd><p> returns two values: The original value and <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, if
    the value has not yet been <a href="#gc">garbage-collect</a>ed, else <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
  </p></dd></dl></div></div><div class="section"><a name="final"></a><div class="titlepage"><div><h3 class="title"><a name="final"></a>Extensions-1.7. Finalization</h3></div></div><p>Calling <tt>(<a href="#final"><tt>ext:finalize</tt></a>
 <i><tt>object</tt></i>
 <i><tt>function</tt></i>)</tt> has the effect that when
 the specified object is being <a href="#gc">garbage-collect</a>ed, <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><tt>FUNCALL</tt></a> <i><tt>function</tt></i>
 <i><tt>object</tt></i>)</tt> will be executed.</p><p>Calling <tt>(<a href="#final"><tt>ext:finalize</tt></a>
 <i><tt>object</tt></i> <i><tt>function</tt></i>
 <i><tt>guardian</tt></i>)</tt> has a similar effect,
 but only as long as the "guardian" has not been <a href="#gc">garbage-collect</a>ed: When
 <i><tt>object</tt></i> is being <a href="#gc">garbage-collect</a>ed, <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><tt>FUNCALL</tt></a> <i><tt>function</tt></i>
 <i><tt>object</tt></i>
 <i><tt>guardian</tt></i>)</tt> will be executed.  If
 the guardian is <a href="#gc">garbage-collect</a>ed before <i><tt>object</tt></i> is,
 nothing happens.</p><p>Note: The time when &#8220;the <i><tt>object</tt></i>
 is being <a href="#gc">garbage-collect</a>ed&#8221; is not defined deterministically.
 (Actually, it might possibly never occur.)  It denotes a moment at which no
 references to <i><tt>object</tt></i> exist from other Lisp
 objects.  When the <i><tt>function</tt></i> is called,
 <i><tt>object</tt></i> (and possibly
 <i><tt>guardian</tt></i>) enter the "arena of live Lisp
 objects" again.</p><p>No finalization request will be executed more than once.</p></div><div class="section"><a name="prompt"></a><div class="titlepage"><div><h3 class="title"><a name="prompt"></a>Extensions-1.8. The Prompt</h3></div></div><p>The variable <i><tt>custom:*prompt*</tt></i> controls the
 appearance of the prompt.  When its value is a function, it is called
 and its value is printed with <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRINC</tt></a>.  Otherwise, the value itself is
 printed with <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><tt>PRINC</tt></a>.  The default value of
 <tt>custom:*prompt*</tt> prints
 <tt>"package[nn]&gt;&nbsp;"</tt> where
 <i><tt>package</tt></i> is the shortest (nick)name of the
 current package <a href="http://www.lisp.org/HyperSpec/Body/var_stpackagest.html" target="_top"><tt>*PACKAGE*</tt></a> if it is the same as it was in the
 beginning or if it does not contain symbol <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> (it is assumed that in
 the latter case you would want to keep in mind that your current
 package is something weird); and <i><tt>nn</tt></i> is the
 ordinal number of the current prompt (hopefully, it will remain
 finite).  To help you in constructing your own fancy prompts, two
 functions are provided: <i><tt>ext:prompt-new-package</tt></i>,
 returning <a href="http://www.lisp.org/HyperSpec/Body/var_stpackagest.html" target="_top"><tt>*PACKAGE*</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if the current package is the same as
 it was initially; and <i><tt>ext:package-short-name</tt></i>
 taking one argument, a package, and returning its shortest name or
 nickname.  Also, a variable <i><tt>ext:*command-index*</tt></i>
 contains the current prompt number, it is your responsibility to
 increment it (this variable is bound to 0 before
 <a href="#image">saving the image</a>).</p></div><div class="section"><a name="ansi"></a><div class="titlepage"><div><h3 class="title"><a name="ansi"></a>Extensions-1.9. Maximum ANSI CL compliance</h3></div></div><p>A few [<a href="#ansi-cl">ANSI CL standard</a>] features are turned off by default, because they
 would hurt in every-day use.  They can be switched on, all at once by
 setting the <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> <a href="#ansi"><tt>custom:*ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, or they can be switched on
 individually.  Setting <a href="#ansi"><tt>custom:*ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> implies the following:</p><div class="itemizedlist"><ul><li><a name="d39e24084"></a><p>Setting <a href="#pathprint"><tt>custom:*print-pathnames-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> for [<a href="#ansi-cl">ANSI CL standard</a>] compliant
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><tt>PATHNAME</tt></a> printing.</p></li><li><a name="d39e24103"></a><p>Setting <i><tt>custom:*coerce-fixnum-char-ansi*</tt></i>
  to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> so that <a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><tt>FIXNUM</tt></a>s cannot be <a href="http://www.lisp.org/HyperSpec/Body/fun_coerce.html" target="_top"><tt>COERCE</tt></a>d to
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>s (because a <a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><tt>FIXNUM</tt></a> is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_c.html#character_designator" target="_top">character
  designator</a> in [<a href="#ansi-cl">ANSI CL standard</a>].)</p></li><li><a name="d39e24137"></a><p>Setting <a href="#count-ansi"><tt>custom:*sequence-count-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> so that negative
  <tt>:count</tt> keyword parameter is equivalent to 0 as per the <a href="http://www.lisp.org/HyperSpec/Issues/iss283.html" target="_top">RANGE-OF-COUNT-KEYWORD:NIL-OR-INTEGER</a>
  [<a href="#ansi-cl">ANSI CL standard</a>] Issue 283.</p></li><li><a name="d39e24158"></a><p>Setting <a href="#pathmerge"><tt>custom:*merge-pathnames-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>.</p></li><li><a name="d39e24169"></a><p>Setting <a href="#parsename"><tt>custom:*parse-namestring-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>.</p></li><li><a name="d39e24180"></a><p>Setting <a href="#flocont"><tt>custom:*floating-point-contagion-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>.</p></li><li><a name="d39e24191"></a><p>Adding <i><tt>:ansi-cl</tt></i> to
  <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><tt>*FEATURES*</tt></a>.</p></li></ul></div><p>Please note that if you run <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> with the <tt>-a</tt>
 switch or set the <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> <a href="#ansi"><tt>custom:*ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> and
 <a href="#image">save image</a>, then all subsequent
 invocations of <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> with this image will be as if with
 <tt>-a</tt> (regardless whether you actually supply the
 <tt>-a</tt> switch).  You can always set the <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a>
 <a href="#ansi"><tt>custom:*ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, reversing the above settings, i.e.,</p><div class="itemizedlist"><ul><li><a name="d39e24249"></a><p>Setting <a href="#pathprint"><tt>custom:*print-pathnames-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> for readable
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><tt>PATHNAME</tt></a> printing.</p></li><li><a name="d39e24264"></a><p>Setting <i><tt>custom:*coerce-fixnum-char-ansi*</tt></i>
  to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> so that <a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><tt>FIXNUM</tt></a>s <i>can</i> be <a href="http://www.lisp.org/HyperSpec/Body/fun_coerce.html" target="_top"><tt>COERCE</tt></a>d
  to <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a>s (via <a href="http://www.lisp.org/HyperSpec/Body/fun_code-char.html" target="_top"><tt>CODE-CHAR</tt></a>).</p></li><li><a name="d39e24294"></a><p>Setting <a href="#count-ansi"><tt>custom:*sequence-count-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> to signal an error on
  negative <tt>:count</tt> keyword parameter, contrary to the <a href="http://www.lisp.org/HyperSpec/Issues/iss283.html" target="_top">RANGE-OF-COUNT-KEYWORD:NIL-OR-INTEGER</a>
  [<a href="#ansi-cl">ANSI CL standard</a>] Issue 283.</p></li><li><a name="d39e24315"></a><p>Setting <a href="#pathmerge"><tt>custom:*merge-pathnames-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p></li><li><a name="d39e24326"></a><p>Setting <a href="#parsename"><tt>custom:*parse-namestring-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p></li><li><a name="d39e24337"></a><p>Setting <a href="#flocont"><tt>custom:*floating-point-contagion-ansi*</tt></a> to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.</p></li><li><a name="d39e24348"></a><p>Deleting <i><tt>:ansi-cl</tt></i> from
  <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><tt>*FEATURES*</tt></a>.</p></li></ul></div></div><div class="section"><a name="macros3"></a><div class="titlepage"><div><h3 class="title"><a name="macros3"></a>Extensions-1.10. Additional Fancy Macros</h3></div></div><p>If you uncomment the <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a>
 "macros3")</tt> line in the file <tt>init.lisp</tt>
 before doing <b>make</b>, or load the file
 <tt>macros3.lisp</tt>into a running <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>, you gain access
 to the following macros:</p><p><a name="ethe"></a><b><tt>ext:ethe</tt></b> <tt>(<tt>ext:ethe</tt>
 <i><tt>value-type</tt></i>
 <i><tt>form</tt></i>)</tt> enforces a type check in
 both interpreted and compiled code.</p><p><a name="letf"></a><b><tt>ext:letf</tt> &amp;
                             <tt>ext:letf*</tt></b> These macros are similar to <a href="http://www.lisp.org/HyperSpec/Body/speope_letcm_letst.html" target="_top"><tt>LET</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/speope_letcm_letst.html" target="_top"><tt>LET*</tt></a>, respectively,
 except that they can bind places, even places with multiple values.
 Example:

<pre class="programlisting">
 (letf (((values a b) form)) ...)
</pre>

is equivalent to

<pre class="programlisting">
 (multiple-value-bind (a b) form ...)
</pre>

while

<pre class="programlisting">
(letf (((first l) 7)) ...)
</pre>

is approximately equivalent to

<pre class="programlisting">
 (<a href="http://www.lisp.org/HyperSpec/Body/speope_letcm_letst.html" target="_top"><tt>LET*</tt></a> ((#:g1 l) (#:g2 (first #:g1)))
   (<a href="http://www.lisp.org/HyperSpec/Body/speope_unwind-protect.html" target="_top"><tt>UNWIND-PROTECT</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/speope_progn.html" target="_top"><tt>PROGN</tt></a> (<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (first #:g1) 7) ...)
      (<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a> (first #:g1) #:g2)))
</pre>
</p><p><a name="with-collect"></a><b><tt>ext:with-collect</tt></b> Similar to the <a href="http://www.lisp.org/HyperSpec/Body/mac_loop.html" target="_top"><tt>LOOP</tt></a>'s <tt>collect</tt> instruction,
 except that it is more "Lispy" in appearance and can appear arbitrarily
 deep.  It defines local macros (with <a href="http://www.lisp.org/HyperSpec/Body/speope_fletcm_scm_macrolet.html" target="_top"><tt>MACROLET</tt></a>) which collect objects
 given to it in lists, which are then returned as multiple values.  E.g.,

<pre class="programlisting">
 (ext:with-collect (c0 c1)
   (dotimes (i 10) (if (oddp i) (c0 i) (c1 i))))
</pre>

returns two lists <tt>(1 3 5 7 9)</tt> and
<tt>(0 2 4 6 8)</tt> as multiple values.
</p><p>You might want to add a <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a>
 "macros3")</tt> statement to your <a href="clisp.html#Option -norc" target="_top"><tt>.clisprc</tt></a>
 file if you do not want to dump your own image.</p></div><div class="section"><a name="customize"></a><div class="titlepage"><div><h3 class="title"><a name="customize"></a>Extensions-1.11. Customizing <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> behavior.</h3></div></div><p>The user-customizable variables are located in the package
 <a href="#customize">&#8220;CUSTOM&#8221;</a> and thus can be listed using
   <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_aproposcm_apropos-list.html" target="_top"><tt>APROPOS</tt></a> "" "CUSTOM")</tt>
</p></div></div><div class="section"><a name="platform"></a><div class="titlepage"><div><h2 class="title" style="clear: all"><a name="platform"></a>Extensions-2: Platform specific Extensions</h2></div></div><div class="section"><a name="screen"></a><div class="titlepage"><div><h3 class="title"><a name="screen"></a>Extensions-2.1. Random Screen Access</h3></div><div><h2 class="subtitle">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>
   platforms only.</h2></div></div><div class="variablelist"><dl><dt><a name="d39e24536"></a><span class="term"><tt>(<tt>screen:make-window</tt>)</tt></span></dt><dd><p>returns a "window stream".  As long as this stream
   is open, the terminal is in cbreak/noecho mode.  <a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><tt>*TERMINAL-IO*</tt></a>
   should not be used for input or output during this time.
   (Use <a href="#terminal"><tt>ext:with-keyboard</tt></a> and <a href="#terminal"><tt>ext:*keyboard-input*</tt></a> instead.)
  </p></dd><dt><a name="d39e24558"></a><span class="term"><tt>(<tt>screen:with-window</tt>
                 . <i><tt>body</tt></i>)</tt></span></dt><dd><p>binds <i><tt>screen:*window*</tt></i> to a
   window stream and executes <i><tt>body</tt></i>.  The
   stream is guaranteed to be closed when the body is left.  During its
   execution, <a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><tt>*TERMINAL-IO*</tt></a> should not be used, as above.
  </p></dd><dt><a name="d39e24582"></a><span class="term"><tt>(<tt>screen:window-size</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>returns the window's size, as two values:
   height (= y<sub>max</sub>+1) and width (=
   x<sub>max</sub>+1).
  </p></dd><dt><a name="d39e24601"></a><span class="term"><tt>(<tt>screen:window-cursor-position</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>returns the position of the cursor in the window,
   as two values: line (&#8805;0, &#8804;y<sub>max</sub>, 0 means
   top), column (&#8805;0, &#8804;x<sub>max</sub>, 0 means left
   margin).</p></dd><dt><a name="d39e24620"></a><span class="term"><tt>(<tt>screen:set-window-cursor-position</tt>
                 <i><tt>window-stream</tt></i>
                 <i><tt>line</tt></i>
                 <i><tt>column</tt></i>)</tt></span></dt><dd><p>sets the position of the cursor in the window.
  </p></dd><dt><a name="d39e24639"></a><span class="term"><tt>(<tt>screen:clear-window</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>clears the window's contents and puts the cursor in
   the upper left corner.
  </p></dd><dt><a name="d39e24652"></a><span class="term"><tt>(<tt>screen:clear-window-to-eot</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>clears the window's contents from the cursor
   position to the end of window.
  </p></dd><dt><a name="d39e24665"></a><span class="term"><tt>(<tt>screen:clear-window-to-eol</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>clears the window's contents from the cursor
   position to the end of line.
  </p></dd><dt><a name="d39e24678"></a><span class="term"><tt>(<tt>screen:delete-window-line</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>removes the cursor's line, moves the lines below it
   up by one line and clears the window's last line.
  </p></dd><dt><a name="d39e24691"></a><span class="term"><tt>(<tt>screen:insert-window-line</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>inserts a line at the cursor's line, moving the
   lines below it down by one line.
  </p></dd><dt><a name="d39e24704"></a><span class="term"><tt>(<tt>screen:highlight-on</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>switches highlighted output on.
  </p></dd><dt><a name="d39e24717"></a><span class="term"><tt>(<tt>screen:highlight-off</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>switches highlighted output off.
  </p></dd><dt><a name="d39e24730"></a><span class="term"><tt>(<tt>screen:window-cursor-on</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>makes the cursor visible, a cursor block in most
   implementations.
  </p></dd><dt><a name="d39e24743"></a><span class="term"><tt>(<tt>screen:window-cursor-off</tt>
                 <i><tt>window-stream</tt></i>)</tt></span></dt><dd><p>makes the cursor invisible, in implementations
   where this is possible.
  </p></dd></dl></div></div><div class="section"><a name="modules"></a><div class="titlepage"><div><h3 class="title"><a name="modules"></a>Extensions-2.2. External Modules</h3></div><div><h2 class="subtitle">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> platforms only.</h2></div></div><p><a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> has a facility for adding external modules (written in
 <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>, for example).  It is invoked through
 <b>clisp-link</b>.</p><p>A module is a piece of external code which defines extra Lisp
 objects, symbols and functions.  A module name must consist of the
 characters <tt>A</tt>-<tt>Z</tt>,
 <tt>a</tt>-<tt>z</tt>, <tt>_</tt>,
 <tt>0</tt>-<tt>9</tt>.  The module name
 &#8220;clisp&#8221; is reserved.  Normally a module name is derived
 from the corresponding file name.</p><p><b>clisp-link</b> needs a directory containing:
<div class="itemizedlist"><ul><li><a name="d39e24810"></a><p><tt>modules.d</tt></p></li><li><a name="d39e24814"></a><p><tt>modules.c</tt></p></li><li><a name="d39e24818"></a><p><tt>clisp.h</tt></p></li></ul></div>
<b>clisp-link</b> expects to find these files in a subdirectory
<tt>linkkit/</tt> of the current directory. This can be overridden
by the environment variable <tt>CLISP_LINKKIT</tt>.</p><p><b>clisp-link</b> operates on <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> linking sets and
 on module sets.</p><p>A <i>linking set</i> is a directory
 containing:</p><div class="variablelist"><dl><dt><a name="d39e24846"></a><span class="term"><tt>makevars</tt></span></dt><dd><p><a name="d39e24850"></a>some <b>/bin/sh</b> commands, setting
  the variables
<div class="variablelist"><dl><dt><a name="d39e24857"></a><span class="term"><tt>CC</tt></span></dt><dd><p>the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler
   </p></dd><dt><a name="d39e24868"></a><span class="term"><tt>CFLAGS</tt></span></dt><dd><p>flags for the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler, when compiling
   </p></dd><dt><a name="d39e24879"></a><span class="term"><tt>CLFLAGS</tt></span></dt><dd><p>flags for the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler, when linking
   </p></dd><dt><a name="d39e24890"></a><span class="term"><tt>LIBS</tt></span></dt><dd><p>libraries to use when linking
   </p></dd><dt><a name="d39e24897"></a><span class="term"><tt>X_LIBS</tt></span></dt><dd><p>additional X window system libraries to use
   </p></dd><dt><a name="d39e24904"></a><span class="term"><tt>RANLIB</tt></span></dt><dd><p>the ranlib command
   </p></dd><dt><a name="d39e24911"></a><span class="term"><tt>FILES</tt></span></dt><dd><p>the list of files needed when linking
   </p></dd></dl></div></p></dd><dt><a name="d39e24918"></a><span class="term"><tt>modules.h</tt></span></dt><dd><p>the list of modules contained in this linking set
  </p></dd><dt><a name="d39e24925"></a><span class="term"><tt>modules.o</tt></span></dt><dd><p>the compiled list of modules contained in this linking set
  </p></dd><dt><a name="d39e24932"></a><span class="term">all the <tt>FILES</tt></span></dt><dd><p>listed in <tt>makevars</tt>
  </p></dd><dt><a name="d39e24943"></a><span class="term"><tt>lisp.run</tt></span></dt><dd><p>the executable</p></dd><dt><a name="d39e24950"></a><span class="term"><tt>lispinit.mem</tt></span></dt><dd><p>the memory image</p></dd></dl></div><p>To run a <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> contained in some linking set
 <tt>dir</tt>, call
 <b><i><tt>dir</tt></i>/lisp.run -M
 <i><tt>dir</tt></i>/lispinit.mem</b></p><p>A <i>module set</i> is a directory
containing:</p><div class="variablelist"><dl><dt><a name="d39e24979"></a><span class="term"><b>link.sh</b></span></dt><dd><p>some <b>/bin/sh</b> commands, which
  prepare the directory before linking, and set the variables
  <tt>NEW_FILES</tt>, <tt>NEW_LIBS</tt>,
  <tt>NEW_MODULES</tt>, <tt>TO_LOAD</tt> and optionally
  <tt>TO_PRELOAD</tt></p></dd><dt><a name="d39e25003"></a><span class="term">and any other files</span></dt><dd><p>needed by <b>link.sh</b>
 </p></dd></dl></div><p>Note that in <b>link.sh</b> the module set directory
 is referred to as <tt>$modulename/</tt>.</p><div class="variablelist"><dl><dt><a name="d39e25021"></a><span class="term"><tt>NEW_FILES</tt></span></dt><dd><p>the space-separated list of files that
  belong to the module set and will belong to every new linking set.
 </p></dd><dt><a name="d39e25028"></a><span class="term"><tt>NEW_LIBS</tt></span></dt><dd><p>the space-separated list of files or
  <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler switches that need to be passed to the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
  compiler when linking the lisp.run belonging to a new linking set.
 </p></dd><dt><a name="d39e25043"></a><span class="term"><tt>NEW_MODULES</tt></span></dt><dd><p>the space-separated list of the module names
  belonging to the module set.  Normally, every <tt>.c</tt>
  file in the module set defines a module of its own.  The module name
  is derived from the file name.
 </p></dd><dt><a name="d39e25053"></a><span class="term"><tt>TO_LOAD</tt></span></dt><dd><p>the space-separated list of Lisp files to load
  before building the <tt>lispinit.mem</tt> belonging to a
  new linking set.
 </p></dd><dt><a name="d39e25063"></a><span class="term"><tt>TO_PRELOAD</tt> (optional)</span></dt><dd><p>the space-separated list of Lisp files to load into
  an intermediate <tt>lispinit.mem</tt> file, before
  building the <tt>lispinit.mem</tt> belonging to a new
  linking set.  This variable is usually used for defining Lisp packages
  which must be present when the new <tt>.c</tt> files are
  initialized.
 </p></dd></dl></div><p>The command <b>clisp-link create-module-set
 <i><tt>module-dir</tt></i>
 <i><tt>file1.c</tt></i> ...</b> creates a module set
 in <i><tt>module-dir</tt></i> which refers (via symbolic
 links) to <i><tt>file1.c</tt></i> etc.  The files are
 expected to be modules of their own.</p><p>The command <b>clisp-link add-module-set
 <i><tt>module-dir</tt></i>
 <i><tt>source-dir</tt></i>
 <i><tt>destination-dir</tt></i></b> combines a linking
 set in <i><tt>source-dir</tt></i> and a module in
 <i><tt>module-dir</tt></i> to a new linking set, in a
 directory <i><tt>destination-dir</tt></i> which is newly
 created.</p><p>The command <b>clisp-link run <i><tt>source-dir</tt></i>
 <i><tt>module-dir</tt></i> ...</b> runs the linking
 set in <i><tt>source-dir</tt></i>, with the module in
 <i><tt>module-dir</tt></i> loaded.  More than one module can
 be specified. If <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> has been built with the configuration option
 <tt>--with-dynamic-modules</tt>, the loading will be performed
 through dynamic loading.  Otherwise - this is much slower - a temporary
 linking set will be created and deleted afterwards.  Note that dynamic
 loading does not work on all operating systems, and that
 <tt>--with-dynamic-modules</tt> precludes some efficiency
 optimizations which are on by default.</p><div class="section"><a name="d39e25146"></a><div class="titlepage"><div><h4 class="title"><a name="d39e25146"></a>Example</h4></div></div><p>To link in the FFI bindings for the Linux operating system, the
 following steps are needed.  (Step 1 and step 2 need not be executed in
 this order.)</p><div class="orderedlist"><ol type="1"><li><p><a name="d39e25152"></a>Create a new module set:

<pre class="programlisting">$ clisp-link create-module-set linux /<i><tt>somewhere</tt></i>/bindings/linux.c</pre>

 Modify the newly created <tt>linux/link.sh</tt> to add
 <tt>-lm</tt>; to the libraries: replace
<pre class="programlisting">NEW_LIBS="$file_list"</pre>
   with
<pre class="programlisting">NEW_LIBS="$file_list -lm"</pre>

   Modify the newly created <tt>linux/link.sh</tt> to load
   <tt>linux.fas</tt> before saving the memory image:
   replace
<pre class="programlisting">TO_LOAD=''</pre>
   with
<pre class="programlisting">TO_LOAD='/<i><tt>somewhere</tt></i>/bindings/linux.fas'</pre></p></li><li><p><a name="d39e25187"></a>Compile <tt>linux.lisp</tt>, creating
  <tt>linux.c</tt>:

<pre class="programlisting">$ clisp -c /<i><tt>somewhere</tt></i>/bindings/linux.lisp</pre></p></li><li><p><a name="d39e25201"></a>Create a new linking set:
<pre class="programlisting">$ clisp-link add-module-set linux base base+linux</pre></p></li><li><p><a name="d39e25206"></a>Run and try it:

<pre class="programlisting">$ base+linux/lisp.run -M base+linux/lispinit.mem &gt; (linux::stat "/tmp")</pre></p></li></ol></div></div><div class="section"><a name="d39e25212"></a><div class="titlepage"><div><h4 class="title"><a name="d39e25212"></a>Modules included in the distribution.</h4></div></div><p>The following modules come with the distribution of
<a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>:</p><div class="variablelist"><dl><dt><a name="d39e25222"></a><span class="term">bindings</span></dt><dd><p><a name="d39e25225"></a>Call the operating system functions from <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.  The
   following platforms are supported:
   <div class="itemizedlist"><ul><li><a name="d39e25233"></a><p>AmigaOS</p></li><li><a name="d39e25236"></a><p>Linux/libc5</p></li><li><a name="d39e25239"></a><p>Linux/libc6</p></li></ul></div></p></dd><dt><a name="d39e25242"></a><span class="term">CLX</span></dt><dd><p><a name="d39e25245"></a>Call Xlib functions from <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.  Two
   implementations are supplied:
   <div class="itemizedlist"><ul><li><a name="d39e25253"></a><p>mit-clx, from MIT <a href="ftp://ftp.x.org/R5contrib/CLX.R5.02.tar.Z" target="_top">ftp://ftp.x.org/R5contrib/CLX.R5.02.tar.Z</a></p></li><li><a name="d39e25258"></a><p>new-clx, by <a href="http://www.uni-karlsruhe.de/~unk6/" target="_top">Gilbert Baumann</a>
    <a href="mailto:unk6@rz.uni-karlsruhe.de" target="_top">unk6@rz.uni-karlsruhe.de</a>.
    </p></li></ul></div></p></dd><dt><a name="d39e25267"></a><span class="term">postgresql632, postgresql642</span></dt><dd><p>Access <a href="http://www.PostgreSQL.org/" target="_top">PostgreSQL</a> from <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.
  </p></dd><dt><a name="d39e25280"></a><span class="term">queens</span></dt><dd><p>Compute the number of solutions to the n-queens
   problem on a n*n checkboard.
  </p></dd><dt><a name="regexp"></a><span class="term">regexp</span></dt><dd><p>The POSIX Regular Expressions matching, compiling,
    executing.</p><p>The following code computes the number of people who use
    a particular shell:
<pre class="programlisting">
(use-package :regexp)
(sexp ((h (make-hash-table :test #'equal :size 10)) (n 0))
  (with-open-file (f "/etc/passwd")
    (with-loop-split (s f ":")
      (let ((sh (seventh s)))
        (if (gethash sh h)
            (incf (gethash sh h))
            (setf (gethash sh h) 1)))))
  (with-hash-table-iterator (i h)
    (loop (multiple-value-bind (r k v) (i)
            (unless r (return))
            (format t "[~d] ~s~30t== ~5:d~%" (incf n) k v)))))
</pre></p><p>The same is done by the following Perl:
<pre class="programlisting">
#!/usr/local/bin/perl -w

use diagnostics;
use strict;

my $IN = $ARGV[0];
open(INF,"&lt; $IN") || die "$0: cannot read file [$IN]: $!\n;";
my %hash;
while (&lt;INF&gt;) {
  chop;
  my @all = split($ARGV[1]);
  my $shell = ($#all &gt;= 6 ? $all[6] : "");
  if ($hash{$shell}) { $hash{$shell} ++; }
  else { $hash{$shell} = 1; }
}
my $ii = 0;
for my $kk (keys(%hash)) {
  print "[",++$ii,"] \"",$kk,"\"  --  ",$hash{$kk},"\n";
}
</pre></p></dd><dt><a name="d39e25300"></a><span class="term">wildcard</span></dt><dd><p>Shell globbing</p></dd></dl></div></div></div><div class="section"><a name="dffi"></a><div class="titlepage"><div><h3 class="title"><a name="dffi"></a>Extensions-2.3. The Foreign Function Call Facility</h3></div><div><h2 class="subtitle">Platform dependent: many <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.</h2></div></div><p>A foreign function description is written as a Lisp file, and when
 compiled it produces a <tt>.c</tt> file which is then
 compiled by the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler and may be linked together with
 <tt>lisp.a</tt>.</p><p>All symbols relating to the foreign function interface are
 exported from the package FFI.  To use them,
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_use-package.html" target="_top"><tt>USE-PACKAGE</tt></a> "FFI")</tt>.</p><p>Special FFI forms may appear anywhere in the Lisp file.</p><div class="section"><a name="d39e25343"></a><div class="titlepage"><div><h4 class="title"><a name="d39e25343"></a>Overview</h4></div></div><p>These are the special FFI forms.  We have taken a pragmatic
 approach: the only foreign languages we support for now are <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
 and ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>.</p><div class="variablelist"><p><b>special FFI forms; <i><tt>name</tt></i>
   is any Lisp symbol; <i><tt>c-name</tt></i> is a
   string.</b></p><dl><dt><a name="def-c-type"></a><span class="term"><tt>(<tt>def-c-type</tt>
                <i><tt>name</tt></i>
                <i><tt>c-type</tt></i>)</tt></span></dt><dd><p>This form makes <i><tt>name</tt></i> a
  shortcut for <i><tt>c-type</tt></i>.  Note that
  <i><tt>c-type</tt></i> may already refer to name.
  Forward declarations of types are not possible, however.
 </p></dd><dt><a name="def-c-var"></a><span class="term"><tt>(<tt>def-c-var</tt>
                <i><tt>name</tt></i>
                {<i><tt>option</tt></i>}*)</tt></span></dt><dd><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b></p><p><b>: </b><tt>(:name
   <i><tt>c-name</tt></i>)</tt></p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b>|</p><p><b>: </b><tt>(:type
  <i><tt>c-type</tt></i>)</tt></p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b>|</p><p><b>: </b><tt>(:read-only
  <i><tt>boolean</tt></i>)</tt></p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b>|</p><p><b>: </b><tt>(:alloc
  <a href="#allocation"><i><tt>allocation</tt></i></a>)</tt></p><p>This form defines a foreign variable.
 <i><tt>name</tt></i> is the Lisp name, a regular Lisp
 symbol.</p><p>The <tt>:name</tt> option specifies the name, as
 seen from <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>, as a string.  If not specified, it is derived from
 the print name of the Lisp name.</p><p>The <tt>:type</tt> option specifies the variable's
 foreign type.</p><p>If the <tt>:read-only</tt> option is specified and
non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, it will be impossible to change the variable's value from
within Lisp (using <a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><tt>SETQ</tt></a> or similar).</p><p>The <tt>:alloc</tt> option can be either <tt>:none</tt>
 or <tt>:malloc-free</tt> and defaults to <tt>:none</tt>.  If it is <tt>:malloc-free</tt>,
 any values of type <a href="#c-string">c-string</a>, <a href="#c-ptr">c-ptr</a>, <a href="#c-ptr-null">c-ptr-null</a>, <a href="#c-array-ptr">c-array-ptr</a>
 within the foreign value are assumed to be pointers to
 <tt>malloc()</tt>-allocated storage, and when <a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><tt>SETQ</tt></a>
 replaces an old value by a new one, the old storage is freed using
 <tt>free()</tt> and the new storage allocated using
 <tt>malloc()</tt>.  If it is <tt>:none</tt>, <a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><tt>SETQ</tt></a>
 assumes that the pointers point to good storage (not
 <tt>NULL</tt>!) and overwrites the old values by the new
 ones.  This is dangerous (just think of overwriting a string with a
 longer one or storing some data in a <tt>NULL</tt>
 pointer...) and deprecated.</p></dd><dt><a name="def-call-out"></a><span class="term"><tt>(<tt>def-call-out</tt>
                <i><tt>name</tt></i>
                {<i><tt>option</tt></i>}*)</tt></span></dt><dd><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b></p><p><b>: </b><tt>(:name
   <i><tt>c-name</tt></i>)</tt></p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b><tt>(:arguments
   {(<i><tt>arg-name</tt></i> <i><tt>c-type</tt></i>
    [<a href="#param-mode"><i><tt>param-mode</tt></i></a> [<a href="#allocation"><i><tt>allocation</tt></i></a>]])}*)</tt> |</p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b>|</p><p><b>: </b><tt>(:return-type
   <i><tt>c-type</tt></i>
   [<a href="#allocation"><i><tt>allocation</tt></i></a>])</tt></p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b>|</p><p><b>: </b><tt>(:language
   <i><tt>language</tt></i>)</tt></p><p>This form defines a named call-out function (a foreign function
 called from Lisp: control flow temporarily leaves Lisp).  Any Lisp
 function call to <tt>#'<i><tt>name</tt></i></tt>
 is redirected to call the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function
 <i><tt>c-name</tt></i>.  The
 <i><tt>language</tt></i> is either <tt>:C</tt>
 (denotes K&amp;R <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>) or <tt>:STDC</tt> (denotes ANSI
 <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>) or <tt>:stdc-stdcall</tt> (denotes ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
 with <i>stdcall</i> calling convention).  It specifies
 whether the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function has been compiled by a K&amp;R <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
 compiler or by an ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler, and possibly the calling
 convention.</p></dd><dt><a name="def-call-in"></a><span class="term"><tt>(<tt>def-call-in</tt>
                <i><tt>name</tt></i>
                {<i><tt>option</tt></i>}*)</tt></span></dt><dd><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b><tt>(:name
   <i><tt>c-name</tt></i>)</tt> |</p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b></p><p><b>: </b><tt>(:arguments
   {(<i><tt>arg-name</tt></i> <i><tt>c-type</tt></i>
    [<a href="#param-mode"><i><tt>param-mode</tt></i></a> [<a href="#allocation"><i><tt>allocation</tt></i></a>]])}*)</tt></p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b>|</p><p><b>: </b><tt>(:return-type
   <i><tt>c-type</tt></i>
   [<a href="#allocation"><i><tt>allocation</tt></i></a>])</tt></p><p><b><i><tt>option</tt></i> ::==: </b></p><p><b>: </b>|</p><p><b>: </b><tt>(:language
   <i><tt>language</tt></i>)</tt></p><p>This form defines a named call-in function (i.e., a Lisp
 function called from the foreign language: control flow temporary
 enters Lisp).  Any <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function call to the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function
 <i><tt>c-name</tt></i> is redirected to call the Lisp
 function <tt>#'<i><tt>name</tt></i></tt>.  The
 <i><tt>language</tt></i> is either <tt>:c</tt>
 (denotes K&amp;R <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>) or <tt>:stdc</tt> (denotes ANSI
 <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>) or <tt>:stdc-stdcall</tt> (denotes ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
 with <i>stdcall</i> calling convention).  It specifies
 whether the calling code has been compiled by a K&amp;R <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
 compiler or by an ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler, and possibly the calling
 convention.
</p></dd><dt><a name="def-c-call-out"></a><span class="term"><tt>(<tt>def-c-call-out</tt>
                <i><tt>name</tt></i>
                {<i><tt>option</tt></i>}*)</tt></span></dt><dd><p>This is equivalent to <a href="#def-call-out"><tt>def-call-out</tt></a> with
   <tt>:language</tt> <tt>:stdc</tt>.
 </p></dd><dt><a name="def-c-call-in"></a><span class="term"><tt>(<tt>def-c-call-in</tt>
                <i><tt>name</tt></i>
                {<i><tt>option</tt></i>}*)</tt></span></dt><dd><p>This is equivalent to <a href="#def-call-in"><tt>def-call-in</tt></a> with
   <tt>:language</tt> <tt>:stdc</tt>.
 </p></dd><dt><a name="def-c-struct"></a><span class="term"><tt>(<tt>def-c-struct</tt>
                <i><tt>name</tt></i>
                (<i><tt>ident</tt></i>
                <i><tt>c-type</tt></i>)*)</tt></span></dt><dd><p>This form defines <i><tt>name</tt></i> to
  be both a defstruct structure type and a foreign <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
  type with the given slots.
 </p></dd><dt><a name="def-c-enum"></a><span class="term"><tt>(<tt>def-c-enum</tt>
                <i><tt>name</tt></i>
                {<i><tt>ident</tt></i> |
                (<i><tt>ident</tt></i>
                [<i><tt>value</tt></i>])}*)</tt></span></dt><dd><p>This form defines <i><tt>ident</tt></i>s
  as constants, similarly to the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> declaration enum {
  <i><tt>ident</tt></i> [= <i><tt>value</tt></i>],
  ... };
 </p></dd><dt><a name="c-lines"></a><span class="term"><tt>(<tt>c-lines</tt>
                <i><tt>format-string</tt></i>
                {<i><tt>argument</tt></i>}*)</tt></span></dt><dd><p>This form outputs the string <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><tt>FORMAT</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> <i><tt>format-string</tt></i>
  {<i><tt>argument</tt></i>}*)</tt> to the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
  output file.  This is a rarely needed low-level facility.
 </p></dd><dt><a name="element"></a><span class="term"><tt>(<tt>element</tt>
     <i><tt>c-place</tt></i>
     <i><tt>index<sub>1</sub></tt></i> ...
     <i><tt>index<sub>n</sub></tt></i>)</tt></span></dt><dd><p>Array element: If <i><tt>c-place</tt></i>
  is of foreign type <tt>(c-array
  <i><tt>c-type</tt></i>
  <i><tt>dim<sub>1</sub></tt></i>
  ... <i><tt>dim<sub>n</sub></tt></i>)</tt>
  and 0 &#8804; <i><tt>index<sub>1</sub></tt></i>
  &lt; <i><tt>dim<sub>1</sub></tt></i>, ..., 0
  &#8804; <i><tt>index<sub>n</sub></tt></i> &lt;
  <i><tt>dim<sub>n</sub></tt></i>, this will be
  the place corresponding to <tt>(<a href="http://www.lisp.org/HyperSpec/Body/acc_aref.html" target="_top"><tt>AREF</tt></a>
  <i><tt>c-place</tt></i>
  <i><tt>index<sub>1</sub></tt></i>
  ... <i><tt>index<sub>n</sub></tt></i>)</tt> or
  <tt><i><tt>c-place</tt></i>[<i><tt>index<sub>1</sub></tt></i>]...[<i><tt>index<sub>n</sub></tt></i>]</tt>.
  It is a place of type <i><tt>c-type</tt></i>.
  If <i><tt>c-place</tt></i> is of foreign type <tt>(c-array-max <i><tt>c-type</tt></i>
  <i><tt>dim</tt></i>)</tt> and 0 &#8804;
  <i><tt>index</tt></i> &lt; <i><tt>dim</tt></i>,
  this will be the place corresponding to <tt>(<a href="http://www.lisp.org/HyperSpec/Body/acc_aref.html" target="_top"><tt>AREF</tt></a>
  <i><tt>c-place</tt></i>
  <i><tt>index</tt></i>)</tt> or
  <tt><i><tt>c-place</tt></i>[<i><tt>index</tt></i>]</tt>.
  It is a place of type <i><tt>c-type</tt></i>.
</p></dd><dt><a name="deref"></a><span class="term"><tt>(<tt>deref</tt>
                <i><tt>c-place</tt></i>)</tt></span></dt><dd><p>Dereference pointer: If
  <i><tt>c-place</tt></i> is of foreign type <tt>(<a href="#c-ptr">c-ptr</a> <i><tt>c-type</tt></i>)</tt> or
  <tt>(<a href="#c-ptr-null">c-ptr-null</a>
  <i><tt>c-type</tt></i>)</tt>, this will be the place
  the pointer points to.  It is a place of type
  <i><tt>c-type</tt></i>.  For <tt>(<a href="#c-ptr-null">c-ptr-null</a> <i><tt>c-type</tt></i>)</tt>,
  the <i><tt>c-place</tt></i> may not be <tt>NULL</tt>.
</p></dd><dt><a name="slot"></a><span class="term"><tt>(<tt>slot</tt>
                <i><tt>c-place</tt></i>
                <i><tt>slot-name</tt></i>)</tt></span></dt><dd><p>Struct or union component: If
  <i><tt>c-place</tt></i> is of foreign type <tt>(<a href="#c-struct">c-struct</a> <i><tt>class</tt></i>
  ... (<i><tt>slot-name</tt></i>
  <i><tt>c-type</tt></i>) ...)</tt> or of type <tt>(<a href="#c-union">c-union</a>  ... (<i><tt>slot-name</tt></i>
  <i><tt>c-type</tt></i>) ...)</tt>, this will be of
  type <i><tt>c-type</tt></i>.
  </p></dd><dt><a name="cast"></a><span class="term"><tt>(<tt>cast</tt>
                <i><tt>c-place</tt></i>
                <i><tt>c-type</tt></i>)</tt></span></dt><dd><p>Type change: A place denoting the same memory
  locations as the original <i><tt>c-place</tt></i>, but of
  type <i><tt>c-type</tt></i>.
  </p></dd><dt><a name="typeof"></a><span class="term"><tt>(<tt>typeof</tt>
                <i><tt>c-place</tt></i>)</tt></span></dt><dd><p>returns the <i><tt>c-type</tt></i>
  corresponding to the <i><tt>c-place</tt></i>.
  </p></dd><dt><a name="sizeof"></a><span class="term"><tt>(<tt>sizeof</tt>
                <i><tt>c-type</tt></i>)</tt>,
                <tt>(<tt>sizeof</tt>
                <i><tt>c-place</tt></i>)</tt></span></dt><dd><p>The first form returns the size and alignment of a
  <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> type <i><tt>c-type</tt></i>, measured in bytes.</p><p>The second form returns the size and alignment of the
  <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> type of <i><tt>c-place</tt></i>, measured in bytes.
  </p></dd><dt><a name="bitsizeof"></a><span class="term"><tt>(<tt>bitsizeof</tt>
                <i><tt>c-type</tt></i>)</tt>,
                <tt>(<tt>bitsizeof</tt>
                <i><tt>c-place</tt></i>)</tt></span></dt><dd><p>The first form returns the size and alignment of the
  <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> type <i><tt>c-type</tt></i>, measured in bits.</p><p>The second form returns the size and alignment of the
  <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> type of <i><tt>c-place</tt></i>, measured in
  bits.</p></dd><dt><a name="validp"></a><span class="term"><tt>(<tt>validp</tt>
                <i><tt>foreign-entity</tt></i>)</tt></span></dt><dd><p>This predicate returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> if the
  <i><tt>foreign-entity</tt></i> (e.g. the Lisp equivalent of
  a <tt>c-pointer</tt>) refers to a pointer which is invalid
  because it comes from a previous Lisp session.  It returns <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> if
  <i><tt>foreign-entity</tt></i> can be used within the
  current Lisp process.</p></dd></dl></div></div><div class="section"><a name="d39e26347"></a><div class="titlepage"><div><h4 class="title"><a name="d39e26347"></a>(Foreign) <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> types</h4></div></div><p>Foreign <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> types are used in the FFI. They are
 <i>not</i> regular <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a> types or <b>CLOS</b>
 classes.</p><p>A <i><tt>c-type</tt></i> is either a predefined
 <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> type or the name of a type defined by <a href="#def-c-type"><tt>def-c-type</tt></a>.</p><div class="variablelist"><p><b>the predefined <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> types
 (<i><tt>c-type</tt></i>)</b></p><dl><dt><a name="simple-c-type"></a><span class="term"><i><tt>simple-c-type</tt></i></span></dt><dd><p><b>the simple <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> types</b></p><p><b>Lisp name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>void</p><p><b>ILU
 equivalent: </b></p><p><b>Comment: </b>as a result type only</p><p><b>Lisp name: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><tt>BOOLEAN</tt></a></p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><tt>BOOLEAN</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>int</p><p><b>ILU
 equivalent: </b>BOOLEAN</p><p><b>Lisp name: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a></p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><tt>CHARACTER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>char</p><p><b>ILU
 equivalent: </b>SHORT CHARACTER</p><p><b>Lisp name: </b>char</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>signed char</p><p><b>Lisp name: </b>uchar</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>unsigned char</p><p><b>Lisp name: </b>short</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>short</p><p><b>Lisp name: </b>ushort</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>unsigned short</p><p><b>Lisp name: </b>int</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>int</p><p><b>Lisp name: </b>uint</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>unsigned int</p><p><b>Lisp name: </b>long</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>long</p><p><b>Lisp name: </b>ulong</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>unsigned long</p><p><b>Lisp name: </b>uint8</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>uint8</p><p><b>ILU
 equivalent: </b>BYTE</p><p><b>Lisp name: </b>sint8</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a> 8)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>sint8</p><p><b>Lisp name: </b>uint16</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 16)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>uint16</p><p><b>ILU
 equivalent: </b>SHORT CARDINAL</p><p><b>Lisp name: </b>sint16</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a> 16)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>sint16</p><p><b>ILU
 equivalent: </b>SHORT INTEGER</p><p><b>Lisp name: </b>uint32</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 32)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>uint32</p><p><b>ILU
 equivalent: </b>CARDINAL</p><p><b>Lisp name: </b>sint32</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a> 32)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>sint32</p><p><b>ILU
 equivalent: </b>INTEGER</p><p><b>Lisp name: </b>uint64</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 64)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>uint64</p><p><b>ILU
 equivalent: </b>LONG CARDINAL</p><p><b>Comment: </b>does not work on all platforms</p><p><b>Lisp name: </b>sint64</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a> 64)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>sint64</p><p><b>ILU
 equivalent: </b>LONG INTEGER</p><p><b>Comment: </b>does not work on all platforms</p><p><b>Lisp name: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a></p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>SINGLE-FLOAT</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>float</p><p><b>Lisp name: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a></p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><tt>DOUBLE-FLOAT</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>double</p></dd><dt><a name="c-pointer"></a><span class="term">c-pointer</span></dt><dd><p>This type corresponds to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
  void*, an opaque pointer.
 </p></dd><dt><a name="c-string"></a><span class="term">c-string</span></dt><dd><p>This type corresponds to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
  char*, a zero-terminated string.  Its Lisp equivalent is
  a string, without the trailing zero character.
 </p></dd><dt><a name="c-struct"></a><span class="term"><tt>(c-struct
     <i><tt>class</tt></i>
  (<i><tt>ident<sub>1</sub></tt></i>
   <i><tt>c-type<sub>1</sub></tt></i>) ...
  (<i><tt>ident<sub>n</sub></tt></i>
   <i><tt>c-type<sub>n</sub></tt></i>))</tt></span></dt><dd><p>This type is equivalent to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
 struct { <i><tt>c-type<sub>1</sub></tt></i>
 <i><tt>ident<sub>1</sub></tt></i>; ...;
 <i><tt>c-type<sub>n</sub></tt></i>
 <i><tt>ident<sub>n</sub></tt></i>; }.
 Its Lisp equivalent is: if <i><tt>class</tt></i> is
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a>, a <a href="http://www.lisp.org/HyperSpec/Body/typ_simple-vector.html" target="_top"><tt>SIMPLE-VECTOR</tt></a>; if
 <i><tt>class</tt></i> is <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><tt>LIST</tt></a>, a list; if
 <i><tt>class</tt></i> is a symbol naming a structure or
 <b>CLOS</b> class, an instance of this class, with slots of names
 <i><tt>ident<sub>1</sub></tt></i>,
 ... ,<i><tt>ident<sub>n</sub></tt></i>.
 </p></dd><dt><a name="c-union"></a><span class="term"><tt>(c-union
  (<i><tt>ident<sub>1</sub></tt></i>
   <i><tt>c-type<sub>1</sub></tt></i>) ...
  (<i><tt>ident<sub>n</sub></tt></i>
   <i><tt>c-type<sub>n</sub></tt></i>))</tt></span></dt><dd><p>This type is equivalent to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
  union { <i><tt>c-type<sub>1</sub></tt></i>
  <i><tt>ident<sub>1</sub></tt></i>; ...;
  <i><tt>c-type<sub>n</sub></tt></i>
  <i><tt>ident<sub>n</sub></tt></i>;
  }.
  Conversion to and from Lisp assumes that a value is to be viewed as
  being of <i><tt>c-type<sub>1</sub></tt></i>.
 </p></dd><dt><a name="c-array"></a><span class="term"><tt>(c-array
   <i><tt>c-type</tt></i>
   <i><tt>dim<sub>1</sub></tt></i> ...
   <i><tt>dim<sub>n</sub></tt></i>)</tt></span></dt><dd><p>This type is equivalent to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
  <i><tt>c-type</tt></i>
  [<i><tt>dim<sub>1</sub></tt></i>]
  ... [<i><tt>dim<sub>n</sub></tt></i>].
  Note that when an array is passed as an argument to a function in
  <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>, it is actually passed as a pointer; you therefore have to
  write <tt>(<a href="#c-ptr">c-ptr</a> (<a href="#c-array">c-array</a> ...))</tt> for this
  argument's type.
 </p></dd><dt><a name="c-array-max"></a><span class="term"><tt>(c-array-max
               <i><tt>c-type</tt></i>
               <i><tt>maxdimension</tt></i>)</tt></span></dt><dd><p>This type is equivalent to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
  <i><tt>c-type</tt></i>
  [<i><tt>maxdimension</tt></i>], an array containing
  up to <i><tt>maxdimension</tt></i> elements.  The array is
  zero-terminated if it contains less than
  <i><tt>maxdimension</tt></i> elements.  Conversion from
  Lisp of an array with more than
  <i><tt>maxdimension</tt></i> elements silently ignores the
  superfluous elements.
 </p></dd><dt><a name="c-function"></a><span class="term"><tt>(c-function
    (<tt>:arguments</tt>
      {(<i><tt>arg-name</tt></i> <i><tt>a-c-type</tt></i>
        [<a href="#param-mode"><i><tt>param-mode</tt></i></a> [<a href="#allocation"><i><tt>allocation</tt></i></a>]])}*)
    (<tt>:return-type</tt> <i><tt>r-c-type</tt></i>
       [<a href="#allocation"><i><tt>allocation</tt></i></a>])
    (<tt>:language</tt>
     <i><tt>language</tt></i>))</tt></span></dt><dd><p>This type designates a <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function that can be
  called according to the given prototype <tt>(<i><tt>r-c-type</tt></i> (*)
  (<i><tt>a-c-type<sub>1</sub></tt></i>,
  ...))</tt>.
  The <i><tt>language</tt></i> is either
  <tt>:c</tt> (denotes K&amp;R <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>) or
  <tt>:stdc</tt> (denotes ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>) or
  <tt>:stdc-stdcall</tt> (denotes ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> with
  <i>stdcall</i> calling convention).  It specifies
  whether the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function has been compiled by a K&amp;R <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
  compiler or by an ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler, and possibly the calling
  convention.  Conversion between <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> functions and Lisp functions
  is transparent.
 </p></dd><dt><a name="c-ptr"></a><span class="term"><tt>(c-ptr
                <i><tt>c-type</tt></i>)</tt></span></dt><dd><p>This type is equivalent to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
  <i><tt>c-type</tt></i> *: a pointer to a single
  item of the given <i><tt>c-type</tt></i>.
 </p></dd><dt><a name="c-ptr-null"></a><span class="term"><tt>(c-ptr-null
                <i><tt>c-type</tt></i>)</tt></span></dt><dd><p>This type is also equivalent to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
  <i><tt>c-type</tt></i> *: a pointer to a single
  item of the given <i><tt>c-type</tt></i>, with the exception
  that <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> <tt>NULL</tt> corresponds to Lisp <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
 </p></dd><dt><a name="c-array-ptr"></a><span class="term"><tt>(c-array-ptr
                <i><tt>c-type</tt></i>)</tt></span></dt><dd><p>This type is equivalent to what <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> calls
  <i><tt>c-type</tt></i> (*)[]: a pointer to a
  zero-terminated array of items of the given
  <i><tt>c-type</tt></i>.
 </p></dd></dl></div></div><div class="section"><a name="d39e27177"></a><div class="titlepage"><div><h4 class="title"><a name="d39e27177"></a>Foreign variables</h4></div></div><p>Foreign variables are variables whose storage is allocated in the
 foreign language module.  They can nevertheless be evaluated and
 modified through <a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><tt>SETQ</tt></a>, just as normal variables can, except that the
 range of allowed values is limited according to the variable's foreign
 type.  Note that for a foreign variable <i><tt>x</tt></i> the
 form <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_eql.html" target="_top"><tt>EQL</tt></a> <i><tt>x</tt></i>
 <i><tt>x</tt></i>)</tt> is not necessarily true, since
 every time <i><tt>x</tt></i> is evaluated its foreign value
 is converted to a freshly created Lisp value.  Foreign variables are
 defined using <a href="#def-c-var"><tt>def-c-var</tt></a>.</p></div><div class="section"><a name="d39e27209"></a><div class="titlepage"><div><h4 class="title"><a name="d39e27209"></a>Operations on foreign places</h4></div></div><p>A foreign variable <i><tt>name</tt></i> defined by
 <a href="#def-c-var"><tt>def-c-var</tt></a> defines a "place", i.e., a form which can also be used as
 argument to <a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a>.  (An "lvalue" in <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> terminology.)  The
 following operations are available on foreign places: <a href="#element"><tt>element</tt></a>,
 <a href="#deref"><tt>deref</tt></a>, <a href="#slot"><tt>slot</tt></a>, <a href="#cast"><tt>cast</tt></a>, <a href="#typeof"><tt>typeof</tt></a>, <a href="#sizeof"><tt>sizeof</tt></a>, <a href="#bitsizeof"><tt>bitsizeof</tt></a>.</p></div><div class="section"><a name="d39e27257"></a><div class="titlepage"><div><h4 class="title"><a name="d39e27257"></a>Foreign functions</h4></div></div><p>Foreign functions are functions which are defined in the foreign
 language.  There are <i>named foreign functions</i>
 (imported via <a href="#def-call-out"><tt>def-call-out</tt></a> or created via <a href="#def-call-in"><tt>def-call-in</tt></a>) and
 <i>anonymous foreign functions</i>; they arise through
 conversion of function pointers.</p><p>A <i>"call-out"</i> function is a foreign function
 called from Lisp: control flow temporarily leaves Lisp.  A
 <i>"call-in"</i> function is a Lisp function called from
 the foreign language: control flow temporary enters Lisp.</p><p>The following forms define foreign functions: <a href="#def-call-in"><tt>def-call-in</tt></a>,
 <a href="#def-call-out"><tt>def-call-out</tt></a>, <a href="#def-c-call-in"><tt>def-c-call-in</tt></a>, <a href="#def-c-call-out"><tt>def-c-call-out</tt></a>.</p></div><div class="section"><a name="allocation"></a><div class="titlepage"><div><h4 class="title"><a name="allocation"></a>Argument and result passing conventions</h4></div></div><p>When passed to and from functions, allocation of arguments and
 results is handled as follows:</p><p>Values of <a href="#simple-c-type"><i><tt>simple-c-type</tt></i></a>, <a href="#c-pointer">c-pointer</a> are passed on the stack,
 with dynamic extent. The <a href="#allocation"><i><tt>allocation</tt></i></a> is effectively ignored.</p><p>Values of type <a href="#c-string">c-string</a>, <a href="#c-ptr">c-ptr</a>, <a href="#c-ptr-null">c-ptr-null</a>, <a href="#c-array-ptr">c-array-ptr</a>
 need storage.  The <a href="#allocation"><i><tt>allocation</tt></i></a> specifies the allocation policy:</p><p><b><a href="#allocation"><i><tt>allocation</tt></i></a>: </b><tt>:none</tt></p><p><b>meaning: </b>no storage is allocated.</p><p><b><a href="#allocation"><i><tt>allocation</tt></i></a>: </b><tt>:alloca</tt></p><p><b>meaning: </b>allocation of storage on the
   stack, which has dynamic extent.</p><p><b><a href="#allocation"><i><tt>allocation</tt></i></a>: </b><tt>:malloc-free</tt></p><p><b>meaning: </b>storage will be allocated
   via <tt>malloc()</tt> and freed via
   <tt>free()</tt>.</p><p>If no <a href="#allocation"><i><tt>allocation</tt></i></a> is specified, the default <a href="#allocation"><i><tt>allocation</tt></i></a> is
 <tt>:none</tt> for most types, but <tt>:alloca</tt> for <a href="#c-string">c-string</a> and <a href="#c-ptr">c-ptr</a> and
 <a href="#c-ptr-null">c-ptr-null</a> and <a href="#c-array-ptr">c-array-ptr</a> and for <tt>:out</tt> arguments. [Subject to
 change!]  The <tt>:malloc-free</tt> policy provides the ability to pass
 arbitrarily nested structs containing pointers pointing to structs
 ... within a single conversion.</p><div class="variablelist"><dl><dt><a name="d39e27413"></a><span class="term">For call-out functions:</span></dt><dd><div class="variablelist"><dl><dt><a name="d39e27418"></a><span class="term">For arguments passed from Lisp to <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>:</span></dt><dd><div class="variablelist"><dl><dt><a name="d39e27427"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:malloc-free</tt>:</span></dt><dd><p>Lisp allocates the storage using malloc() and
     never deallocates it.  The <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function is supposed to call
     free() when done with it.
    </p></dd><dt><a name="d39e27444"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:alloca</tt>:</span></dt><dd><p>Lisp allocates the storage on the stack, with
     dynamic extent.  It is freed when the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function returns.
    </p></dd><dt><a name="d39e27461"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:none</tt>:</span></dt><dd><p>Lisp assumes that the pointer already points to a
     valid area of the proper size and puts the result value there.
     This is dangerous! and deprecated.
    </p></dd></dl></div></dd><dt><a name="d39e27474"></a><span class="term">For results passed from <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> to Lisp:</span></dt><dd><div class="variablelist"><dl><dt><a name="d39e27483"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:malloc-free</tt>:</span></dt><dd><p>Lisp calls free() on it when done.
    </p></dd><dt><a name="d39e27496"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:none</tt>:</span></dt><dd><p>Lisp does nothing.
    </p></dd></dl></div></dd></dl></div></dd><dt><a name="d39e27509"></a><span class="term">For call-in functions:</span></dt><dd><div class="variablelist"><dl><dt><a name="d39e27514"></a><span class="term">For arguments passed from <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> to Lisp:</span></dt><dd><div class="variablelist"><dl><dt><a name="d39e27523"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:malloc-free</tt>:</span></dt><dd><p>Lisp calls free() on it when done.
     </p></dd><dt><a name="d39e27536"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:alloca</tt> or <tt>:none</tt>:</span></dt><dd><p>Lisp does nothing.
     </p></dd></dl></div></dd><dt><a name="d39e27552"></a><span class="term">For results passed from Lisp to <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>:</span></dt><dd><div class="variablelist"><dl><dt><a name="d39e27561"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:malloc-free</tt>:</span></dt><dd><p>Lisp allocates the storage using malloc() and
      never deallocates it.  The <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> function is supposed to call
      free() when done with it.
     </p></dd><dt><a name="d39e27578"></a><span class="term">If <a href="#allocation"><i><tt>allocation</tt></i></a> is <tt>:none</tt>:</span></dt><dd><p>Lisp assumes that the pointer already points to a
     valid area of the proper size and puts the result value there.
     This is dangerous! and deprecated.
    </p></dd></dl></div></dd></dl></div></dd></dl></div><p><a name="param-mode"></a>A function parameter's <a href="#param-mode"><i><tt>param-mode</tt></i></a> may be</p><div class="variablelist"><dl><dt><a name="d39e27598"></a><span class="term"><tt>:in</tt> (means: read-only):</span></dt><dd><p>The caller passes information to the callee.
  </p></dd><dt><a name="d39e27606"></a><span class="term"><tt>:out</tt> (means: write-only):</span></dt><dd><p>The callee passes information back to the caller on
   return.  When viewed as a Lisp function, there is no Lisp argument
   corresponding to this, instead it means an additional return value.
  </p></dd><dt><a name="d39e27614"></a><span class="term"><tt>:in-out</tt> (means: read-write):</span></dt><dd><p>Information is passed from the caller to the callee
   and then back to the caller.  When viewed as a Lisp function, the
   <tt>:out</tt> value is returned as an additional multiple value.
  </p></dd></dl></div><p>The default is <tt>:in</tt>.</p><p>[Currently, only <tt>:in</tt> is fully implemented.  <tt>:out</tt> works only
 with <a href="#allocation"><i><tt>allocation</tt></i></a> = <tt>:alloca</tt>.]</p><div class="variablelist"><dl><dt><a name="d39e27646"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><p><a href="#allocation"><i><tt>allocation</tt></i></a> may not be <tt>:malloc-free</tt> because there
 is no commonly used <tt>malloc()/free()</tt> library
 function.</p><p>The <a href="#allocation"><i><tt>allocation</tt></i></a> may be followed by a register specification,
 any of the symbols <tt>:d0</tt>, <tt>:d1</tt>,
 <tt>:d2</tt>, <tt>:d3</tt>,
 <tt>:d4</tt>, <tt>:d5</tt>,
 <tt>:d6</tt>, <tt>:d7</tt>,
 <tt>:a0</tt>, <tt>:a1</tt>,
 <tt>:a2</tt>, <tt>:a3</tt>,
 <tt>:a4</tt>, <tt>:a5</tt>,
 <tt>:a6</tt>, each representing one 680x0 register.
 This works only for integral types: integers, pointers, <a href="#c-string">c-string</a>,
 <a href="#c-function">c-function</a>.
</p></dd></dl></div><p>Passing <a href="#c-struct">c-struct</a>, <a href="#c-union">c-union</a>, <a href="#c-array">c-array</a>, <a href="#c-array-max">c-array-max</a> values as
 arguments (not via pointers) is only possible to the extent the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>
 compiler supports it. Most <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compilers do it right, but some
 <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compilers (such as gcc on hppa) have problems with this.</p><div class="variablelist"><dl><dt><a name="d39e27756"></a><span class="term">Platform dependent: only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built
  <i>with</i> compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><p>A <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> place <i><tt>custom:*foreign-encoding*</tt></i>
 contains the encoding for characters and strings passed through the
 FFI.  Its value must be a 1:1 encoding, i.e., an encoding in which
 every character is represented by one byte.
</p></dd></dl></div></div><div class="section"><a name="d39e27782"></a><div class="titlepage"><div><h4 class="title"><a name="d39e27782"></a>Examples</h4></div></div><div class="example"><p><a name="d39e27785"></a><b>Simple declarations and access</b></p><p>The <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> declaration

<pre class="programlisting">
struct foo {
    int a;
    struct foo * b[100];
};
</pre>

corresponds to

<pre class="programlisting">
(def-c-struct foo
  (a int)
  (b (c-array (c-ptr foo) 100)))
</pre></p><p>The element access

<pre class="programlisting">
struct foo f;
f.b[7].a
</pre>

corresponds to

<pre class="programlisting">
(declare (type foo f))
(foo-a (aref (foo-b f) 7)) or (slot-value (aref (slot-value f 'b) 7) 'a)
</pre></p></div><div class="example"><p><a name="d39e27806"></a><b>external <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> variable and some accesses</b></p><p><pre class="programlisting">
struct bar {
    short x, y;
    char a, b;
    int z;
    struct bar * n;
};

extern struct bar * my_struct;

my_struct-&gt;x++;
my_struct-&gt;a = 5;
my_struct = my_struct-&gt;n;
</pre>

corresponds to

<pre class="programlisting">
(def-c-struct bar
  (x short)
  (y short)
  (a char)
  (b char) ; or (b character) if it represents a character, not a number
  (z int)
  (n (c-ptr bar)))

(def-c-var my_struct (:type (c-ptr bar)))

(setq my_struct (let ((s my_struct)) (incf (slot-value s 'x)) s))
or (incf (slot my_struct 'x))
(setq my_struct (let ((s my_struct)) (setf (slot-value s 'a) 5) s))
or (setf (slot my_struct 'a) 5)
(setq my_struct (slot-value my_struct 'n))
or (setq my_struct (deref (slot my_struct 'n)))
</pre></p></div><div class="example"><p><a name="d39e27819"></a><b>Calling an external function</b></p><p>On ANSI <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> systems, <tt>stdlib.h</tt> contains
the declarations:

<pre class="programlisting">
typedef struct {
  int quot;   /* Quotient */
  int rem;    /* Remainder */
} div_t;
extern div_t div (int numer, int denom);
</pre>

This translates to

<pre class="programlisting">
(def-c-struct div_t
  (quot int)
  (rem int))
(def-c-call-out div (:arguments (numer int) (denom int))
                    (:return-type div_t))
</pre>

Sample call from within Lisp:

<pre class="programlisting">
&gt; (div 20 3)
#S(DIV :QUOT 6 :REM 2)
</pre></p></div><div class="example"><p><a name="d39e27839"></a><b>Another example for calling an external function</b></p><p>Suppose the following is defined in a file
 <tt>cfun.c</tt>:

<pre class="programlisting">
struct cfunr { int x; char *s; };
struct cfunr * cfun (i,s,r,a)
    int i;
    char *s;
    struct cfunr * r;
    int a[10];
{
    int j;
    struct cfunr * r2;
    printf("i = %d\n", i);
    printf("s = %s\n", s);
    printf("r-&gt;x = %d\n", r-&gt;x);
    printf("r-&gt;s = %s\n", r-&gt;s);
    for (j = 0; j &lt; 10; j++) printf("a[%d] = %d.\n", j, a[j]);
    r2 = (struct cfunr *) malloc (sizeof (struct cfunr));
    r2-&gt;x = i+5;
    r2-&gt;s = "A C string";
    return r2;
}
</pre>

It is possible to call this function from Lisp using the file
<tt>callcfun.lisp</tt> (do not call it
<tt>cfun.lisp</tt> - <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><tt>COMPILE-FILE</tt></a> would overwrite
<tt>cfun.c</tt>) whose contents is:

<pre class="programlisting">
(in-package "TEST-C-CALL" :use '("LISP" "FFI"))
(def-c-struct cfunr (x int) (s c-string))
(def-c-call-out cfun (:arguments (i int)
                                 (s c-string)
                                 (r (c-ptr cfunr) :in :alloca)
                                 (a (c-ptr (c-array int 10)) :in :alloca))
                     (:return-type (c-ptr cfunr)))
(defun call-cfun ()
  (cfun 5 "A Lisp string" (make-cfunr :x 10 :s "Another Lisp string")
        '#(0 1 2 3 4 5 6 7 8 9)))
</pre>

Use the module facility:

<pre class="programlisting">
$ clisp-link create-module-set cfun callcfun.c
$ cc -O -c cfun.c
$ cd cfun
$ ln -s ../cfun.o cfun.o
Add cfun.o to NEW_LIBS and NEW_FILES in link.sh.
$ cd ..
$ base/lisp.run -M base/lispinit.mem -c callcfun.lisp
$ clisp-link add-module-set cfun base base+cfun
$ base+cfun/lisp.run -M base+cfun/lispinit.mem -i callcfun
&gt; (test-c-call::call-cfun)
i = 5
s = A Lisp string
r-&gt;x = 10
r-&gt;s = Another Lisp string
a[0] = 0.
a[1] = 1.
a[2] = 2.
a[3] = 3.
a[4] = 4.
a[5] = 5.
a[6] = 6.
a[7] = 7.
a[8] = 8.
a[9] = 9.
#S(TEST-C-CALL::CFUNR :X 10 :S "A C string")
&gt;
$ rm -r base+cfun
</pre></p><p>Note that there is a memory leak here: The return value
<tt>r2</tt> of <tt>cfun()</tt> is
<tt>malloc()</tt>ed but never <tt>free()</tt>d.
Specifying

<pre class="programlisting">
(:return-type (c-ptr cfunr) :malloc-free)
</pre>

is not an alternative because this would also

<tt>free(r2-&gt;x)</tt> but <tt>r2-&gt;x</tt> is a
pointer to static data.</p></div><div class="example"><p><a name="d39e27891"></a><b>call-in</b></p><p>To sort an array of double-floats using the Lisp function
 <tt>sort</tt> instead of the <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> library function
 <tt>qsort()</tt>, one can use the following interface code
 <tt>sort1.c</tt>.  The main problem is to pass a
 variable-sized array.

<pre class="programlisting">
extern void lispsort_begin (int);
void* lispsort_function;
void lispsort_double (int n, double * array)
{
    double * sorted_array;
    int i;
    lispsort_begin(n); /* store #'sort2 in lispsort_function */
    sorted_array = ((double * (*) (double *)) lispsort_function) (array);
    for (i = 0; i &lt; n; i++) array[i] = sorted_array[i];
    free(sorted_array);
}
</pre>

This is accompanied by <tt>sort2.lisp</tt>:

<pre class="programlisting">
(use-package "FFI")
(def-call-in lispsort_begin (:arguments (n int))
                            (:return-type nil)
                            (:language :stdc))
(def-c-var lispsort_function (:type c-pointer))
(defun lispsort_begin (n)
  (setf (cast lispsort_function
              `(c-function
                 (:arguments (v (c-ptr (c-array double-float ,n))))
                 (:return-type (c-ptr (c-array double-float ,n))
                               :malloc-free)))
        #'sort2))
(defun sort2 (v)
  (declare (type vector v))
  (sort v #'&lt;))
</pre>

To test this, use the following test file <tt>sorttest.lisp</tt>:

<pre class="programlisting">
(def-call-out sort10
              (:name "lispsort_double")
              (:language :stdc)
              (:arguments (n int)
                          (array (c-ptr (c-array double-float 10))
                                 :in-out)))
</pre>

Now try

<pre class="programlisting">
$ clisp-link create-module-set sort sort2.c sorttest.c
$ cc -O -c sort1.c
$ cd sort
$ ln -s ../sort1.o sort1.o
Add sort1.o to NEW_LIBS and NEW_FILES in link.sh.
$ cd ..
$ base/lisp.run -M base/lispinit.mem -c sort2.lisp sorttest.lisp
$ clisp-link add-module-set sort base base+sort
$ base+sort/lisp.run -M base+sort/lispinit.mem -i sort2 sorttest
&gt; (sort10 10 '#(0.501d0 0.528d0 0.615d0 0.550d0 0.711d0
                0.523d0 0.585d0 0.670d0 0.271d0 0.063d0))
#(0.063d0 0.271d0 0.501d0 0.523d0 0.528d0 0.55d0 0.585d0 0.615d0 0.67d0 0.711d0)
$ rm -r base+sort
</pre></p></div></div></div><div class="section"><a name="affi"></a><div class="titlepage"><div><h3 class="title"><a name="affi"></a>Extensions-2.4. The Amiga Foreign Function Call Facility</h3></div><div><h2 class="subtitle">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</h2></div></div><p><b>Another Foreign Function Interface</b> All symbols relating to the simple foreign function interface are
 exported from the package &#8220;AFFI&#8221;. To use them,
 <tt>(<a href="http://www.lisp.org/HyperSpec/Body/fun_use-package.html" target="_top"><tt>USE-PACKAGE</tt></a> "AFFI")</tt>.</p><div class="section"><a name="d39e27952"></a><div class="titlepage"><div><h4 class="title"><a name="d39e27952"></a>Design issues</h4></div></div><p>AFFI was designed to be small in size but powerful enough to use
most library functions.  Lisp files may be compiled to
<tt>.fas</tt> files without the need to load function
definition files at run-time and without external <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> or linker
support.  Memory images can be created, provided that the function
libraries are opened at run-time.</p><p>Therefore, AFFI supports only primitive <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> types (integers
8, 16 and 32 bits wide, signed or unsigned, pointers) and defines no new
types or classes.  Foreign functions are not first-class objects (you
can define a lambda yourself), name spaces are separate.</p><p>The AFFI does no tracking of resources.  Use <a href="#final"><tt>ext:finalize</tt></a>.</p></div><div class="section"><a name="d39e27976"></a><div class="titlepage"><div><h4 class="title"><a name="d39e27976"></a>Overview</h4></div></div><p>These are the AFFI forms:</p><p><tt>(declare-library-base
 <i><tt>keyword-base</tt></i>
 <i><tt>library-name</tt></i>)</tt></p><p><tt>(require-library-functions
 <i><tt>library-name</tt></i> [(:import
 {<i><tt>string-name</tt></i>}*)])</tt></p><p><tt>(open-library
 <i><tt>base-symbol</tt></i>)</tt></p><p><tt>(clos-library
 <i><tt>base-symbol</tt></i>)</tt></p><p><tt>(with-open-library
 (<i><tt>base-symbol</tt></i> |
 <i><tt>library-name</tt></i>)
 {<i><tt>form</tt></i>}*)</tt></p><p><tt>(defflibfun
 <i><tt>function-name</tt></i>
 <i><tt>base-symbol</tt></i>
 <i><tt>offset</tt></i> <i><tt>mask</tt></i>
 <i><tt>result-type</tt></i>
 {<i><tt>argument-type</tt></i>}*)</tt></p><p><tt>(declare-library-function
 <i><tt>function-name</tt></i>
 <i><tt>library-name</tt></i>
 {<i><tt>option</tt></i>}*)</tt></p><p><tt>(flibcall <i><tt>function-name</tt></i>
 {<i><tt>argument</tt></i>}*)</tt></p><p><tt>(mlibcall <i><tt>function-name</tt></i>
 {<i><tt>argument</tt></i>}*)</tt></p><p><tt>(mem-read <i><tt>address</tt></i>
 <i><tt>result-type</tt></i>
 [<i><tt>offset</tt></i>])</tt></p><p><tt>(mem-write <i><tt>address</tt></i>
 <i><tt>type</tt></i> <i><tt>value</tt></i>
 [<i><tt>offset</tt></i>])</tt></p><p><tt>(mem-write-vector
 <i><tt>address</tt></i> <i><tt>vector</tt></i>
 [<i><tt>offset</tt></i>])</tt></p><p><tt>(nzero-pointer-p
 <i><tt>value</tt></i>)</tt></p><p>Except for <tt>with-open-library</tt>,
<tt>declare-library-function</tt> and
<tt>mlibcall</tt>, all of
the above are functions.</p><p>A library contains a collection of functions.  The library is
referred to by a symbol referred as library-base at the AFFI level.
This symbol is created in the package &#8220;AFFI&#8221;.  The link
between this symbol and the OS-level library name is established by
<tt>declare-library-base</tt>.  To avoid multiple package
conflicts, this and only this function requires the symbol-name to be in
the <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-3.html" target="_top">&#8220;KEYWORD&#8221;</a> package. The function returns the library-base.</p><p>A library may be opened by <tt>open-library</tt> and
 closed by <tt>close-library</tt>. An opened library must be
 closed. <tt>with-open-library</tt> is provided to
 automatically close the library for you, thus it is much safer to
 use.</p><p>A function is contained in a library.  Every function is referred
to by a symbol.  A function is defined through
<tt>defflibfun</tt> or
<tt>declare-library-function</tt> by giving the function
name, the library-base, an offset into the library, a mask (or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>)
for register-based library calls, the result type and all
parameter-types.  <tt>require-library-functions</tt> loads
the complete set of functions defined in a library file. Symbols are
created in the package &#8220;AFFI&#8221; and imported into the
current package.</p><p><tt>flibcall</tt> and <tt>mlibcall</tt>
call library functions. <tt>mlibcall</tt> is a macro that
does a few checks at macroexpansion time and allows the compiler to
inline the call, not requiring the foreign function to be defined again
at load or execution time. The use of this macro is advertised wherever
possible.</p><p><tt>mem-read</tt> reads an arbitrary address (with
offset for structure references) and returns the given type.</p><p><tt>mem-write</tt> writes an arbitrary
address. <tt>mem-write-vector</tt> copies the content of a
Lisp <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a> into
memory.</p><p><tt>nzero-pointer-p</tt> tests for
non-<tt>NULL</tt> pointers in all recognized representations
(<a href="http://www.lisp.org/HyperSpec/Body/syscla_null.html" target="_top"><tt>NULL</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> and
<tt>foreign-pointer</tt>).</p></div><div class="section"><a name="d39e28222"></a><div class="titlepage"><div><h4 class="title"><a name="d39e28222"></a>Foreign Libraries</h4></div></div><p><tt>declare-library-base</tt> ought to be wrapped in an
<tt>(<a href="http://www.lisp.org/HyperSpec/Body/speope_eval-when.html" target="_top"><tt>EVAL-WHEN</tt></a> (compile eval load) ...)</tt>
form and come before any function is referenced, because the library
base symbol must be known.</p><p><tt>open-library</tt> tries to open the library
referenced by the base symbol.  Therefore it must have been preceded
with <tt>declare-library-base</tt>.  The call returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>
on failure. <tt>open-library</tt> calls nest.  Every
successful call must be matched by <tt>close-library</tt>.
<tt>with-open-library</tt> does this for you and also allows
you to specify the library by name, provided that its base has been
declared.  It is recommended to use this macro and to reference the
library by name.</p><p><a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> will not close libraries for you at program exit. [A
previous version did so but now AFFI is a module and there are no module
exit functions.]  Programmers, watch
<tt>affi::*libraries-alist*</tt>.</p></div><div class="section"><a name="d39e28264"></a><div class="titlepage"><div><h4 class="title"><a name="d39e28264"></a>(Foreign) <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> types</h4></div></div><p>The following foreign <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> types are used in AFFI. They are
 <i>not</i> regular <a href="http://www.lisp.org" target="_top"><b>Common Lisp</b></a> types or <b>CLOS</b> classes.</p><p><b>foreign <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> types used in AFFI</b></p><p><b>AFFI name: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>void</p><p><b>Comment: </b>as a result type for functions only</p><p><b>AFFI name: </b>4</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 32)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>unsigned long</p><p><b>Comment: </b></p><p><b>AFFI name: </b>2</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 16)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>unsigned short</p><p><b>Comment: </b></p><p><b>AFFI name: </b>1</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> 8)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>unsigned char</p><p><b>Comment: </b></p><p><b>AFFI name: </b>-4</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a> 32)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>long</p><p><b>Comment: </b></p><p><b>AFFI name: </b>-2</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a> 16)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>short</p><p><b>Comment: </b></p><p><b>AFFI name: </b>-1</p><p><b>Lisp equivalent: </b><tt>(<a href="http://www.lisp.org/HyperSpec/Body/typ_signed-byte.html" target="_top"><tt>SIGNED-BYTE</tt></a> 8)</tt></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>signed char</p><p><b>Comment: </b></p><p><b>AFFI name: </b>0</p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><tt>BOOLEAN</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>BOOL</p><p><b>Comment: </b>as a result type for functions only</p><p><b>AFFI name: </b>*</p><p><b>Lisp equivalent: </b>opaque</p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>void*</p><p><b>Comment: </b></p><p><b>AFFI name: </b><tt>:external</tt></p><p><b>Lisp equivalent: </b>opaque</p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>void*</p><p><b>Comment: </b></p><p><b>AFFI name: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a></p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>char*</p><p><b>Comment: </b></p><p><b>AFFI name: </b><tt>:io</tt></p><p><b>Lisp equivalent: </b><a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a></p><p><b><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> equivalent: </b>char*</p><p><b>Comment: </b></p><p>Objects of type <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a> are copied and passed
NUL-terminated on the execution stack.  On return, a Lisp string is
allocated and filled from the address returned (unless NULL). Functions
with <tt>:io</tt> parameters are passed the address of the Lisp string or
unsigned byte vector. These are not NUL-terminated!  This is useful for
functions like like <tt>read()</tt> which do not need an
array at a constant address longer than the dynamic extent of the call
(it is dangerous to define callback functions with <tt>:io</tt> (or
<a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a>) type parameters). Arguments of type <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><tt>INTEGER</tt></a> and
<tt>foreign-pointer</tt> are always acceptable where a
<a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a> or <tt>:io</tt> type is specified.</p><div class="variablelist"><dl><dt><a name="d39e28510"></a><span class="term">Platform dependent: Only in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> built
   <i>with</i> compile-time flag <a href="http://www.unicode.org/" target="_top"><i>UNICODE</i></a>.</span></dt><dd><p>A <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><tt>symbol-macro</tt></a> place <i><tt>custom:*foreign-encoding*</tt></i>
contains the encoding for characters and strings passed through the FFI.
Its value must be a 1:1 encoding, i.e., an encoding in which every
character is represented by one byte.
</p></dd></dl></div><p>To meet the design goals, predefined types and objects were
used. As such, pointers were represented as integers. Now that there is
the <tt>foreign-pointer</tt> type, both representations may
be used on input.  The pointer type should be therefore considered as
opaque.  Use <tt>nzero-pointer-p</tt> for NULL tests.</p></div><div class="section"><a name="d39e28544"></a><div class="titlepage"><div><h4 class="title"><a name="d39e28544"></a>Foreign functions</h4></div></div><p>Foreign Functions are declared either through
<tt>defflibfun</tt> or
<tt>declare-library-function</tt>.  The former is closer to
the low-level implementation of the interface, the latter is closer to
the other FFI.</p><p><tt>defflibfun</tt> requires the library base symbol
and register mask to be specified,
<tt>declare-library-function</tt> requires the library name
and computes the mask from the declaration of the arguments.</p><p>The value of mask is implementation-dependent. On the Amiga, it is
an integer whose hexadecimal value is the reverse of the function
argument register numbers, where d0 has number <tt>1</tt>
and a6 number <tt>#xF</tt>.  A <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> mask is reserved for
stack-based calls (unimplemented).</p><p>The AFFI type <tt>0</tt> is only acceptable as a
function result type and yields either <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>. The difference
between <tt>*</tt> and <tt>:external</tt> is the following:
<tt>*</tt> uses integers, <tt>:external</tt> uses
<tt>foreign-pointer</tt> as function result-type (except
from <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> for a NULL pointer) and refuses objects of type
<a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a> as input.  Thus
<tt>:external</tt> provides some security on the input and the ability to use
<a href="#final"><tt>ext:finalize</tt></a> for resource-tracking on the output side.</p><p><tt>(declare-library-function
 <i><tt>name</tt></i>
 <i><tt>library-name</tt></i>
 {<i><tt>option</tt></i>}*)</tt>

<div class="variablelist"><dl><dt><a name="d39e28639"></a><span class="term"><i><tt>option</tt></i> ::==</span></dt><dd><p><b>: </b></p><p><b>: </b><tt>(:offset
    <i><tt>library-offset</tt></i>)</tt></p><p><b>: </b>|</p><p><b>: </b><tt>(:arguments
    {(<i><tt>arg-name</tt></i>
    <i><tt>AFFI-type</tt></i>
    <i><tt>register</tt></i>)}*)</tt></p><p><b>: </b>|</p><p><b>: </b><tt>(:return-type
    <i><tt>AFFI-type</tt></i>)</tt></p></dd><dt><a name="d39e28680"></a><span class="term"><i><tt>register</tt></i> ::==</span></dt><dd><p><tt>:d0</tt> | <tt>:d1</tt>
 | ... | <tt>:d7</tt> | <tt>:a0</tt> | ... |
 <tt>:a6</tt></p></dd></dl></div>

declares a named library function for further reference through
<tt>flibcall</tt> and <tt>mlibcall</tt>.</p><p><tt>mlibcall</tt> should be the preferred way of
calling foreign functions (when they are known at compile-time) as
macroexpansion-time checks may be performed and the call can be sort of
inlined.</p></div><div class="section"><a name="d39e28712"></a><div class="titlepage"><div><h4 class="title"><a name="d39e28712"></a>Memory access</h4></div></div><p><tt>(mem-read <i><tt>address</tt></i>
<i><tt>type</tt></i>
<i><tt>offset</tt></i>)</tt> can read 8, 16 and 32 bit
signed or unsigned integers (AFFI types -4,
-2, -1, 1, 2,
4), a pointer (*), a NUL-terminated string
(string) or, if the type argument is of type <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><tt>STRING</tt></a>
or <a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><tt>UNSIGNED-BYTE</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><tt>VECTOR</tt></a>, it can fill this vector.
<tt>:external</tt> is not an acceptable type as no object can be created by
using <tt>mem-read</tt>.</p><p><tt>(mem-write <i><tt>address</tt></i>
<i><tt>type</tt></i> <i><tt>value</tt></i>
[<i><tt>offset</tt></i>])</tt> writes integers (AFFI
type -4, -2, -1, 1,
2 and 4) or pointer values (type
*), but not vectors to the specified memory address.</p><p><tt>(mem-write-vector
<i><tt>address</tt></i> <i><tt>vector</tt></i>
[<i><tt>offset</tt></i>])</tt> can write memory from the
given vector (of type string or unsigned byte
vector).</p></div><div class="section"><a name="d39e28823"></a><div class="titlepage"><div><h4 class="title"><a name="d39e28823"></a>Function Definition Files</h4></div></div><p><tt>require-library-functions</tt> will <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><tt>REQUIRE</tt></a> a
file of name derived from thelibrary name and with type
<tt>affi</tt>. It may be used to import all names into the
current package or only a given subset identified by string names, using
the <tt>:import</tt> keyword (recommended use). Some
definition files for standard Amiga libraries are provided. See example
1 below.</p><p>As <tt>require-library-functions</tt> loads a global
file which you, the programmer, may have not defined, you may consider
declaring every function yourself to be certain what the return and
argument types are. See example 4 below.</p><p>The file <tt>read-fd.lisp</tt> defines the function
<tt>make-partial-fd-file</tt> with which the provided
<tt>.affi</tt> files have been prepared from the original
Amiga FD files (located in the directory <tt>FD:</tt>).
They must still be edited as the function cannot know whether a function
accepts a <tt>*</tt>, <tt>:io</tt>,
<tt>string</tt> or <tt>:external</tt> argument and because files
in <tt>FD:</tt> only contain a register specification, not
the width of integer arguments (<tt>-4</tt>,
<tt>-2</tt>, <tt>-1</tt>,
<tt>1</tt>, <tt>2</tt>, or
<tt>4</tt>).</p></div><div class="section"><a name="d39e28892"></a><div class="titlepage"><div><h4 class="title"><a name="d39e28892"></a>Hints</h4></div></div><p>By using appropriate <a href="http://www.lisp.org/HyperSpec/Body/speope_eval-when.html" target="_top"><tt>EVAL-WHEN</tt></a> forms for
<tt>declare-library-base</tt> and
<tt>require-library-functions</tt> and not using
<tt>flibcall</tt>, it is possible to write code that only loads
library function definition files at compile-time. See example 1 below.</p><p>Do not rely on <a href="#final"><tt>ext:finalize</tt></a> to free resources for you, as <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>
does not call finalizers when it exits, use <a href="http://www.lisp.org/HyperSpec/Body/speope_unwind-protect.html" target="_top"><tt>UNWIND-PROTECT</tt></a>.</p></div><div class="section"><a name="d39e28924"></a><div class="titlepage"><div><h4 class="title"><a name="d39e28924"></a>Caveats</h4></div></div><p>You can consider the library bases being symbols in need of being
imported from the package AFFI originating from a brain-damage, causing
the usual symbol headaches when using foreign functions calls within
macros.  Luckily, even if the high-level interface (or its
implementation in <tt>affi1.lisp</tt>) were to change, the
low-level part (<tt>affi.d</tt>) should remain untouched as
all it knows are integers and foreign-pointers, no symbols.  The
difficulty is just to get the library base value at run-time.  Feel free
to suggest enhancements to this facility!</p></div><div class="section"><a name="d39e28935"></a><div class="titlepage"><div><h4 class="title"><a name="d39e28935"></a>Examples</h4></div><div><h2 class="subtitle">NB: These examples are somewhat specific to the Amiga.</h2></div></div><div class="example"><p><a name="d39e28940"></a><b>Using a predefined library function file</b></p><p><pre class="programlisting">
(use-package "AFFI")

;; SysBase is the conventional name for exec.library
;; It is only enforced by the file loaded by REQUIRE-LIBRARY-FUNCTIONS
(eval-when (compile eval load)
  (declare-library-base :SysBase "exec.library")) ;keyword avoids name conflicts

;; using only MLIBCALL allows not to load definitions at load-time
(eval-when (compile eval)
  (require-library-functions "exec.library"
    :import '("FindTask")))

(with-open-library ("exec.library")
  (print (mlibcall FindTask 0)))
</pre>

This file can be used in interpreted and compiled mode. Compiled, it will
have inlined the library function calls.
</p></div><div class="example"><p><a name="d39e28947"></a><b>Using flibcall</b></p><pre class="programlisting">
(use-package "AFFI")

(sexp-when (compile eval load)
  ;; keyword avoids name conflicts
  (declare-library-base :SysBase "exec.library"))

;; The load situation permits the use of flibcall
(eval-when (eval compile load)
  (require-library-functions "exec.library"))

(unless (open-library 'SysBase) (error "No library for SysBase"))
(flibcall (if t 'FindTask 'Debug) 0)
(close-library 'SysBase)
</pre></div><div class="example"><p><a name="d39e28952"></a><b>Be fully dynamic, defining library bases ourselves</b></p><pre class="programlisting">
(use-package "AFFI")

(sexp-when (compile eval load)
  (defvar mylib (declare-library-base :foobase "foo.library")))
(eval-when (eval compile load)          ;eval allows mlibcall, load flibcall
  (defflibfun 'foo1 mylib -30 '#xA '* 'string)
  (defflibfun 'foo2 mylib -36 '#x21 0 * 4))

(defun foo (name)
  (when (open-library mylib)
    (list (mlibcall foo1 name) (flibcall 'foo2 name 123213))
    (close-library mylib)))
</pre></div><div class="example"><p><a name="d39e28957"></a><b>Some sample function definitions</b></p><pre class="programlisting">
(defflibfun 'FindTask 'SysBase -294 #xA '* 'string)
(sexp-library-function FindTask "exec.library"
  (:offset -294)
  (:return-type *)
  (:arguments
   (name   string   :A1)))
(declare-library-function NameFromLock "dos.library"
  (:offset -402)
  (:return-type 0)
  (:arguments
   (lock   4   :D1)
   (buffer :io :D2)
   (len    4   :D3)))

(eval-when (compile eval)
  (defconstant GVF_LOCAL_ONLY (ash 1 9))
  (defflibfun 'SetVar 'DosBase -900 #x5432 0 'string 'string -4 4))
(defun setvar (name value)
  (with-open-library (DosBase)
    ;; length of -1 means find length of NUL-terminated-string
    (mlibcall SetVar name value -1 GVF_LOCAL_ONLY)))
</pre></div></div></div><div class="section"><a name="rexx"></a><div class="titlepage"><div><h3 class="title"><a name="rexx"></a>Extensions-2.5. ARexx</h3></div><div><h2 class="subtitle">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</h2></div></div><p><a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> comes with a small yet extensible and powerful ARexx
 interface.</p><div class="variablelist"><dl><dt><a name="d39e28979"></a><span class="term"><tt>(rexx-do-command
   "return address()" :string <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a> :result <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>)</tt></span></dt><dd><p>tells you the name of the <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> ARexx port.  The
  default extension for <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> ARexx scripts is <tt>cl</tt>.
 </p></dd><dt><a name="d39e29005"></a><span class="term"><tt>(rexx-do-command
   <i><tt>command</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :string :result
   :token :io :host)</tt></span></dt><dd><p> -&gt; <tt>(RC <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
  <i><tt>result</tt></i>)</tt>, or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> on failure
</p></dd><dt><a name="d39e29033"></a><span class="term"><tt>(rexx-run-command
  <i><tt>command</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :string :token)</tt></span></dt><dd><p> -&gt; <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>, or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> on failure
</p></dd><dt><a name="d39e29055"></a><span class="term"><tt>(rexx-send-command
   <i><tt>command</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> :string :result
   :token :io :host)</tt></span></dt><dd><p> -&gt; <i><tt>arexx-msg-handle</tt></i>,
  or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> on failure
</p></dd><dt><a name="d39e29076"></a><span class="term"><tt>(rexx-wait-sent-command
   <i><tt>arexx-msg-handle</tt></i>)</tt></span></dt><dd><p> -&gt; <tt>(RC <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
   <i><tt>result</tt></i>)</tt>, or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> on failure
</p></dd><dt><a name="d39e29100"></a><span class="term"><tt>(rexx-loop)</tt></span></dt><dd><p> -&gt; no return, use the
  <tt>exit-loop.cl</tt> ARexx script to abort the loop
</p></dd></dl></div><p><i><tt>command</tt></i> may be a string denoting a
command with optional arguments or a vector of strings thus denoting an
ARexx function call. The first element in the vector is the function
name, the others are the up to 15 arguments.</p><p>Messages may be sent to an arbitrary ARexx host, special cases are
<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (meaning <tt>"REXX"</tt>, the default) and <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><tt>T</tt></a>
(<tt>"AREXX"</tt> for asynchronous execution).</p><p>ARexx server mode: Like Ispell, Csh and SKsh, you can run it in
server mode by calling <tt>(rexx-loop)</tt>. You
can then only exit with the ARexx <tt>exit-loop.cl</tt>
script.</p><p>Restrictions: Currently <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> is not able to wait for input from
several sources, e.g. both a console and ARexx, at the same time.</p></div><div class="section"><a name="socket"></a><div class="titlepage"><div><h3 class="title"><a name="socket"></a>Extensions-2.6. Socket Streams</h3></div><div><h2 class="subtitle">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.</h2></div></div><div class="variablelist"><dl><dt><a name="d39e29160"></a><span class="term"><tt>(<tt>socket:socket-server</tt> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
                 [<i><tt>port-or-socket</tt></i>])</tt></span></dt><dd><p>This function creates a socket, binds a port to the
   socket, and then listens for connect attempts.  The server exists to
   watch for client connect attempts.  The optional argument is either a
   port (positive <a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><tt>FIXNUM</tt></a>) or a <a href="#socket"><tt>socket-stream</tt></a> (from whose peer the
   connections will be made).
  </p></dd><dt><a name="d39e29185"></a><span class="term"><tt>(<tt>socket:socket-server-close</tt>
                 <i><tt>socket-server</tt></i>)</tt></span></dt><dd><p>Closes down the server socket.
  </p></dd><dt><a name="d39e29198"></a><span class="term"><tt>(<tt>socket:socket-server-port</tt>
                 <i><tt>socket-server</tt></i>)</tt></span></dt><dd><p>Returns the port which was bound using
   <tt>socket:socket-server</tt>.
  </p></dd><dt><a name="d39e29214"></a><span class="term"><tt>(<tt>socket:socket-wait</tt>
                 <i><tt>socket-server</tt></i>
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> [<i><tt>seconds</tt></i>
                 [<i><tt>microseconds</tt></i>]])</tt></span></dt><dd><p>Given time argument(s), waits for (possibly zero)
   fixed duration for a connect on the socket-server.  Without an
   argument, <tt>socket:socket-wait</tt> blocks indefinitely.
  </p></dd><dt><a name="d39e29240"></a><span class="term"><tt>(<tt>socket:socket-accept</tt>
                 <i><tt>socket-server</tt></i>
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <a href="#eltype"><tt>:element-type</tt></a> <a href="#extfmt"><tt>:external-format</tt></a> <a href="#buffered"><tt>:buffered</tt></a>)</tt></span></dt><dd><p>Creates the server-side two-way stream for the connection.
  </p></dd><dt><a name="d39e29269"></a><span class="term"><tt>(<tt>socket:socket-connect</tt>
                 <i><tt>port</tt></i>
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> [<i><tt>host</tt></i>]
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <a href="#eltype"><tt>:element-type</tt></a> <a href="#extfmt"><tt>:external-format</tt></a> <a href="#buffered"><tt>:buffered</tt></a>)</tt></span></dt><dd><p>Attempts to create a client-side two-way <a href="#socket"><tt>socket-stream</tt></a>.
   Blocks until the server accepts the connections.
  </p></dd><dt><a name="d39e29309"></a><span class="term"><tt>(<tt>socket:socket-status</tt>
                 <i><tt>socket-stream-or-list</tt></i>
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> [<i><tt>seconds</tt></i>
                 [<i><tt>microseconds</tt></i>]])</tt></span></dt><dd><p>Checks whether it is possible to read from or write
   to a <a href="#socket"><tt>socket-stream</tt></a> without blocking.  This is similar to <a href="http://www.lisp.org/HyperSpec/Body/fun_listen.html" target="_top"><tt>LISTEN</tt></a>,
   which checks only one stream and only for input.</p><p><i><tt>socket-stream-or-list</tt></i> is an open
   <a href="#socket"><tt>socket-stream</tt></a> (one symbol is returned) or a list of streams (a list
   of symbols, one for each stream, is returned).</p><p>The optional arguments specify the timeout. <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> means wait
   forever, 0 means poll.  Note that this function never waits for input
   or output to arrive, only for information on input or output
   presense (so that <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char.html" target="_top"><tt>READ-CHAR</tt></a> or <a href="http://www.lisp.org/HyperSpec/Body/fun_write-char.html" target="_top"><tt>WRITE-CHAR</tt></a> will not block) to
   become available.</p><p>For each <a href="#socket"><tt>socket-stream</tt></a> this function returns</p><div class="variablelist"><p><b>Return values of
      <tt>socket:socket-status</tt></b></p><dl><dt><a name="d39e29373"></a><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a></span></dt><dd><p>when no information is available or no operation
      is possible</p></dd><dt><a name="d39e29381"></a><span class="term"><tt>:error</tt></span></dt><dd><p>when an i/o operation will cause an error
     </p></dd><dt><a name="d39e29388"></a><span class="term"><tt>:input</tt></span></dt><dd><p>when you can only read from the stream
     </p></dd><dt><a name="d39e29395"></a><span class="term"><tt>:output</tt></span></dt><dd><p>when you can only write to the stream
     </p></dd><dt><a name="d39e29402"></a><span class="term"><tt>:io</tt></span></dt><dd><p>when you can both read from and write to the stream
     </p></dd></dl></div></dd><dt><a name="d39e29409"></a><span class="term"><tt>(<tt>socket:socket-stream-host</tt>
                 <i><tt>socket-stream</tt></i>)</tt>,
   <tt>(<tt>socket:socket-stream-port</tt>
                 <i><tt>socket-stream</tt></i>)</tt></span></dt><dd><p>These two functions return information about the
   <a href="#socket"><tt>socket-stream</tt></a>.  For a server,
   <tt>socket:socket-stream-host</tt> returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
  </p></dd><dt><a name="d39e29442"></a><span class="term"><tt>(<tt>socket:socket-service-port</tt>
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> <i><tt>service-name</tt></i>
                 (<i><tt>protocol</tt></i> "tcp"))</tt></span></dt><dd><p>A convenience function for looking up a port given
   the service name.  It returns the servent struct as multiple values
   (name, list of aliases, port, protocol) for the given
   <i><tt>service-name</tt></i> and
   <i><tt>protocol</tt></i>, or all services as the list of
   vectors of <a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><tt>LENGTH</tt></a> 4, if <i><tt>service-name</tt></i> is
   not given or is <tt>:default</tt> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>.
  </p></dd><dt><a name="d39e29482"></a><span class="term"><tt>(<tt>socket:socket-stream-peer</tt>
                 <i><tt>socket-stream</tt></i>)</tt></span></dt><dd><p>Given a stream, this function returns the name of
   the host on the opposite side of the connection and its port number;
   the server-side can use this to see who connected.
  </p></dd><dt><a name="d39e29495"></a><span class="term"><tt>(<tt>socket:socket-stream-local</tt>
                 <i><tt>socket-stream</tt></i>)</tt></span></dt><dd><p>The dual to
   <tt>socket:socket-stream-peer</tt> - same information,
   host name and port number, but for the local host.  The difference
   from <tt>socket:socket-stream-host</tt> and
   <tt>socket:socket-stream-port</tt> is that this function
   asks the OS (and thus returns the correct trusted values) while the
   other two are just accessors to the internal data structure, and
   basically return the arguments given to the function which created
   the <a href="#socket"><tt>socket-stream</tt></a>.
  </p></dd></dl></div></div><div class="section"><a name="syscalls"></a><div class="titlepage"><div><h3 class="title"><a name="syscalls"></a>Extensions-2.7. System Calls</h3></div></div><p>When <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> is configured with an option
 <tt>--with-export-syscalls</tt>, some system calls are
 available from lisp, in package <a href="#syscalls">&#8220;POSIX&#8221;</a>.</p><div class="variablelist"><dl><dt><a name="d39e29539"></a><span class="term"><tt>(<tt>posix:resolve-host-ipaddr</tt>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> <i><tt>host</tt></i>)</tt></span></dt><dd><p>Returns the hostent struct (name,
   list of aliases, list of IP addresses as dotted quads (for IPv4) or
   coloned octets (for IPv6), address type - IPv4 or IPv6).  When
   <i><tt>host</tt></i> is omitted or
   <tt>:default</tt>, return the data for the current host.
   When <i><tt>host</tt></i> is given and is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, all the
   host database is returned as a list (this would be the contents of the
   <tt>/etc/hosts</tt> file on a UNIX system or
   <tt>${windir}/system32/etc/hosts</tt> on a Win32 system).
  </p></dd><dt><a name="d39e29578"></a><span class="term"><tt>(<tt>posix:file-stat</tt>
    <i><tt>file</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a>
    <i><tt>link-p</tt></i>)</tt></span></dt><dd><p>Return the stat struct.  <tt>file</tt> can
   be a stream, a pathname, a string or a number (on a UNIX system,
   meaning file descriptor).  The first slot of the struct returned is
   the string or the number on which
   <tt>stat(2)</tt>/<tt>fstat(2)</tt>/<tt>lstat(2)</tt>
   was called.  The other 13 slots are numbers, members of the stat
   struct: device, inode, protection, number of hard links, owner's UID,
   owner's GID, device type, total size (bytes), blocksize for
   filesystem I/O, number of blocks allocated, atime, mtime, ctime (as
   the number of seconds since 1900-01-01).  If the system does not
   support a particular field (e.g., Win32 does not have hard links),
   <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (or the default, like 1 for the number of hard links for Win32
   or DOS) is returned.
   </p><p>[UNIX systems only at this time, patches are welcome.]
  </p></dd><dt><a name="d39e29616"></a><span class="term"><tt>(<tt>posix:user-data</tt>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> <i><tt>user</tt></i>)</tt>&gt;</span></dt><dd><p>Return the passwd struct (name, encoded password,
   UID, GID, full name, home directory, shell).  When
   <i><tt>user</tt></i> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, return all users.  When
   <i><tt>user</tt></i> is <tt>:default</tt> or
   not supplied, return the information about the current user.  If the
   system does not support a particular field (e.g., Win32 does not have
   a concept of a shell), <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (or the default, like
   <tt>c:\command.com</tt> for DOS) is returned.
   </p><p>[UNIX systems only at this time, patches are welcome.]
  </p></dd><dt><a name="d39e29656"></a><span class="term"><tt>(<tt>posix:sysinfo</tt>)</tt></span></dt><dd><p>Return a struct describing the OS, derived from
   <tt>uname(2)</tt> and <tt>sysconf(3)</tt>.
  </p></dd><dt><a name="d39e29672"></a><span class="term"><tt>(<tt>posix:resource-usage-limits</tt>)</tt>
   </span></dt><dd><p>Return 3 structs describing the resources usage and
    limits, derived from <tt>getrlimit(2)</tt> and
    <tt>getrusage(3)</tt>.
  </p></dd><dt><a name="d39e29689"></a><span class="term">
   <tt>(<tt>posix:erf</tt>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:erfc</tt>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:j0</tt>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:j1</tt>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:jn</tt>
                         <i><tt>int</tt></i>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:y0</tt>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:y1</tt>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:yn</tt>
                         <i><tt>int</tt></i>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:gamma</tt>
                         <i><tt>real</tt></i>)</tt>
   <tt>(<tt>posix:lgamma</tt>
                         <i><tt>real</tt></i>)</tt></span></dt><dd><p>Compute the error functions, Bessel functions and
   Gamma.  These functions are required by the POSIX standard and should
   be available in libm.so.  Please note that these functions do not
   provide lisp-style error handling and precision, and do all the
   computations at the double float level.
  </p><p>[UNIX systems only at this time, patches are welcome.]
 </p></dd></dl></div></div><div class="section"><a name="quickstart"></a><div class="titlepage"><div><h3 class="title"><a name="quickstart"></a>Extensions-2.8. Quickstarting delivery with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a></h3></div></div><p>This section describes four ways to turn <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> programs into
 executable programs, which can be started as quickly as executables
 written in other languages.</p><div class="variablelist"><dl><dt><a name="d39e29805"></a><span class="term">UNIX</span></dt><dd><p><a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> can act as a script interpreter.
  </p></dd><dt><a name="d39e29814"></a><span class="term">Desktop environments such as <a href="http://www.kde.org" target="_top">KDE</a>, <a href="http://www.gnome.org" target="_top">GNOME</a>, or Windows.</span></dt><dd><p>Files created with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> can be associated with
   the <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> executables so that clicking on them would make <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>
   execute the appropriate code.
  </p></dd><dt><a name="d39e29838"></a><span class="term">Linux with <tt>CONFIG_BINFMT_MISC=y</tt></span></dt><dd><p>Associate the extensions <tt>fas</tt>
   and <tt>lsp</tt> with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>; then you can make the
   files executable and run them from the command line.
  </p></dd><dt><a name="d39e29856"></a><span class="term">Amiga</span></dt><dd><p>Files created with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> can be associated with a
   Workbench project icon so that clicking on them would make <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>
   execute the appropriate code.  Note that several
   <tt>fas</tt> files can be concatenated (using
   <tt>Join</tt>) into one file.
  </p></dd></dl></div><p>These three techniques apply to a single <tt>lsp</tt>
 or <tt>fas</tt> file.  If your application is made up of
 several <tt>lsp</tt> or <tt>fas</tt> files, you
 can simply concatenate them (using <tt>cat</tt>(1)) into
 one file; the techniques then apply to that concatenated file.</p><div class="variablelist"><dl><dt><a name="d39e29895"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> platforms only.</span></dt><dd><p><a name="d39e29902"></a>On Unix, a text file (<tt>fas</tt> or
 <tt>lsp</tt>) can be made executable by adding a first line
 of the form
 <pre class="programlisting">#!<i><tt>interpreter</tt></i> [<i><tt>interpreter-args</tt></i>]</pre>
 and using <b>chmod</b>(1) to make the script executable.
 <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> can be used as a script interpreter under the following
 circumstances:</p><div class="itemizedlist"><ul><li><a name="d39e29928"></a><p>The <i><tt>interpreter</tt></i> must be the
 full pathname of <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.  The recommended path is
 <tt>/usr/local/bin/clisp</tt>, and if <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> is actually
 installed elsewhere, making <tt>/usr/local/bin/clisp</tt>
 be a symbolic link to the real <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.</p></li><li><a name="d39e29952"></a><p>The <i><tt>interpreter</tt></i> must be a
 real executable, not a script.  Unfortunately, in the binary
 distributions of <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> on Solaris, <tt>clisp</tt> is a
 shell script because a <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler cannot be assumed to be
 installed on this platform.  If you do have a <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a> compiler
 installed, build <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> from the source yourself; <b>make
 install</b> will install <b>clisp</b> as a real
 executable.</p></li><li><p><a name="d39e29983"></a>On some platforms, the first line which specifies the
 interpreter is limited in length:
   <div class="itemizedlist"><ul><li><a name="d39e29987"></a><p>max. 32 characters on SunOS 4,</p></li><li><a name="d39e29990"></a><p>max. 80 characters on HP-UX,</p></li><li><a name="d39e29993"></a><p>max. 127 characters on Linux.</p></li></ul></div>
   Characters exceeding this limit are simply cut off by the system.
   At least 128 characters are accepted on Solaris, IRIX, AIX, OSF/1.
   There is no workaround: You have to keep the interpreter pathname
   and arguments short.</p></li><li><a name="d39e29997"></a><p>On Solaris and HP-UX, only the first
 <i><tt>interpreter-arg</tt></i> is passed to the
 <i><tt>interpreter</tt></i>.  In order to pass more than one
 option (for example, <tt>-Msomewhere.mem</tt> and
 <tt>-C</tt>) to <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>, separate them by hard spaces (ISO
 Latin-1 character 160) instead of normal spaces.  (But the separator
 between <i><tt>interpreter</tt></i> and
 <i><tt>interpreter-args</tt></i> must still be a normal
 space!) <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> will split the
 <i><tt>interpreter-args</tt></i> at hard spaces and at
 normal spaces.</p></li></ul></div><p>The script should contain Lisp forms, except in the #! line.  The
 file is normally loaded, through the function <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><tt>LOAD</tt></a>.  Before it is
 loaded, the variable <i><tt>ext:*args*</tt></i> is bound to a
 list of strings, representing the arguments given to the Lisp script.
 <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><tt>*STANDARD-INPUT*</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><tt>*STANDARD-OUTPUT*</tt></a> are bound, as usual, to
 the Unix standard input and output.  <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><tt>*ERROR-OUTPUT*</tt></a> is bound to the
 Unix error output.  Continuable errors will be turned to warnings.
 Non-continuable errors and
 Ctrl-C interrupts
 will terminate the execution of the Lisp script with error status. If
 you wish the script's contents to be compiled during loading, add
   <a href="clisp.html#Option -C" target="_top"><tt>-C</tt></a> to the
 <i><tt>interpreter-args</tt></i>.</p><p>Another, quite inferior, alternative is to put the following into
 a file:</p><pre class="programlisting">
#!/bin/sh
exec clisp &lt;&lt;EOF
(lisp-form)
(another-lisp-form)
(yet-another-lisp-form)
EOF
</pre><p>The problem with this approach is that the return values of each form
will be printed to the standard output.  Another problem is that no user
input will be available.</p></dd><dt><a name="d39e30072"></a><span class="term">Platform dependent: <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.</span></dt><dd><p>There are two different ways to make <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>
 "executables" for Windows platforms.</p><div class="itemizedlist"><ul><li><a name="d39e30087"></a><p>Associate the <tt>mem</tt> extension with
   <b>c:\clisp\lisp.exe -m 10M -M %s -N c:\clisp\locale</b>.
  </p></li><li><a name="d39e30096"></a><p>Associate the <tt>fas</tt> extension with
   <b>c:\clisp\lisp.exe -m 10M -M c:\clisp\lispinit.mem -N
    c:\clisp\locale -i %s</b>.
    Alternatively, you may want to have a function
    <tt>main</tt> in your files and associate the
    <tt>fas</tt> extension with <b>c:\clisp\lisp.exe
    -m 10M -M c:\clisp\lispinit.mem -N c:\clisp\locale -i %s -x
    (main)</b>.
  </p></li></ul></div><p>Then clicking on the compiled lisp file (with
 <tt>fas</tt> extension) will load the file (thus executing
 all the code in the file), while the clicking on a <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> memory image
 (with <tt>mem</tt> extension) will start clisp with the
 given <a href="#image">memory image</a>.</p></dd><dt><a name="d39e30130"></a><span class="term">Platform dependent: <a href="http://www.linux.org/" target="_top"><i>Linux</i></a> platforms only.</span></dt><dd><p><a name="d39e30137"></a>You have to build your kernel with
 <tt>CONFIG_BINFMT_MISC=y</tt> and
 <tt>CONFIG_PROC_FS=y</tt>.  Then you will have a
 <tt>/proc/sys/fs/binfmt_misc/</tt> directory and you will
 be able to do (as <tt>root</tt>; you might want to put
 these lines into <tt>/etc/rc.d/rc.local</tt>):

<pre class="screen">
bash# echo ":CLISP:E::fas::/usr/bin/clisp:" &gt;&gt; /proc/sys/fs/binfmt_misc/register
bash# echo ":CLISP:E::lsp::/usr/bin/clisp:" &gt;&gt; /proc/sys/fs/binfmt_misc/register
</pre></p><p>Then you can do the following:
<pre class="screen">
bash$ cat &lt;&lt; EOF &gt; hello.lisp
(print "hello, world!")
EOF
bash$ clisp -c hello.lisp

Compiling file hello.lisp ...

Compilation of file hello.lisp is finished.
0 errors, 0 warnings
bash$ chmod +x hello.fas
bash$ hello.fas

"hello, world!"
bash$
</pre></p><p>Please read
 <tt>/usr/src/linux/Documentation/binfmt_misc.txt</tt> for
 details.</p></dd><dt><a name="d39e30167"></a><span class="term">Platform dependent:
   <i>Amiga</i> platforms only.</span></dt><dd><p><a name="d39e30173"></a>Using a Workbench project file, the memory images,
 source and binary files can be made "executable".

<div class="itemizedlist"><ul><li><a name="d39e30177"></a><p>Using IconEdit, create a project icon.</p></li><li><a name="d39e30180"></a><p>Set the tool to <tt>lisp:lisp.run</tt>
  (or wherever the binary is located).</p></li><li><a name="d39e30186"></a><p>Define a tooltype named
  <i><tt>ARGS</tt></i> set to <tt>-M *</tt>
  for a memory image project icon or to <tt>-M lisp:lispinit.mem
  -i *</tt> for a source or compiled lisp file.  The startup code
  will replace an isolated * token with the file
  name.</p></li><li><a name="d39e30201"></a><p>Alternatively, you may want to have a function
  <tt>main</tt> in your files and set the
  <i><tt>ARGS</tt></i> tooltype to <tt>-M
  lisp:lispinit.mem -i * -x (main)</tt>.</p></li><li><a name="d39e30213"></a><p>You might want to add more <a href="clisp.html" target="_top">command line options</a> to the
  <i><tt>ARGS</tt></i> tooltype.</p></li></ul></div>

 Clicking on the compiled lisp file (with <tt>fas</tt>
 suffix) will load the image and the file (thus executing all the code
 in the file), while clicking on the <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>'s memory image (with
 <tt>mem</tt> suffix) with start clisp with the given
 <a href="#image">memory image</a>.</p><p>You might want to add a tooltype named
 <i><tt>WINDOW</tt></i> which names the console window that
 <a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><tt>*TERMINAL-IO*</tt></a> will be bound to, for example
 <tt>CON:0/0/500/300/CLISP-Listener/AUTO/CLOSE</tt>, or
 <tt>TCP:20002</tt>.</p></dd></dl></div></div><div class="section"><a name="app-dev"></a><div class="titlepage"><div><h3 class="title"><a name="app-dev"></a>Extensions-2.9. Application delivery with <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a></h3></div></div><p>Some ways of packaging <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> programs are discussed in the
 section <a href="#quickstart">Quickstarting delivery with
 <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a></a>.</p><p><a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> is Free Software, covered by the <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/copyleft/gpl.html" target="_top">GPL</a>, with special
 terms governing the distribution of applications that run in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.
 The precise terms can be found in the <tt>COPYRIGHT</tt>
 file contained in the source and binary distributions of <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.  Here
 is an informal clarification what these terms mean in practice.  Please
 refer to the said <tt>COPYRIGHT</tt> file when in
 doubt.</p><p>In many cases, <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> does not force an application to be covered
 by the <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/copyleft/gpl.html" target="_top">GPL</a>. Nevertheless, we encourage you to release your software
 under an open source copyright. The benefits of such a copyright for
 your users are numerous, in particular they are free to modify the
 application when their needs/requirements change, and they are free to
 recompile the application when they upgrade their machine or operating
 system.</p><p><a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> extensions, i.e. programs which need to access
 non-portable <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> internal symbols (in the packages SYSTEM,
 COMPILER, CLOS, FFI, ...), must be covered by <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/copyleft/gpl.html" target="_top">GPL</a> as
 well.</p><p>Other programs running in <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> have to or need not to be placed
 under <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/copyleft/gpl.html" target="_top">GPL</a>, depending on their distribution form:

<div class="itemizedlist"><ul><li><a name="d39e30335"></a><p>Programs distributed as Lisp source of
  <tt>.fas</tt> files can be distributed without
  restrictions coming from <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>.</p></li><li><a name="d39e30345"></a><p>Programs distributed as <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> memory images can be
  distributed only if accompanied with the non-<a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>
  <tt>.fas</tt> files which make up the memory image, and a
  <tt>Makefile</tt> for rebuilding the memory image.
  </p></li><li><a name="d39e30362"></a><p>If you need to distribute a modified <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>
  executable (for example, incorporating additional modules written in
  <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><b>C</b></a>), you must distribute its full source under <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/copyleft/gpl.html" target="_top">GPL</a>.
  If you are not satisfied with this, you can instead put the additional
  modules into a separate (non-<a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a>) program, with which your Lisp
  program will communicate via <a href="#socket"><tt>socket-stream</tt></a>s.</p></li></ul></div></p></div><div class="section"><a name="shell"></a><div class="titlepage"><div><h3 class="title"><a name="shell"></a>Extensions-2.10. Shell, Pipes and Printing</h3></div></div><div class="section"><a name="d39e30390"></a><div class="titlepage"><div><h4 class="title"><a name="d39e30390"></a>Shell</h4></div></div><div class="variablelist"><dl><dt><a name="d39e30395"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>,
   platforms only.</span></dt><dd><p><tt>(<tt>ext:execute</tt>
       <i><tt>programfile</tt></i>
       <i><tt>arg<sub>1</sub></tt></i>
       <i><tt>arg<sub>2</sub></tt></i> ...)</tt>
   executes an external program.  Its name is
   <i><tt>programfile</tt></i>.  It is
   given the strings <i><tt>arg<sub>1</sub></tt></i>,
   <i><tt>arg<sub>2</sub></tt></i>, ... as arguments.
 </p></dd><dt><a name="d39e30450"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><p><tt>(<tt>ext:execute</tt>
       <i><tt>command</tt></i>)</tt>
   executes a given <i><tt>command</tt></i> using the
   operating system's shell.
 </p></dd><dt><a name="d39e30473"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a>, <a href="http://www.acorn.com/" target="_top"><i>Acorn</i></a>, <a href="http://www.freedos.org/" target="_top"><i>DOS</i></a>,
   <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a> platforms only.</span></dt><dd><p><tt>(<tt>ext:shell</tt>
        [<i><tt>command</tt></i>])</tt>

   calls the operating system's shell.  <tt>(<tt>ext:shell</tt>)</tt> calls
   the shell for interactive use.  <tt>(<tt>ext:shell</tt>
   <i><tt>command</tt></i>)</tt> calls the shell only
   for execution of the one given <i><tt>command</tt></i>.
 </p></dd><dt><a name="d39e30531"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
   platforms only.</span></dt><dd><p>The functions <i><tt>ext:run-shell-command</tt></i>
   and <i><tt>ext:run-program</tt></i> are the
   general interface to <i><tt>ext:shell</tt></i> and the
   above:</p><p><tt>(<tt>ext:run-shell-command</tt>
   <i><tt>command</tt></i> <tt>:input</tt> <tt>:output</tt>
   <tt>:if-output-exists</tt>)</tt> runs a shell command.</p><p><tt>(<tt>ext:run-program</tt>
   <i><tt>program</tt></i> <tt>:arguments</tt>
   <tt>:input</tt> <tt>:output</tt> <tt>:if-output-exists</tt>)</tt> runs an external
   program.</p><div class="variablelist"><dl><dt><a name="d39e30603"></a><span class="term"><i><tt>command</tt></i></span></dt><dd><p>the shell command.</p><div class="variablelist"><dl><dt><a name="d39e30612"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a> platforms only.</span></dt><dd><p>The shell the command is passed to is the value
       of the environment variable <tt>SHELL</tt>, which normally
       is <tt>/bin/sh</tt>.  The command should be a
       ``simple command''; a ``command list'' should be enclosed in "{
       ... ; }" (for <tt>/bin/sh</tt>) or "( ... )" (for
       <tt>/bin/csh</tt>).
     </p></dd></dl></div></dd><dt><a name="d39e30635"></a><span class="term"><i><tt>program</tt></i></span></dt><dd><p>the program.  The directories listed in the
     <tt>PATH</tt> environment variable will be searched for it.
    </p></dd><dt><a name="d39e30645"></a><span class="term"><tt>:arguments</tt></span></dt><dd><p>a list of arguments (strings) that are given to the
     program.</p></dd><dt><a name="d39e30652"></a><span class="term"><tt>:input</tt></span></dt><dd><p>where the program's input is to come from: either
     <tt>:terminal</tt> (the standard input) or <tt>:stream</tt>
     (a Lisp stream to be created) or a pathname (an input file) or
     <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (no input at all).</p></dd><dt><a name="d39e30669"></a><span class="term"><tt>:output</tt></span></dt><dd><p>where the program's output is to be sent to: either
     <tt>:terminal</tt> (the standard output) or <tt>:stream</tt>
     (a Lisp stream to be created) or a pathname (an output file) or
     <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> (ignore the output).</p></dd><dt><a name="d39e30686"></a><span class="term"><tt>:if-output-exists</tt></span></dt><dd><p>what to do if the <tt>:output</tt> file already
     exists.  The possible values are <tt>:overwrite</tt>, <tt>:append</tt>,
     <tt>:error</tt>, with the same meaning as for <a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a>.
    </p></dd></dl></div><p>If <tt>:stream</tt> was specified for <tt>:input</tt> or <tt>:output</tt>, a Lisp
 stream is returned.  If <tt>:stream</tt> was specified for <tt>:input</tt> and
 <tt>:output</tt>, three Lisp streams are returned, as for the function <a href="#pipe"><tt>ext:make-pipe-io-stream</tt></a>.
 This use of <tt>ext:run-program</tt> can cause deadlocks,
 see <a href="#pipe"><tt>ext:make-pipe-io-stream</tt></a>.</p></dd></dl></div></div><div class="section"><a name="pipe"></a><div class="titlepage"><div><h4 class="title"><a name="pipe"></a>Pipes</h4></div></div><div class="variablelist"><dl><dt><a name="d39e30746"></a><span class="term">Platform dependent: <a href="http://www.UNIX-systems.org/online.html" target="_top"><i>UNIX</i></a>, <a href="http://www.os2.org/" target="_top"><i>OS/2</i></a>, <a href="http://www.willows.com/" target="_top"><i>Win32</i></a>
    platforms only.</span></dt><dd><div class="variablelist"><dl><dt><a name="d39e30763"></a><span class="term"><tt>(<tt>ext:make-pipe-input-stream</tt>
    <i><tt>command</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <a href="#eltype"><tt>:element-type</tt></a> <a href="#extfmt"><tt>:external-format</tt></a>
    <a href="#buffered"><tt>:buffered</tt></a>)</tt></span></dt><dd><p>returns an input stream that will supply the output
  from the execution of the given operating system command.
  </p></dd><dt><a name="d39e30792"></a><span class="term"><tt>(<tt>ext:make-pipe-output-stream</tt>
   <i><tt>command</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <a href="#eltype"><tt>:element-type</tt></a> <a href="#extfmt"><tt>:external-format</tt></a>
   <a href="#buffered"><tt>:buffered</tt></a>)</tt></span></dt><dd><p>returns an output stream that will pass its output as
   input to the execution of the given operating system command.
  </p></dd><dt><a name="d39e30822"></a><span class="term"><tt>(<tt>ext:make-pipe-io-stream</tt>
   <i><tt>command</tt></i> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <a href="#eltype"><tt>:element-type</tt></a> <a href="#extfmt"><tt>:external-format</tt></a>
   <a href="#buffered"><tt>:buffered</tt></a>)</tt></span></dt><dd><p>returns three values.  The first value is a
  bidirectional stream that will simultaneously pass its output as input
  to the execution of the given operating system command and supply the
  output from this command as input. The second and third value will be
  the input stream and the output stream that make up the I/O stream,
  respectively.  Note that they must be closed individually.</p><p>Warning: Improper use of this function can lead to
  deadlocks.  Use it at your own risk!</p><p>A deadlock occurs if the command and your program either both
  try to read from each other at the same time or both try to write to
  each other at the same time. To avoid deadlocks, it is recommended
  that you fix a protocol between the command and your program and avoid
  any hidden buffering: use <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char.html" target="_top"><tt>READ-CHAR</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_read-char-no-hang.html" target="_top"><tt>READ-CHAR-NO-HANG</tt></a>, <a href="http://www.lisp.org/HyperSpec/Body/fun_listen.html" target="_top"><tt>LISTEN</tt></a>
  instead of <a href="http://www.lisp.org/HyperSpec/Body/fun_read-line.html" target="_top"><tt>READ-LINE</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_readcm_re_g-whitespace.html" target="_top"><tt>READ</tt></a> on the input side, and complete
  every output operation by a <a href="http://www.lisp.org/HyperSpec/Body/fun_finish-ou_clear-output.html" target="_top"><tt>FINISH-OUTPUT</tt></a>. The same cautions must
  apply to the called command as well.</p></dd></dl></div></dd></dl></div></div><div class="section"><a name="d39e30881"></a><div class="titlepage"><div><h4 class="title"><a name="d39e30881"></a>Printing</h4></div></div><p>The macro <i><tt>ext:with-output-to-printer</tt></i>:
<pre class="programlisting">
(ext:with-output-to-printer (<i><tt>var</tt></i> [<a href="#extfmt"><tt>:external-format</tt></a>])
  {<i><tt>declaration</tt></i>}*
  {<i><tt>form</tt></i>}*)
</pre>
 binds the variable <i><tt>var</tt></i> to an output stream
 that sends its output to the printer.</p></div></div><div class="section"><a name="dir-key"></a><div class="titlepage"><div><h3 class="title"><a name="dir-key"></a>Extensions-2.11. Directory Access</h3></div></div><p>When <a href="http://clisp.cons.org" target="_top"><b>CLISP</b></a> is configured with an option
 <tt>--with-dir-key</tt>, some directory access is available
 from lisp, in package &#8220;LISP&#8221;.  3 types of directory keys
 may exist, depending on the compilation environment.</p><div class="variablelist"><p><b>valid directory key types</b></p><dl><dt><a name="d39e30928"></a><span class="term">:win32</span></dt><dd><p><a href="http://www.willows.com/" target="_top"><i>Win32</i></a> registry access
  </p></dd><dt><a name="d39e30937"></a><span class="term">:gnome</span></dt><dd><p>Gnome-config access
  </p></dd><dt><a name="d39e30943"></a><span class="term">:ldap</span></dt><dd><p>LDAP interface via
   <a href="http://www.openldap.org" target="_top">OpenLDAP</a>.
  </p></dd></dl></div><p>The following functions and macros are exported (please note that
these features are experimental and the API may be modified in the
future).</p><div class="variablelist"><dl><dt><a name="dir-key-open"></a><span class="term"><tt>(<tt>ldap:dir-key-open</tt>
                <i><tt>dkey</tt></i>
                <i><tt>path</tt></i>
                <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> (<tt>:direction</tt> <tt>:input</tt>)
                          <tt>:if-does-not-exist</tt></tt></span></dt><dd><p>Open the directory key under
   <i><tt>dkey</tt></i>, which should be either an open
   directory key or a valid <a href="#dir-key-type">directory key
   type</a>.
   The meaning of the <tt>:direction</tt> and <tt>:if-does-not-exist</tt> keyword
   arguments is the same as for <a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a>.
  </p></dd><dt><a name="dir-key-close"></a><span class="term"><tt>(<tt>ldap:dir-key-close</tt>
                <i><tt>dkey</tt></i>)</tt></span></dt><dd><p>Close the directory key.
   The preferred way is to use the <a href="#with-dir-key-open"><tt>ldap:with-dir-key-open</tt></a> macro.
  </p></dd><dt><a name="with-dir-key-open"></a><span class="term"><tt>(<tt>ldap:with-dir-key-open</tt>
                (<i><tt>var</tt></i>
                 <i><tt>dkey</tt></i>
                 <i><tt>path</tt></i>
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;REST</tt></a> <i><tt>options</tt></i>)
                <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><tt>&amp;BODY</tt></a> <i><tt>body</tt></i>)</tt></span></dt><dd><p>Open the directory key (by calling <a href="#dir-key-open"><tt>ldap:dir-key-open</tt></a>
   on <i><tt>dkey</tt></i>, <i><tt>path</tt></i>
   and <i><tt>options</tt></i>), bind it to
   <i><tt>var</tt></i>, execute
   <i><tt>body</tt></i>, then close it with <a href="#dir-key-close"><tt>ldap:dir-key-close</tt></a>.
  </p></dd><dt><a name="d39e31072"></a><span class="term"><tt>(<tt>ldap:dir-key-type</tt>
                <i><tt>dkey</tt></i>)</tt></span></dt><dd><p>Return the <a href="#dir-key-type">type</a>
   of the directory key</p></dd><dt><a name="d39e31088"></a><span class="term"><tt>(<tt>ldap:dir-key-path</tt>
                <i><tt>dkey</tt></i>)</tt></span></dt><dd><p>Return the path of this directory key, which is the
   <i><tt>path</tt></i> argument of <a href="#dir-key-open"><tt>ldap:dir-key-open</tt></a>
   if <i><tt>dkey</tt></i> was a <a href="#dir-key-type">type</a> or the concatenation of the
   <i><tt>path</tt></i> argument and the
   <tt>ldap:dir-key-path</tt> of
   <i><tt>dkey</tt></i>.
   </p></dd><dt><a name="d39e31123"></a><span class="term"><tt>(<tt>ldap:dir-key-direction</tt>
                <i><tt>dkey</tt></i>)</tt></span></dt><dd><p>One of <tt>:input</tt>, <tt>:output</tt> and <tt>:io</tt>, indicating
   the permitted operation on this key and its derivatives.
   </p></dd><dt><a name="d39e31145"></a><span class="term"><tt>(<tt>ldap:dir-key-closed-p</tt>
                <i><tt>dkey</tt></i>)</tt></span></dt><dd><p>Check whether the key has been closed.
   It is not an error to close a closed key.
   </p></dd><dt><a name="d39e31158"></a><span class="term"><tt>(<tt>ldap:dir-key-subkey-delete</tt>
                <i><tt>dkey</tt></i>
                <i><tt>subkey</tt></i>)</tt>
   <tt>(<tt>ldap:dir-key-value-delete</tt>
                         <i><tt>dkey</tt></i>
                         <i><tt>attribute</tt></i>)</tt></span></dt><dd><p>Delete the specified subkey or attribute.
  </p></dd><dt><a name="d39e31186"></a><span class="term"><tt>(<tt>ldap:dir-key-subkey</tt>
                <i><tt>dkey</tt></i>)</tt>
  <tt>(<tt>ldap:dir-key-attributes</tt>
                <i><tt>dkey</tt></i>)</tt></span></dt><dd><p>Return the list of the subkeys or attributes.
  </p></dd><dt><a name="d39e31208"></a><span class="term"><tt>(<tt>ldap:dir-key-value</tt>
                <i><tt>dkey</tt></i>
                <i><tt>attribute</tt></i>
                <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;OPTIONAL</tt></a> <i><tt>default</tt></i>)
                </tt></span></dt><dd><p>Return the value of the specified attribute,
   similar to <a href="http://www.lisp.org/HyperSpec/Body/acc_gethash.html" target="_top"><tt>GETHASH</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><tt>SETF</tt></a>able just like <a href="http://www.lisp.org/HyperSpec/Body/acc_gethash.html" target="_top"><tt>GETHASH</tt></a>.
   </p></dd><dt><a name="d39e31243"></a><span class="term"><tt>(<tt>ldap:dir-key-info</tt>
                <i><tt>dkey</tt></i>)</tt></span></dt><dd><p>Return some information about the directory key.
   This is highly platform-dependent and will probably be removed or
   replaced or modified in the future.</p></dd><dt><a name="d39e31256"></a><span class="term"><tt>(<tt>with-dir-key-search</tt>
                (<i><tt>key-iter</tt></i>
                 <i><tt>atribute-iter</tt></i>
                 <i><tt>dkey</tt></i>
                 <i><tt>path</tt></i>
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><tt>&amp;KEY</tt></a> <tt>:scope</tt>)
                 <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><tt>&amp;BODY</tt></a> <i><tt>body</tt></i>)</tt></span></dt><dd><p>This is the main way to iterate over the subtree
   under the key
   <i><tt>dkey</tt></i>+<i><tt>path</tt></i>.
   </p><p><i><tt>key-iter</tt></i> is a non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a> symbol
    and is bound via <a href="http://www.lisp.org/HyperSpec/Body/speope_fletcm_scm_macrolet.html" target="_top"><tt>MACROLET</tt></a> to a macro, each call of which returns
    the next subkey.</p><p><i><tt>atribute-iter</tt></i> is a symbol and is
    bound, when non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><tt>NIL</tt></a>, to a macro, each call of which returns two
   values - the next attribute and its value.</p><p>The <tt>:scope</tt> keyword argument specifies the
    scope of the search and can be
   <div class="variablelist"><dl><dt><a name="d39e31324"></a><span class="term"><tt>:self</tt></span></dt><dd><p>iterate over the key itself
     </p></dd><dt><a name="d39e31331"></a><span class="term"><tt>:level</tt></span></dt><dd><p>iterate over the children of the key
     </p></dd><dt><a name="d39e31338"></a><span class="term"><tt>:tree</tt></span></dt><dd><p>iterate over the subtree
     </p></dd></dl></div></p><p><tt>with-dir-key-search</tt> is used to
    implement <tt>dir-key-values</tt>,
    <tt>dir-key-childred</tt> and
    <tt>dir-key-dump-tree</tt> in
    <tt>dirkey.lisp</tt>.
    </p></dd></dl></div></div><div class="section"><a name="other"></a><div class="titlepage"><div><h3 class="title"><a name="other"></a>Extensions-2.12. Other</h3></div></div><div class="variablelist"><dl><dt><a name="d39e31367"></a><span class="term">Platform dependent: <a href="http://www.amiga.org/" target="_top"><i>Amiga</i></a> platforms only.</span></dt><dd><p><a name="d39e31374"></a>To have <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><tt>*DEBUG-IO*</tt></a> and <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><tt>*ERROR-OUTPUT*</tt></a> point
 to separate console windows (thus keeping your standard console window
 clean from error messages) you can use
<pre class="programlisting">
  (<a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><tt>SETQ</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><tt>*ERROR-OUTPUT*</tt></a>
    (<a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><tt>SETQ</tt></a> <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><tt>*DEBUG-IO*</tt></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><tt>OPEN</tt></a> "CON:0/0/500/300/CLISP-Debugger/AUTO/CLOSE"
              <tt>:direction</tt> <tt>:io</tt>)))
</pre>
at startup.
</p></dd></dl></div></div></div></div><div id="d39e31416" class="bibliography"><div class="titlepage"><div><h2 class="title"><a name="d39e31416"></a>References</h2></div></div><div class="bibliodiv"><h3 class="title"><a name="d39e31419">Books</a></h3><div id="CLtL1" class="biblioentry"><a name="CLtL1"></a><p><span class="abbrev">[CLtL1] </span><span class="authorgroup">Guy L. Steele, Jr.. </span><span class="pubdate">1984. </span><span class="pagenums">465. </span><span class="isbn">0-201-10088-6. </span><span class="publisher"><span class="publishername">Digital Press. </span></span><span class="citetitle"><i>Common Lisp: the Language (1st Edition)</i>. </span></p></div><div id="CLtL2" class="biblioentry"><a name="CLtL2"></a><p><span class="abbrev">[CLtL2] </span><span class="authorgroup">Guy L. Steele, Jr.. </span><span class="pubdate">1990. </span><span class="pagenums">1032. </span><span class="isbn">0-201-10088-6. </span><span class="publisher"><span class="publishername">Digital Press. </span></span><span class="citetitle"><i><a href="http://www.cs.cmu.edu/afs/cs.cmu.edu/project/ai-repository/ai/html/cltl/cltl2.html" target="_top">Common Lisp: the Language (2nd Edition)</a></i>. </span></p></div></div><div class="bibliodiv"><h3 class="title"><a name="d39e31467">ANSI standard documents</a></h3><div id="ansi-cl" class="biblioentry"><a name="ansi-cl"></a><p><span class="abbrev">[ANSI CL] </span><span class="pubdate">1994. </span><span class="citetitle"><i>ANSI Common Lisp standard X3.226-1994 -
       <a href="http://www.x3.org/tc_home/j13sd4.htm" target="_top">Information
       Technology - Programming Language - Common Lisp</a></i>. </span></p></div><div id="CLHS" class="biblioentry"><a name="CLHS"></a><p><span class="abbrev">[CLHS] </span><span class="citetitle"><i><a href="http://www.lisp.org/HyperSpec/FrontMatter/" target="_top">Common Lisp HyperSpec</a></i>. </span></p></div></div></div></div></body></html>