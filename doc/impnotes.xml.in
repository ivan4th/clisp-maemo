<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V@DTDVER@//EN"
          "@DTD@" [
  <!ENTITY % cl-entities SYSTEM "cl-ent.xml">
  %cl-entities;
  <!ENTITY % imp-entities SYSTEM "impent.xml">
  %imp-entities;
  <!ENTITY % unix-entities SYSTEM "unix-ent.xml">
  %unix-entities;
  <!ENTITY % mop-entities SYSTEM "mop-ent.xml">
  %mop-entities;
  <!ENTITY imp-body SYSTEM "impbody.xml">
  <!ENTITY imp-issues SYSTEM "impissue.xml">
  <!ENTITY gray-sec SYSTEM "gray.xml">
  <!ENTITY mop-sec SYSTEM "mop.xml">
  <!ENTITY imp-ext SYSTEM "impext.xml">
  <!ENTITY imp-byte SYSTEM "impbyte.xml">
  <!ENTITY dirkey SYSTEM "../modules/dirkey/dirkey.xml">
  <!ENTITY % ent-bdb SYSTEM "../modules/berkeley-db/ent-bdb.xml">
  %ent-bdb;
  <!ENTITY berkeley-db SYSTEM "../modules/berkeley-db/berkeley-db.xml">
  <!ENTITY oracle SYSTEM "../modules/oracle/oracle.xml">
  <!ENTITY fastcgi SYSTEM "../modules/fastcgi/fastcgi.xml">
  <!ENTITY netica SYSTEM "../modules/netica/netica.xml">
  <!ENTITY matlab SYSTEM "../modules/matlab/matlab.xml">
  <!ENTITY regexp SYSTEM "../modules/regexp/regexp.xml">
  <!ENTITY pcre SYSTEM "../modules/pcre/pcre.xml">
  <!ENTITY rawsock SYSTEM "../modules/rawsock/rawsock.xml">
  <!ENTITY syscalls SYSTEM "../modules/syscalls/syscalls.xml">
  <!ENTITY zlib SYSTEM "../modules/zlib/zlib.xml">
  <!ENTITY gfdl-text SYSTEM "http://www.gnu.org/licenses/fdl.xml">
  <!ENTITY gpl-text SYSTEM "http://www.gnu.org/licenses/gpl.xml">
]>

<book id="impnotes-top"><title>Implementation Notes for &gnu; &clisp;.</title>
<titleabbrev>&clisp; impnotes</titleabbrev>

<bookinfo id="book-info-title-page">
 <title>Implementation Notes for &gnu; &clisp;.</title>
 <subtitle>These notes document &clisp; version @VERSION@.</subtitle>
 <graphic srccredit="[CLISP icon]" align="center"
          fileref="clisp.png" width="48" depth="48"/>
 <date>Last modified: @TODAY@</date>
 <author id="bruno"><honorific>Dr</honorific> <firstname>Bruno</firstname>
  <surname>Haible</surname></author>
 <author id="sds"><honorific>Dr</honorific> <firstname>Sam</firstname>
  <surname>Steingold</surname></author>
 <authorblurb><para>Bugs in both these notes and &clisp; itself should
   be reported to the mailing list &clisp-list;.</para></authorblurb>
 <copyright><year>1992-2004</year><holder>Bruno Haible</holder></copyright>
 <copyright><year>1998-2004</year><holder>Sam Steingold</holder></copyright>

 <legalnotice id="legalese">
  <para>These notes are dually licensed under &gnu; &gfdl; and &gnu; &gpl;.
   This means that you can redistribute this document under
   either of these two licenses, at your choice.</para>
  <formalpara><title>These notes are covered by the &gnu; &gfdl;.</title>
   <para>Permission is granted to copy, distribute and/or modify this
    document under the terms of the GNU Free Documentation License
    (&gfdl;), either version 1.2 of the License, or (at your option) any
    later version published by the &fsf;;
    with no Invariant Sections,
    with no Front-Cover Text, and
    with no Back-Cover Texts.
    A copy of the license is included in <xref linkend="gfdl"/>.
  </para></formalpara>
  <formalpara><title>These notes are covered by the &gnu; &gpl;.</title>
   <para>This document documents free software; you can redistribute it
    and/or modify it under the terms of the GNU General Public License
    (&gpl;), either version 2 of the License, or (at your option) any
    later version published by the &fsf;.
    A copy of the license is included in <xref linkend="gpl"/>.
  </para></formalpara>
 </legalnotice>
 <keywordset>
   <keyword>Lisp</keyword>
   <keyword>Common Lisp</keyword>
   <keyword>CLISP</keyword>
 </keywordset>
</bookinfo>

<preface id="overview"><title>Overview</title>

<para>These notes discuss the &clisp; implementation of &cl; by
<blockquote><address>
 <honorific>Dr</honorific> <firstname>Bruno</firstname> <surname>Haible</surname>
 <street>Louisenstra&szlig;e 103</street>
 <city>Bad Homburg</city>
 <postcode>D-61348</postcode> <country>Germany</country>
 <otheraddr><ulink url="http://www.haible.de/bruno/">http://www.haible.de/bruno/</ulink></otheraddr>
</address></blockquote>
 and
<blockquote><address>
 <honorific>Dr</honorific> <firstname>Michael</firstname> <surname>Stoll</surname>
 <street>Westerwaldweg 22</street>
 <city>Remagen-Oberwinter</city>
 <postcode>D-53424</postcode> <country>Germany</country>
 <otheraddr><ulink url="http://www.math.uni-duesseldorf.de/~stoll/">http://www.math.uni-duesseldorf.de/~stoll/</ulink></otheraddr>
</address></blockquote>
The current maintainers are
<blockquote><address>
  <honorific>Dr</honorific> <firstname>Bruno</firstname> <surname>Haible</surname>
</address></blockquote>
and
<blockquote><address>
  <honorific>Dr</honorific> <firstname>Sam</firstname> <surname>Steingold</surname>
  <otheraddr><ulink url="http://www.podval.org/~sds/">http://www.podval.org/~sds/</ulink></otheraddr>
</address></blockquote>
</para>

<para>This implementation is mostly conforming to the &ansi-cl;
 available on-line as the &hyperspec; (but the printed ANSI document
 remains the authoritative source of information).  &ansi-cl; supersedes
 the earlier specifications &cltl1; and &cltl2;.</para>

<para>The <link linkend="clhs-chapters">first part</link> of these notes
 is indexed in parallel to the &hyperspec; and documents how &clisp;
 implements the standard &ansi-cl;, including the &amop;.</para>

<para>The <link linkend="extensions">second part</link> documents the
 &clisp; extensions, i.e., the functionality that goes beyond the
 &ansi-cl; requirements.</para>

<para>The <link linkend="internals">third part</link> is intended mostly
 for developers as it documents the &clisp; internals, e.g., &gc;ion,
 adding new built-ins, and the bytecodes generated by the compiler
 (i.e., what is printed by &disassemble;).</para>

</preface>

<preface id="conventions"><title>Conventions</title>
<para>The following is the mark-up notations used in this document:
 <informaltable frame="all">
  <tgroup cols="2" colsep="1" rowsep="1" align="center">
   <thead><row><entry>Object Kind</entry><entry>Example</entry></row></thead>
   <tbody><row><entry>Function</entry><entry>&car;</entry></row>
    <row><entry>Variable</entry><entry>&load-paths;</entry></row>
    <row><entry>Formal Argument</entry><entry>&x-r;</entry></row>
    <row><entry>Keyword</entry><entry>&eof-k;</entry></row>
    <row><entry>Number</entry><entry>&zero;</entry></row>
    <row><entry>Character</entry><entry>&nl-s;</entry></row>
    <row><entry>Class, type</entry><entry>&match-t;</entry></row>
    <row><entry>Format instruction</entry><entry>&format-a;</entry></row>
    <row><entry>&lalist; keyword</entry><entry>&key-amp;</entry></row>
    <row><entry>Declaration</entry><entry>&ftype-dec;</entry></row>
    <row><entry>Package</entry><entry>&clu-pac;</entry></row>
    <row><entry>SEXP (you are likely to type it)</entry>
     <entry><literal role="sexp">(&cons; 1 2)</literal></entry></row>
    <row><entry>Data (&clisp; is likely to print it)</entry>
     <entry><literal role="data">#(1 2 3)</literal></entry></row>
    <row><entry>Code sample</entry><entry><programlisting>
(defun cycle-length (n &optional-amp; (len 1) (top 0))
  (cond ((= n 1) (values len top))
        ((evenp n) (cycle-length (ash n -1) (1+ len) (max top n)))
        (t (let ((next (1+ (* 3 n))))
             (cycle-length next (1+ len) (max top next))))))
    </programlisting></entry></row>
    <row><entry>Bytecode</entry><entry><literal role="byte">(STOREV
       &k-r; &m-r;)</literal></entry></row>
    <row><entry>first mention of an entity</entry>
     <entry><firstterm>firstterm</firstterm></entry></row>
</tbody></tgroup></informaltable></para></preface>

<part id="clhs-chapters"><title>Chapters or the &hyperspec;</title>

&imp-body;

&imp-issues;

</part>

<part id="extensions"><title>Extensions</title>

<chapter id="ext-standard"><title>Standard Widely Portable Extensions</title>
&mop-sec;
&gray-sec;
</chapter>

&imp-ext;

</part>

&imp-byte;

&gfdl-text;
&gpl-text;

<index id="idx"/>

<bibliography id="references">
 <title>References</title>
 <bibliodiv id="ref-books"><title>Books</title>
  &cltl1-bib;
  &cltl2-bib;
  &amop-bib;
 </bibliodiv>
 <bibliodiv id="ref-ansi"><title>ANSI standard documents</title>
  &ansi-cl-bib;
  &hyperspec-bib;
 </bibliodiv>
</bibliography>

</book>
